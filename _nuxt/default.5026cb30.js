import{i as Pe,u as Dw,r as On,q as hd,f as Ht,k as Ra,s as md,x as gd,o as Tt,c as Zt,a as Xt,m as kt,F as vd,h as yd,j as Vr,w as Yn,d as va,t as ni,y as Yu,z as Mt,_ as Oo,b as ln,A as ja,B as bd,C as wd,D as xa,E as kd,G as xd,H as Lw,I as _d,J as dr,T as Md,K as zw,L as Rw,M as jw,N as Bw,O as Pw,P as Hw,l as Fw,n as ap}from"./entry.8d9d0832.js";import{_ as qw}from"./nuxt-link.ffb216c0.js";import{_ as Vw}from"./svg-icon.vue.d4832344.js";const Ww=n=>Object.fromEntries(Object.entries(n).filter(([,t])=>t!==void 0)),Kw=(n,t)=>(e,o)=>(Dw(()=>n({...Ww(e),...o.attrs},o)),()=>{var i,s;return t?(s=(i=o.slots).default)==null?void 0:s.call(i):null}),Uw=Pe({name:"Title",inheritAttrs:!1,setup:Kw((n,{slots:t})=>{var e,o,i;return{title:((i=(o=(e=t.default)==null?void 0:e.call(t))==null?void 0:o[0])==null?void 0:i.children)||null}})}),Jw=Pe({name:"Head",inheritAttrs:!1,setup:(n,t)=>()=>{var e,o;return(o=(e=t.slots).default)==null?void 0:o.call(e)}}),sp=-30,Gw=Pe({__name:"DefaultAside",props:{list:{type:Array,required:!0}},setup(n){const t=n,e=On(null),o=hd({radius:0,centerX:0,centerY:0}),i=On(sp);function s(){if(!e.value)return!1;o.radius=e.value.clientWidth/2,o.centerX=e.value.clientWidth/2,o.centerY=e.value.clientHeight/2}const u=Ht(()=>d=>{const g=60/t.list.length*d+i.value,b=o.centerX+o.radius/1.1*Math.cos(g*Math.PI/180),w=o.centerY+o.radius*Math.sin(g*Math.PI/180);return{left:`${b}px`,top:`${w}px`,transform:`rotate(${g}deg) translate(${o.radius/2}px) rotate(${-g}deg)`}});Ra(()=>{s()});const l=On(null);function f(){if(!l.value)return!1;const d=[{transform:"rotate(0)"},{transform:"rotate(360deg)"}];l.value.animate(d,{duration:1600,iterations:1,easing:"cubic-bezier(0.88, 0, 0.16, 1)"})}const h=md();return gd(()=>h.path,d=>{f(),i.value=sp+t.list.findIndex(g=>g.path===d)*-4}),(d,g)=>{const b=qw;return Tt(),Zt("aside",null,[Xt("div",{class:kt(d.$style.wrapper)},[Xt("div",{ref_key:"baseShapeRef",ref:e,class:kt(d.$style.shape)},[Xt("div",{ref_key:"blackShape",ref:l,class:kt(d.$style.blackShape)},null,2),(Tt(!0),Zt(vd,null,yd(n.list,(w,C)=>(Tt(),Vr(b,{key:w.path,to:w.path,style:Yu(Mt(u)(C)),class:kt(d.$style.item)},{default:Yn(()=>[va(ni(w.name),1)]),_:2},1032,["to","style","class"]))),128))],2)],2)])}}}),Yw="_wrapper_o9mh9_4",Zw="_shape_o9mh9_12",Xw="_blackShape_o9mh9_37",Qw="_item_o9mh9_50",tk={wrapper:Yw,shape:Zw,blackShape:Xw,item:Qw},ek={$style:tk},nk=Oo(Gw,[["__cssModules",ek]]),rk=Pe({__name:"UiIcon",props:{name:{type:String,required:!0},size:{type:String,default:"medium",validator:n=>["medium","custom"].includes(n)}},setup(n){const t=n,e=Ht(()=>[[`--${t.size}-size`]]);return(o,i)=>{const s=Vw;return Tt(),Zt("div",{class:kt(["UiIcon",Mt(e)])},[ln(s,{name:n.name,class:"UiIcon__el"},null,8,["name"])],2)}}});var ok=Object.defineProperty,ik=(n,t,e)=>t in n?ok(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,ak=(n,t,e)=>(ik(n,typeof t!="symbol"?t+"":t,e),e);const up="Ui",Sd={classPrefix:{type:[String,null],default:null}};function Cd(n){return{getClassName:Ht(()=>t=>[{[`${up}${t}`]:up,[`${n.classPrefix}${t}`]:!!n.classPrefix}])}}const sk={tag:{type:String,default:"button",validator:n=>["button","a","NuxtLink","RouterLink","span"].includes(n)}};function uk(n){const t=xd(),e=Ht(()=>t.to?"RouterLink":t.href?"a":n.tag?n.tag:"button"),o=Ht(()=>[{"--is-interactive":["NuxtLink","RouterLink","a","button"].includes(e.value)}]);return{componentTag:e,routableClassList:o}}const ck={size:{type:String,default:"medium",validator:n=>["x-small","small","medium","large","x-large","xx-large","custom"].includes(n)}};function lk(n){return{sizeClassList:Ht(()=>[{[`--${n.size}-size`]:n.size}])}}const fk={color:{type:[String,null],default:null}};function pk(n){return{colorClassList:Ht(()=>[{[`--${n.color}-color`]:n.color}])}}const dk={active:{type:Boolean,default:!1},interesting:{type:Boolean,default:!1},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:[String,Number,null,Boolean],default:null},loading:{type:Boolean,default:!1}};function hk(n){return{stateClassList:Ht(()=>[{"--is-active":n.active,"--is-interesting":n.interesting,"--is-disabled":n.disabled,"--is-error":n.error,"--is-required":n.required,"--is-loading":n.loading}])}}const mk={outline:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},icon:{type:Boolean,default:!1}};function gk(n){return{styleClassList:Ht(()=>[{"--is-solid":!n.outline,"--is-outline":n.outline,"--is-rounded":n.rounded,"--is-icon":n.icon}])}}const vk=Pe({__name:"UiButton",props:{...sk,...Sd,...ck,...fk,...dk,...mk},setup(n){const t=n,{getClassName:e}=Cd(t),{componentTag:o,routableClassList:i}=uk(t),{sizeClassList:s}=lk(t),{colorClassList:u}=pk(t),{stateClassList:l}=hk(t),{styleClassList:f}=gk(t),h=Ht(()=>[i.value,s.value,u.value,l.value,f.value]);return(d,g)=>(Tt(),Vr(kd(Mt(o)),xa(d.$attrs,{class:[Mt(e)("Button"),h.value]}),{default:Yn(()=>[ja(d.$slots,"default",bd(wd(t)))]),_:3},16,["class"]))}});function be(n){this.content=n}be.prototype={constructor:be,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,e){var o=e&&e!=n?this.remove(e):this,i=o.find(n),s=o.content.slice();return i==-1?s.push(e||n,t):(s[i+1]=t,e&&(s[i]=e)),new be(s)},remove:function(n){var t=this.find(n);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new be(e)},addToStart:function(n,t){return new be([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new be(e)},addBefore:function(n,t,e){var o=this.remove(t),i=o.content.slice(),s=o.find(n);return i.splice(s==-1?i.length:s,0,t,e),new be(i)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=be.from(n),n.size?new be(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=be.from(n),n.size?new be(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=be.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},toObject:function(){var n={};return this.forEach(function(t,e){n[t]=e}),n},get size(){return this.content.length>>1}};be.from=function(n){if(n instanceof be)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new be(t)};function Td(n,t,e){for(let o=0;;o++){if(o==n.childCount||o==t.childCount)return n.childCount==t.childCount?null:e;let i=n.child(o),s=t.child(o);if(i==s){e+=i.nodeSize;continue}if(!i.sameMarkup(s))return e;if(i.isText&&i.text!=s.text){for(let u=0;i.text[u]==s.text[u];u++)e++;return e}if(i.content.size||s.content.size){let u=Td(i.content,s.content,e+1);if(u!=null)return u}e+=i.nodeSize}}function Od(n,t,e,o){for(let i=n.childCount,s=t.childCount;;){if(i==0||s==0)return i==s?null:{a:e,b:o};let u=n.child(--i),l=t.child(--s),f=u.nodeSize;if(u==l){e-=f,o-=f;continue}if(!u.sameMarkup(l))return{a:e,b:o};if(u.isText&&u.text!=l.text){let h=0,d=Math.min(u.text.length,l.text.length);for(;h<d&&u.text[u.text.length-h-1]==l.text[l.text.length-h-1];)h++,e--,o--;return{a:e,b:o}}if(u.content.size||l.content.size){let h=Od(u.content,l.content,e-1,o-1);if(h)return h}e-=f,o-=f}}class F{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let o=0;o<t.length;o++)this.size+=t[o].nodeSize}nodesBetween(t,e,o,i=0,s){for(let u=0,l=0;l<e;u++){let f=this.content[u],h=l+f.nodeSize;if(h>t&&o(f,i+l,s||null,u)!==!1&&f.content.size){let d=l+1;f.nodesBetween(Math.max(0,t-d),Math.min(f.content.size,e-d),o,i+d)}l=h}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,o,i){let s="",u=!0;return this.nodesBetween(t,e,(l,f)=>{l.isText?(s+=l.text.slice(Math.max(t,f)-f,e-f),u=!o):l.isLeaf?(i?s+=typeof i=="function"?i(l):i:l.type.spec.leafText&&(s+=l.type.spec.leafText(l)),u=!o):!u&&l.isBlock&&(s+=o,u=!0)},0),s}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,o=t.firstChild,i=this.content.slice(),s=0;for(e.isText&&e.sameMarkup(o)&&(i[i.length-1]=e.withText(e.text+o.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new F(i,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let o=[],i=0;if(e>t)for(let s=0,u=0;u<e;s++){let l=this.content[s],f=u+l.nodeSize;f>t&&((u<t||f>e)&&(l.isText?l=l.cut(Math.max(0,t-u),Math.min(l.text.length,e-u)):l=l.cut(Math.max(0,t-u-1),Math.min(l.content.size,e-u-1))),o.push(l),i+=l.nodeSize),u=f}return new F(o,i)}cutByIndex(t,e){return t==e?F.empty:t==0&&e==this.content.length?this:new F(this.content.slice(t,e))}replaceChild(t,e){let o=this.content[t];if(o==e)return this;let i=this.content.slice(),s=this.size+e.nodeSize-o.nodeSize;return i[t]=e,new F(i,s)}addToStart(t){return new F([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new F(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,o=0;e<this.content.length;e++){let i=this.content[e];t(i,o,e),o+=i.nodeSize}}findDiffStart(t,e=0){return Td(this,t,e)}findDiffEnd(t,e=this.size,o=t.size){return Od(this,t,e,o)}findIndex(t,e=-1){if(t==0)return fa(0,t);if(t==this.size)return fa(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let o=0,i=0;;o++){let s=this.child(o),u=i+s.nodeSize;if(u>=t)return u==t||e>0?fa(o+1,u):fa(o,i);i=u}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return F.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return F.empty;let e,o=0;for(let i=0;i<t.length;i++){let s=t[i];o+=s.nodeSize,i&&s.isText&&t[i-1].sameMarkup(s)?(e||(e=t.slice(0,i)),e[e.length-1]=s.withText(e[e.length-1].text+s.text)):e&&e.push(s)}return new F(e||t,o)}static from(t){if(!t)return F.empty;if(t instanceof F)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new F([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const cu={index:0,offset:0};function fa(n,t){return cu.index=n,cu.offset=t,cu}function Eu(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(!Eu(n[o],t[o]))return!1}else{for(let o in n)if(!(o in t)||!Eu(n[o],t[o]))return!1;for(let o in t)if(!(o in n))return!1}return!0}let Sn=class Iu{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,o=!1;for(let i=0;i<t.length;i++){let s=t[i];if(this.eq(s))return t;if(this.type.excludes(s.type))e||(e=t.slice(0,i));else{if(s.type.excludes(this.type))return t;!o&&s.type.rank>this.type.rank&&(e||(e=t.slice(0,i)),e.push(this),o=!0),e&&e.push(s)}}return e||(e=t.slice()),o||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Eu(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let o=t.marks[e.type];if(!o)throw new RangeError(`There is no mark type ${e.type} in this schema`);return o.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let o=0;o<t.length;o++)if(!t[o].eq(e[o]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Iu.none;if(t instanceof Iu)return[t];let e=t.slice();return e.sort((o,i)=>o.type.rank-i.type.rank),e}};Sn.none=[];class yk extends Error{}class K{constructor(t,e,o){this.content=t,this.openStart=e,this.openEnd=o}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let o=Ed(this.content,t+this.openStart,e);return o&&new K(o,this.openStart,this.openEnd)}removeBetween(t,e){return new K(Ad(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return K.empty;let o=e.openStart||0,i=e.openEnd||0;if(typeof o!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new K(F.fromJSON(t,e.content),o,i)}static maxOpen(t,e=!0){let o=0,i=0;for(let s=t.firstChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.firstChild)o++;for(let s=t.lastChild;s&&!s.isLeaf&&(e||!s.type.spec.isolating);s=s.lastChild)i++;return new K(t,o,i)}}K.empty=new K(F.empty,0,0);function Ad(n,t,e){let{index:o,offset:i}=n.findIndex(t),s=n.maybeChild(o),{index:u,offset:l}=n.findIndex(e);if(i==t||s.isText){if(l!=e&&!n.child(u).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(o!=u)throw new RangeError("Removing non-flat range");return n.replaceChild(o,s.copy(Ad(s.content,t-i-1,e-i-1)))}function Ed(n,t,e,o){let{index:i,offset:s}=n.findIndex(t),u=n.maybeChild(i);if(s==t||u.isText)return o&&!o.canReplace(i,i,e)?null:n.cut(0,t).append(e).append(n.cut(t));let l=Ed(u.content,t-s-1,e);return l&&n.replaceChild(i,u.copy(l))}class $u{constructor(t,e,o){this.$from=t,this.$to=e,this.depth=o}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}class fi{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(o=>{o.tag?this.tags.push(o):o.style&&this.styles.push(o)}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,e={}){let o=new lp(this,e,!1);return o.addAll(t,e.from,e.to),o.finish()}parseSlice(t,e={}){let o=new lp(this,e,!0);return o.addAll(t,e.from,e.to),K.maxOpen(o.finish())}matchTag(t,e,o){for(let i=o?this.tags.indexOf(o)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(kk(t,s.tag)&&(s.namespace===void 0||t.namespaceURI==s.namespace)&&(!s.context||e.matchesContext(s.context))){if(s.getAttrs){let u=s.getAttrs(t);if(u===!1)continue;s.attrs=u||void 0}return s}}}matchStyle(t,e,o,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let u=this.styles[s],l=u.style;if(!(l.indexOf(t)!=0||u.context&&!o.matchesContext(u.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=e))){if(u.getAttrs){let f=u.getAttrs(e);if(f===!1)continue;u.attrs=f||void 0}return u}}}static schemaRules(t){let e=[];function o(i){let s=i.priority==null?50:i.priority,u=0;for(;u<e.length;u++){let l=e[u];if((l.priority==null?50:l.priority)<s)break}e.splice(u,0,i)}for(let i in t.marks){let s=t.marks[i].spec.parseDOM;s&&s.forEach(u=>{o(u=fp(u)),u.mark||u.ignore||u.clearMark||(u.mark=i)})}for(let i in t.nodes){let s=t.nodes[i].spec.parseDOM;s&&s.forEach(u=>{o(u=fp(u)),u.node||u.ignore||u.mark||(u.node=i)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new fi(t,fi.schemaRules(t)))}}const Id={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},bk={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},$d={ol:!0,ul:!0},_a=1,Ma=2,ri=4;function cp(n,t,e){return t!=null?(t?_a:0)|(t==="full"?Ma:0):n&&n.whitespace=="pre"?_a|Ma:e&~ri}class pa{constructor(t,e,o,i,s,u,l){this.type=t,this.attrs=e,this.marks=o,this.pendingMarks=i,this.solid=s,this.options=l,this.content=[],this.activeMarks=Sn.none,this.stashMarks=[],this.match=u||(l&ri?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(F.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let o=this.type.contentMatch,i;return(i=o.findWrapping(t.type))?(this.match=o,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&_a)){let o=this.content[this.content.length-1],i;if(o&&o.isText&&(i=/[ \t\r\n\u000c]+$/.exec(o.text))){let s=o;o.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let e=F.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,o=this.pendingMarks;e<o.length;e++){let i=o[e];(this.type?this.type.allowsMarkType(i.type):_k(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Id.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class lp{constructor(t,e,o){this.parser=t,this.options=e,this.isOpen=o,this.open=0;let i=e.topNode,s,u=cp(null,e.preserveWhitespace,0)|(o?ri:0);i?s=new pa(i.type,i.attrs,Sn.none,Sn.none,!0,e.topMatch||i.type.contentMatch,u):o?s=new pa(null,null,Sn.none,Sn.none,!0,null,u):s=new pa(t.schema.topNodeType,null,Sn.none,Sn.none,!0,null,u),this.nodes=[s],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){let e=t.getAttribute("style");if(!e)this.addElement(t);else{let o=this.readStyles(xk(e));if(!o)return;let[i,s]=o,u=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],u);for(let l=0;l<i.length;l++)this.addPendingMark(i[l]);this.addElement(t);for(let l=0;l<i.length;l++)this.removePendingMark(i[l],u);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}}}addTextNode(t){let e=t.nodeValue,o=this.top;if(o.options&Ma||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(o.options&_a)o.options&Ma?e=e.replace(/\r\n?/g,`
`):e=e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let i=o.content[o.content.length-1],s=t.previousSibling;(!i||s&&s.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let o=t.nodeName.toLowerCase(),i;$d.hasOwnProperty(o)&&this.parser.normalizeLists&&wk(t);let s=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,e));if(s?s.ignore:bk.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(t=s.skip);let u,l=this.top,f=this.needsBlock;if(Id.hasOwnProperty(o))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),u=!0,l.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),u&&this.sync(l),this.needsBlock=f}else this.addElementByRule(t,s,s.consuming===!1?i:void 0)}leafFallback(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))}ignoreFallback(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=Sn.none,o=Sn.none;for(let i=0;i<t.length;i+=2)for(let s=void 0;;){let u=this.parser.matchStyle(t[i],t[i+1],this,s);if(!u)break;if(u.ignore)return null;if(u.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{u.clearMark(l)&&(o=l.addToSet(o))}):e=this.parser.schema.marks[u.mark].create(u.attrs).addToSet(e),u.consuming===!1)s=u;else break}return[e,o]}addElementByRule(t,e,o){let i,s,u;e.node?(s=this.parser.schema.nodes[e.node],s.isLeaf?this.insertNode(s.create(e.attrs))||this.leafFallback(t):i=this.enter(s,e.attrs||null,e.preserveWhitespace)):(u=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(u));let l=this.top;if(s&&s.isLeaf)this.findInside(t);else if(o)this.addElement(t,o);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(f=>this.insertNode(f));else{let f=t;typeof e.contentElement=="string"?f=t.querySelector(e.contentElement):typeof e.contentElement=="function"?f=e.contentElement(t):e.contentElement&&(f=e.contentElement),this.findAround(t,f,!0),this.addAll(f)}i&&this.sync(l)&&this.open--,u&&this.removePendingMark(u,l)}addAll(t,e,o){let i=e||0;for(let s=e?t.childNodes[e]:t.firstChild,u=o==null?null:t.childNodes[o];s!=u;s=s.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(s);this.findAtPoint(t,i)}findPlace(t){let e,o;for(let i=this.open;i>=0;i--){let s=this.nodes[i],u=s.findWrapping(t);if(u&&(!e||e.length>u.length)&&(e=u,o=s,!u.length)||s.solid)break}if(!e)return!1;this.sync(o);for(let i=0;i<e.length;i++)this.enterInner(e[i],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let o=e.activeMarks;for(let i=0;i<t.marks.length;i++)(!e.type||e.type.allowsMarkType(t.marks[i].type))&&(o=t.marks[i].addToSet(o));return e.content.push(t.mark(o)),!0}return!1}enter(t,e,o){let i=this.findPlace(t.create(e));return i&&this.enterInner(t,e,!0,o),i}enterInner(t,e=null,o=!1,i){this.closeExtra();let s=this.top;s.applyPending(t),s.match=s.match&&s.match.matchType(t);let u=cp(t,i,s.options);s.options&ri&&s.content.length==0&&(u|=ri),this.nodes.push(new pa(t,e,s.activeMarks,s.pendingMarks,o,null,u)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let o=this.nodes[e].content;for(let i=o.length-1;i>=0;i--)t+=o[i].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==t&&this.find[o].offset==e&&(this.find[o].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,o){if(t!=e&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&e.compareDocumentPosition(this.find[i].node)&(o?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),o=this.options.context,i=!this.isOpen&&(!o||o.parent.type==this.nodes[0].type),s=-(o?o.depth+1:0)+(i?0:1),u=(l,f)=>{for(;l>=0;l--){let h=e[l];if(h==""){if(l==e.length-1||l==0)continue;for(;f>=s;f--)if(u(l-1,f))return!0;return!1}else{let d=f>0||f==0&&i?this.nodes[f].type:o&&f>=s?o.node(f-s).type:null;if(!d||d.name!=h&&d.groups.indexOf(h)==-1)return!1;f--}}return!0};return u(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let o=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(o&&o.isTextblock&&o.defaultAttrs)return o}for(let e in this.parser.schema.nodes){let o=this.parser.schema.nodes[e];if(o.isTextblock&&o.defaultAttrs)return o}}addPendingMark(t){let e=Mk(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let o=this.open;o>=0;o--){let i=this.nodes[o];if(i.pendingMarks.lastIndexOf(t)>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);let s=i.popFromStashMark(t);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==e)break}}}function wk(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let o=t.nodeType==1?t.nodeName.toLowerCase():null;o&&$d.hasOwnProperty(o)&&e?(e.appendChild(t),t=e):o=="li"?e=t:o&&(e=null)}}function kk(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function xk(n){let t=/\s*([\w-]+)\s*:\s*([^;]+)/g,e,o=[];for(;e=t.exec(n);)o.push(e[1],e[2].trim());return o}function fp(n){let t={};for(let e in n)t[e]=n[e];return t}function _k(n,t){let e=t.schema.nodes;for(let o in e){let i=e[o];if(!i.allowsMarkType(n))continue;let s=[],u=l=>{s.push(l);for(let f=0;f<l.edgeCount;f++){let{type:h,next:d}=l.edge(f);if(h==t||s.indexOf(d)<0&&u(d))return!0}};if(u(i.contentMatch))return!0}}function Mk(n,t){for(let e=0;e<t.length;e++)if(n.eq(t[e]))return t[e]}class Rr{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},o){o||(o=lu(e).createDocumentFragment());let i=o,s=[];return t.forEach(u=>{if(s.length||u.marks.length){let l=0,f=0;for(;l<s.length&&f<u.marks.length;){let h=u.marks[f];if(!this.marks[h.type.name]){f++;continue}if(!h.eq(s[l][0])||h.type.spec.spanning===!1)break;l++,f++}for(;l<s.length;)i=s.pop()[1];for(;f<u.marks.length;){let h=u.marks[f++],d=this.serializeMark(h,u.isInline,e);d&&(s.push([h,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(u,e))}),o}serializeNodeInner(t,e){let{dom:o,contentDOM:i}=Rr.renderSpec(lu(e),this.nodes[t.type.name](t));if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,i)}return o}serializeNode(t,e={}){let o=this.serializeNodeInner(t,e);for(let i=t.marks.length-1;i>=0;i--){let s=this.serializeMark(t.marks[i],t.isInline,e);s&&((s.contentDOM||s.dom).appendChild(o),o=s.dom)}return o}serializeMark(t,e,o={}){let i=this.marks[t.type.name];return i&&Rr.renderSpec(lu(o),i(t,e))}static renderSpec(t,e,o=null){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s=i.indexOf(" ");s>0&&(o=i.slice(0,s),i=i.slice(s+1));let u,l=o?t.createElementNS(o,i):t.createElement(i),f=e[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let d in f)if(f[d]!=null){let g=d.indexOf(" ");g>0?l.setAttributeNS(d.slice(0,g),d.slice(g+1),f[d]):l.setAttribute(d,f[d])}}for(let d=h;d<e.length;d++){let g=e[d];if(g===0){if(d<e.length-1||d>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:b,contentDOM:w}=Rr.renderSpec(t,g,o);if(l.appendChild(b),w){if(u)throw new RangeError("Multiple content holes");u=w}}}return{dom:l,contentDOM:u}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Rr(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=pp(t.nodes);return e.text||(e.text=o=>o.text),e}static marksFromSchema(t){return pp(t.marks)}}function pp(n){let t={};for(let e in n){let o=n[e].spec.toDOM;o&&(t[e]=o)}return t}function lu(n){return n.document||window.document}const Nd=65535,Dd=Math.pow(2,16);function Sk(n,t){return n+t*Dd}function dp(n){return n&Nd}function Ck(n){return(n-(n&Nd))/Dd}const Ld=1,zd=2,ya=4,Rd=8;class Nu{constructor(t,e,o){this.pos=t,this.delInfo=e,this.recover=o}get deleted(){return(this.delInfo&Rd)>0}get deletedBefore(){return(this.delInfo&(Ld|ya))>0}get deletedAfter(){return(this.delInfo&(zd|ya))>0}get deletedAcross(){return(this.delInfo&ya)>0}}class Xe{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&Xe.empty)return Xe.empty}recover(t){let e=0,o=dp(t);if(!this.inverted)for(let i=0;i<o;i++)e+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[o*3]+e+Ck(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,o){let i=0,s=this.inverted?2:1,u=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let f=this.ranges[l]-(this.inverted?i:0);if(f>t)break;let h=this.ranges[l+s],d=this.ranges[l+u],g=f+h;if(t<=g){let b=h?t==f?-1:t==g?1:e:e,w=f+i+(b<0?0:d);if(o)return w;let C=t==(e<0?f:g)?null:Sk(l/3,t-f),S=t==f?zd:t==g?Ld:ya;return(e<0?t!=f:t!=g)&&(S|=Rd),new Nu(w,S,C)}i+=d-h}return o?t+i:new Nu(t+i,0,null)}touches(t,e){let o=0,i=dp(e),s=this.inverted?2:1,u=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let f=this.ranges[l]-(this.inverted?o:0);if(f>t)break;let h=this.ranges[l+s],d=f+h;if(t<=d&&l==i*3)return!0;o+=this.ranges[l+u]-h}return!1}forEach(t){let e=this.inverted?2:1,o=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let u=this.ranges[i],l=u-(this.inverted?s:0),f=u+(this.inverted?0:s),h=this.ranges[i+e],d=this.ranges[i+o];t(l,l+h,f,f+d),s+=d-h}}invert(){return new Xe(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Xe.empty:new Xe(t<0?[0,-t,0]:[0,0,t])}}Xe.empty=new Xe([]);class oi{constructor(t=[],e,o=0,i=t.length){this.maps=t,this.mirror=e,this.from=o,this.to=i}slice(t=0,e=this.maps.length){return new oi(this.maps,this.mirror,t,e)}copy(){return new oi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),e!=null&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,o=this.maps.length;e<t.maps.length;e++){let i=t.getMirror(e);this.appendMap(t.maps[e],i!=null&&i<e?o+i:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,o=this.maps.length+t.maps.length;e>=0;e--){let i=t.getMirror(e);this.appendMap(t.maps[e].invert(),i!=null&&i>e?o-i-1:void 0)}}invert(){let t=new oi;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let o=this.from;o<this.to;o++)t=this.maps[o].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,o){let i=0;for(let s=this.from;s<this.to;s++){let u=this.maps[s],l=u.mapResult(t,e);if(l.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,t=this.maps[f].recover(l.recover);continue}}i|=l.delInfo,t=l.pos}return o?t:new Nu(t,i,null)}}const fu=Object.create(null);class Ie{getMap(){return Xe.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let o=fu[e.stepType];if(!o)throw new RangeError(`No step type ${e.stepType} defined`);return o.fromJSON(t,e)}static jsonID(t,e){if(t in fu)throw new RangeError("Duplicate use of step JSON ID "+t);return fu[t]=e,e.prototype.jsonID=t,e}}class Kt{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Kt(t,null)}static fail(t){return new Kt(null,t)}static fromReplace(t,e,o,i){try{return Kt.ok(t.replace(e,o,i))}catch(s){if(s instanceof yk)return Kt.fail(s.message);throw s}}}function Zu(n,t,e){let o=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(Zu(s.content,t,s))),s.isInline&&(s=t(s,e,i)),o.push(s)}return F.fromArray(o)}class jr extends Ie{constructor(t,e,o){super(),this.from=t,this.to=e,this.mark=o}apply(t){let e=t.slice(this.from,this.to),o=t.resolve(this.from),i=o.node(o.sharedDepth(this.to)),s=new K(Zu(e.content,(u,l)=>!u.isAtom||!l.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),i),e.openStart,e.openEnd);return Kt.fromReplace(t,this.from,this.to,s)}invert(){return new Br(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deleted&&o.deleted||e.pos>=o.pos?null:new jr(e.pos,o.pos,this.mark)}merge(t){return t instanceof jr&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new jr(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new jr(e.from,e.to,t.markFromJSON(e.mark))}}Ie.jsonID("addMark",jr);class Br extends Ie{constructor(t,e,o){super(),this.from=t,this.to=e,this.mark=o}apply(t){let e=t.slice(this.from,this.to),o=new K(Zu(e.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),e.openStart,e.openEnd);return Kt.fromReplace(t,this.from,this.to,o)}invert(){return new jr(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deleted&&o.deleted||e.pos>=o.pos?null:new Br(e.pos,o.pos,this.mark)}merge(t){return t instanceof Br&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Br(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Br(e.from,e.to,t.markFromJSON(e.mark))}}Ie.jsonID("removeMark",Br);class Pr extends Ie{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Kt.fail("No node at mark step's position");let o=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Kt.fromReplace(t,this.pos,this.pos+1,new K(F.from(o),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let o=this.mark.addToSet(e.marks);if(o.length==e.marks.length){for(let i=0;i<e.marks.length;i++)if(!e.marks[i].isInSet(o))return new Pr(this.pos,e.marks[i]);return new Pr(this.pos,this.mark)}}return new pi(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Pr(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Pr(e.pos,t.markFromJSON(e.mark))}}Ie.jsonID("addNodeMark",Pr);class pi extends Ie{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Kt.fail("No node at mark step's position");let o=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Kt.fromReplace(t,this.pos,this.pos+1,new K(F.from(o),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new Pr(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new pi(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new pi(e.pos,t.markFromJSON(e.mark))}}Ie.jsonID("removeNodeMark",pi);class Ze extends Ie{constructor(t,e,o,i=!1){super(),this.from=t,this.to=e,this.slice=o,this.structure=i}apply(t){return this.structure&&Du(t,this.from,this.to)?Kt.fail("Structure replace would overwrite content"):Kt.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Xe([this.from,this.to-this.from,this.slice.size])}invert(t){return new Ze(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1);return e.deletedAcross&&o.deletedAcross?null:new Ze(e.pos,Math.max(e.pos,o.pos),this.slice)}merge(t){if(!(t instanceof Ze)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?K.empty:new K(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Ze(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?K.empty:new K(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Ze(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ze(e.from,e.to,K.fromJSON(t,e.slice),!!e.structure)}}Ie.jsonID("replace",Ze);class Oe extends Ie{constructor(t,e,o,i,s,u,l=!1){super(),this.from=t,this.to=e,this.gapFrom=o,this.gapTo=i,this.slice=s,this.insert=u,this.structure=l}apply(t){if(this.structure&&(Du(t,this.from,this.gapFrom)||Du(t,this.gapTo,this.to)))return Kt.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Kt.fail("Gap is not a flat range");let o=this.slice.insertAt(this.insert,e.content);return o?Kt.fromReplace(t,this.from,this.to,o):Kt.fail("Content does not fit in gap")}getMap(){return new Xe([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new Oe(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),o=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),s=t.map(this.gapTo,1);return e.deletedAcross&&o.deletedAcross||i<e.pos||s>o.pos?null:new Oe(e.pos,o.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Oe(e.from,e.to,e.gapFrom,e.gapTo,K.fromJSON(t,e.slice),e.insert,!!e.structure)}}Ie.jsonID("replaceAround",Oe);function Du(n,t,e){let o=n.resolve(t),i=e-t,s=o.depth;for(;i>0&&s>0&&o.indexAfter(s)==o.node(s).childCount;)s--,i--;if(i>0){let u=o.node(s).maybeChild(o.indexAfter(s));for(;i>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,i--}}return!1}function Tk(n,t,e){return(t==0||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function Ao(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let e=n.depth;;--e){let o=n.$from.node(e),i=n.$from.index(e),s=n.$to.indexAfter(e);if(e<n.depth&&o.canReplace(i,s,t))return e;if(e==0||o.type.spec.isolating||!Tk(o,i,s))break}return null}function Xu(n,t,e=null,o=n){let i=Ok(n,t),s=i&&Ak(o,t);return s?i.map(hp).concat({type:t,attrs:e}).concat(s.map(hp)):null}function hp(n){return{type:n,attrs:null}}function Ok(n,t){let{parent:e,startIndex:o,endIndex:i}=n,s=e.contentMatchAt(o).findWrapping(t);if(!s)return null;let u=s.length?s[0]:t;return e.canReplaceWith(o,i,u)?s:null}function Ak(n,t){let{parent:e,startIndex:o,endIndex:i}=n,s=e.child(o),u=t.contentMatch.findWrapping(s.type);if(!u)return null;let l=(u.length?u[u.length-1]:t).contentMatch;for(let f=o;l&&f<i;f++)l=l.matchType(e.child(f).type);return!l||!l.validEnd?null:u}function yo(n,t,e=1,o){let i=n.resolve(t),s=i.depth-e,u=o&&o[o.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!u.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let h=i.depth-1,d=e-2;h>s;h--,d--){let g=i.node(h),b=i.index(h);if(g.type.spec.isolating)return!1;let w=g.content.cutByIndex(b,g.childCount),C=o&&o[d]||g;if(C!=g&&(w=w.replaceChild(0,C.type.create(C.attrs))),!g.canReplace(b+1,g.childCount)||!C.type.validContent(w))return!1}let l=i.indexAfter(s),f=o&&o[0];return i.node(s).canReplaceWith(l,l,f?f.type:i.node(s+1).type)}function vr(n,t){let e=n.resolve(t),o=e.index();return jd(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(o,o+1)}function jd(n,t){return!!(n&&t&&!n.isLeaf&&n.canAppend(t))}function Bd(n,t,e=-1){let o=n.resolve(t);for(let i=o.depth;;i--){let s,u,l=o.index(i);if(i==o.depth?(s=o.nodeBefore,u=o.nodeAfter):e>0?(s=o.node(i+1),l++,u=o.node(i).maybeChild(l)):(s=o.node(i).maybeChild(l-1),u=o.node(i+1)),s&&!s.isTextblock&&jd(s,u)&&o.node(i).canReplace(l,l+1))return t;if(i==0)break;t=e<0?o.before(i):o.after(i)}}function Pd(n,t,e){let o=n.resolve(t);if(!e.content.size)return t;let i=e.content;for(let s=0;s<e.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(e.openStart==0&&e.size?2:1);s++)for(let u=o.depth;u>=0;u--){let l=u==o.depth?0:o.pos<=(o.start(u+1)+o.end(u+1))/2?-1:1,f=o.index(u)+(l>0?1:0),h=o.node(u),d=!1;if(s==1)d=h.canReplace(f,f,i);else{let g=h.contentMatchAt(f).findWrapping(i.firstChild.type);d=g&&h.canReplaceWith(f,f,g[0])}if(d)return l==0?o.pos:l<0?o.before(u+1):o.after(u+1)}return null}function Hd(n,t,e=t,o=K.empty){if(t==e&&!o.size)return null;let i=n.resolve(t),s=n.resolve(e);return Ek(i,s,o)?new Ze(t,e,o):new Ik(i,s,o).fit()}function Ek(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}class Ik{constructor(t,e,o){this.$from=t,this.$to=e,this.unplaced=o,this.frontier=[],this.placed=F.empty;for(let i=0;i<=t.depth;i++){let s=t.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=F.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let h=this.findFittable();h?this.placeNodes(h):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(t<0?this.$to:o.doc.resolve(t));if(!i)return null;let s=this.placed,u=o.depth,l=i.depth;for(;u&&l&&s.childCount==1;)s=s.firstChild.content,u--,l--;let f=new K(s,u,l);return t>-1?new Oe(o.pos,t,this.$to.pos,this.$to.end(),f,e):f.size||o.pos!=this.$to.pos?new Ze(o.pos,i.pos,f):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,o=0,i=this.unplaced.openEnd;o<t;o++){let s=e.firstChild;if(e.childCount>1&&(i=0),s.type.spec.isolating&&i<=o){t=o;break}e=s.content}for(let e=1;e<=2;e++)for(let o=e==1?t:this.unplaced.openStart;o>=0;o--){let i,s=null;o?(s=pu(this.unplaced.content,o-1).firstChild,i=s.content):i=this.unplaced.content;let u=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:f,match:h}=this.frontier[l],d,g=null;if(e==1&&(u?h.matchType(u.type)||(g=h.fillBefore(F.from(u),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:o,frontierDepth:l,parent:s,inject:g};if(e==2&&u&&(d=h.findWrapping(u.type)))return{sliceDepth:o,frontierDepth:l,parent:s,wrap:d};if(s&&h.matchType(s.type))break}}}openMore(){let{content:t,openStart:e,openEnd:o}=this.unplaced,i=pu(t,e);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new K(t,e+1,Math.max(o,i.size+e>=t.size-o?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:o}=this.unplaced,i=pu(t,e);if(i.childCount<=1&&e>0){let s=t.size-e<=e+i.size;this.unplaced=new K(ti(t,e-1,1),e-1,s?e-1:o)}else this.unplaced=new K(ti(t,e,1),e,o)}placeNodes({sliceDepth:t,frontierDepth:e,parent:o,inject:i,wrap:s}){for(;this.depth>e;)this.closeFrontierNode();if(s)for(let S=0;S<s.length;S++)this.openFrontierNode(s[S]);let u=this.unplaced,l=o?o.content:u.content,f=u.openStart-t,h=0,d=[],{match:g,type:b}=this.frontier[e];if(i){for(let S=0;S<i.childCount;S++)d.push(i.child(S));g=g.matchFragment(i)}let w=l.size+t-(u.content.size-u.openEnd);for(;h<l.childCount;){let S=l.child(h),A=g.matchType(S.type);if(!A)break;h++,(h>1||f==0||S.content.size)&&(g=A,d.push(Fd(S.mark(b.allowedMarks(S.marks)),h==1?f:0,h==l.childCount?w:-1)))}let C=h==l.childCount;C||(w=-1),this.placed=ei(this.placed,e,F.from(d)),this.frontier[e].match=g,C&&w<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,A=l;S<w;S++){let z=A.lastChild;this.frontier.push({type:z.type,match:z.contentMatchAt(z.childCount)}),A=z.content}this.unplaced=C?t==0?K.empty:new K(ti(u.content,t-1,1),t-1,w<0?u.openEnd:t-1):new K(ti(u.content,t,h),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!du(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:o}=this.$to,i=this.$to.after(o);for(;o>1&&i==this.$to.end(--o);)++i;return i}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:o,type:i}=this.frontier[e],s=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),u=du(t,e,i,o,s);if(u){for(let l=e-1;l>=0;l--){let{match:f,type:h}=this.frontier[l],d=du(t,l,h,f,!0);if(!d||d.childCount)continue t}return{depth:e,fit:u,move:s?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=ei(this.placed,e.depth,e.fit)),t=e.move;for(let o=e.depth+1;o<=t.depth;o++){let i=t.node(o),s=i.type.contentMatch.fillBefore(i.content,!0,t.index(o));this.openFrontierNode(i.type,i.attrs,s)}return t}openFrontierNode(t,e=null,o){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=ei(this.placed,this.depth,F.from(t.create(e,o))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(F.empty,!0);t.childCount&&(this.placed=ei(this.placed,this.frontier.length,t))}}function ti(n,t,e){return t==0?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(ti(n.firstChild.content,t-1,e)))}function ei(n,t,e){return t==0?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(ei(n.lastChild.content,t-1,e)))}function pu(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function Fd(n,t,e){if(t<=0)return n;let o=n.content;return t>1&&(o=o.replaceChild(0,Fd(o.firstChild,t-1,o.childCount==1?e-1:0))),t>0&&(o=n.type.contentMatch.fillBefore(o).append(o),e<=0&&(o=o.append(n.type.contentMatch.matchFragment(o).fillBefore(F.empty,!0)))),n.copy(o)}function du(n,t,e,o,i){let s=n.node(t),u=i?n.indexAfter(t):n.index(t);if(u==s.childCount&&!e.compatibleContent(s.type))return null;let l=o.fillBefore(s.content,!0,u);return l&&!$k(e,s.content,u)?l:null}function $k(n,t,e){for(let o=e;o<t.childCount;o++)if(!n.allowsMarks(t.child(o).marks))return!0;return!1}class ii extends Ie{constructor(t,e,o){super(),this.pos=t,this.attr=e,this.value=o}apply(t){let e=t.nodeAt(this.pos);if(!e)return Kt.fail("No node at attribute step's position");let o=Object.create(null);for(let s in e.attrs)o[s]=e.attrs[s];o[this.attr]=this.value;let i=e.type.create(o,null,e.marks);return Kt.fromReplace(t,this.pos,this.pos+1,new K(F.from(i),0,e.isLeaf?0:1))}getMap(){return Xe.empty}invert(t){return new ii(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new ii(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ii(e.pos,e.attr,e.value)}}Ie.jsonID("attr",ii);let di=class extends Error{};di=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e};di.prototype=Object.create(Error.prototype);di.prototype.constructor=di;di.prototype.name="TransformError";const hu=Object.create(null);class ct{constructor(t,e,o){this.$anchor=t,this.$head=e,this.ranges=o||[new Nk(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=K.empty){let o=e.content.lastChild,i=null;for(let l=0;l<e.openEnd;l++)i=o,o=o.lastChild;let s=t.steps.length,u=this.ranges;for(let l=0;l<u.length;l++){let{$from:f,$to:h}=u[l],d=t.mapping.slice(s);t.replaceRange(d.map(f.pos),d.map(h.pos),l?K.empty:e),l==0&&vp(t,s,(o?o.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let o=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:u,$to:l}=i[s],f=t.mapping.slice(o),h=f.map(u.pos),d=f.map(l.pos);s?t.deleteRange(h,d):(t.replaceRangeWith(h,d,e),vp(t,o,e.isInline?-1:1))}}static findFrom(t,e,o=!1){let i=t.parent.inlineContent?new lt(t):ho(t.node(0),t.parent,t.pos,t.index(),e,o);if(i)return i;for(let s=t.depth-1;s>=0;s--){let u=e<0?ho(t.node(0),t.node(s),t.before(s+1),t.index(s),e,o):ho(t.node(0),t.node(s),t.after(s+1),t.index(s)+1,e,o);if(u)return u}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new hn(t.node(0))}static atStart(t){return ho(t,t,0,0,1)||new hn(t)}static atEnd(t){return ho(t,t,t.content.size,t.childCount,-1)||new hn(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let o=hu[e.type];if(!o)throw new RangeError(`No selection type ${e.type} defined`);return o.fromJSON(t,e)}static jsonID(t,e){if(t in hu)throw new RangeError("Duplicate use of selection JSON ID "+t);return hu[t]=e,e.prototype.jsonID=t,e}getBookmark(){return lt.between(this.$anchor,this.$head).getBookmark()}}ct.prototype.visible=!0;class Nk{constructor(t,e){this.$from=t,this.$to=e}}let mp=!1;function gp(n){!mp&&!n.parent.inlineContent&&(mp=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class lt extends ct{constructor(t,e=t){gp(t),gp(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let o=t.resolve(e.map(this.head));if(!o.parent.inlineContent)return ct.near(o);let i=t.resolve(e.map(this.anchor));return new lt(i.parent.inlineContent?i:o,o)}replace(t,e=K.empty){if(super.replace(t,e),e==K.empty){let o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}}eq(t){return t instanceof lt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new Ba(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new lt(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,o=e){let i=t.resolve(e);return new this(i,o==e?i:t.resolve(o))}static between(t,e,o){let i=t.pos-e.pos;if((!o||i)&&(o=i>=0?1:-1),!e.parent.inlineContent){let s=ct.findFrom(e,o,!0)||ct.findFrom(e,-o,!0);if(s)e=s.$head;else return ct.near(e,o)}return t.parent.inlineContent||(i==0?t=e:(t=(ct.findFrom(t,-o,!0)||ct.findFrom(t,o,!0)).$anchor,t.pos<e.pos!=i<0&&(t=e))),new lt(t,e)}}ct.jsonID("text",lt);class Ba{constructor(t,e){this.anchor=t,this.head=e}map(t){return new Ba(t.map(this.anchor),t.map(this.head))}resolve(t){return lt.between(t.resolve(this.anchor),t.resolve(this.head))}}class X extends ct{constructor(t){let e=t.nodeAfter,o=t.node(0).resolve(t.pos+e.nodeSize);super(t,o),this.node=e}map(t,e){let{deleted:o,pos:i}=e.mapResult(this.anchor),s=t.resolve(i);return o?ct.near(s):new X(s)}content(){return new K(F.from(this.node),0,0)}eq(t){return t instanceof X&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Qu(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new X(t.resolve(e.anchor))}static create(t,e){return new X(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}X.prototype.visible=!1;ct.jsonID("node",X);class Qu{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:o}=t.mapResult(this.anchor);return e?new Ba(o,o):new Qu(o)}resolve(t){let e=t.resolve(this.anchor),o=e.nodeAfter;return o&&X.isSelectable(o)?new X(e):ct.near(e)}}class hn extends ct{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=K.empty){if(e==K.empty){t.delete(0,t.doc.content.size);let o=ct.atStart(t.doc);o.eq(t.selection)||t.setSelection(o)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new hn(t)}map(t){return new hn(t)}eq(t){return t instanceof hn}getBookmark(){return Dk}}ct.jsonID("all",hn);const Dk={map(){return this},resolve(n){return new hn(n)}};function ho(n,t,e,o,i,s=!1){if(t.inlineContent)return lt.create(n,e);for(let u=o-(i>0?0:1);i>0?u<t.childCount:u>=0;u+=i){let l=t.child(u);if(l.isAtom){if(!s&&X.isSelectable(l))return X.create(n,e-(i<0?l.nodeSize:0))}else{let f=ho(n,l,e+i,i<0?l.childCount:0,i,s);if(f)return f}e+=l.nodeSize*i}return null}function vp(n,t,e){let o=n.steps.length-1;if(o<t)return;let i=n.steps[o];if(!(i instanceof Ze||i instanceof Oe))return;let s=n.mapping.maps[o],u;s.forEach((l,f,h,d)=>{u==null&&(u=d)}),n.setSelection(ct.near(n.doc.resolve(u),e))}function yp(n,t){return!t||!n?n:n.bind(t)}class da{constructor(t,e,o){this.name=t,this.init=yp(e.init,o),this.apply=yp(e.apply,o)}}new da("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new da("selection",{init(n,t){return n.selection||ct.atStart(t.doc)},apply(n){return n.selection}}),new da("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,e,o){return o.selection.$cursor?n.storedMarks:null}}),new da("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}});function qd(n,t,e){for(let o in n){let i=n[o];i instanceof Function?i=i.bind(t):o=="handleDOMEvents"&&(i=qd(i,t,{})),e[o]=i}return e}class mn{constructor(t){this.spec=t,this.props={},t.props&&qd(t.props,this,this.props),this.key=t.key?t.key.key:Vd("plugin")}getState(t){return t[this.key]}}const mu=Object.create(null);function Vd(n){return n in mu?n+"$"+ ++mu[n]:(mu[n]=0,n+"$")}class Ln{constructor(t="key"){this.key=Vd(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const yi=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},Wd=function(n,t,e,o){return e&&(bp(n,t,e,o,-1)||bp(n,t,e,o,1))},Lk=/^(img|br|input|textarea|hr)$/i;function bp(n,t,e,o,i){for(;;){if(n==e&&t==o)return!0;if(t==(i<0?0:Sa(n))){let s=n.parentNode;if(!s||s.nodeType!=1||Rk(n)||Lk.test(n.nodeName)||n.contentEditable=="false")return!1;t=yi(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[t+(i<0?-1:0)],n.contentEditable=="false")return!1;t=i<0?Sa(n):0}else return!1}}function Sa(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function zk(n,t,e){for(let o=t==0,i=t==Sa(n);o||i;){if(n==e)return!0;let s=yi(n);if(n=n.parentNode,!n)return!1;o=o&&s==0,i=i&&s==Sa(n)}}function Rk(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const Kd=function(n){return n.focusNode&&Wd(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Ud(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}const Nn=typeof navigator<"u"?navigator:null,wp=typeof document<"u"?document:null,yr=Nn&&Nn.userAgent||"",Lu=/Edge\/(\d+)/.exec(yr),Jd=/MSIE \d/.exec(yr),zu=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yr),bi=!!(Jd||zu||Lu),Gd=Jd?document.documentMode:zu?+zu[1]:Lu?+Lu[1]:0,Pa=!bi&&/gecko\/(\d+)/i.test(yr);Pa&&+(/Firefox\/(\d+)/.exec(yr)||[0,0])[1];const Ru=!bi&&/Chrome\/(\d+)/.exec(yr),Kr=!!Ru,jk=Ru?+Ru[1]:0,Ur=!bi&&!!Nn&&/Apple Computer/.test(Nn.vendor),tc=Ur&&(/Mobile\/\w+/.test(yr)||!!Nn&&Nn.maxTouchPoints>2),Ye=tc||(Nn?/Mac/.test(Nn.platform):!1),Bk=Nn?/Win/.test(Nn.platform):!1,wi=/Android \d/.test(yr),ec=!!wp&&"webkitFontSmoothing"in wp.documentElement.style,Pk=ec?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Hk(n,t=null){let e=n.domSelectionRange(),o=n.state.doc;if(!e.focusNode)return null;let i=n.docView.nearestDesc(e.focusNode),s=i&&i.size==0,u=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(u<0)return null;let l=o.resolve(u),f,h;if(Kd(e)){for(f=l;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&X.isSelectable(d)&&i.parent&&!(d.isInline&&zk(e.focusNode,e.focusOffset,i.dom))){let g=i.posBefore;h=new X(u==g?l:o.resolve(g))}}else{let d=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(d<0)return null;f=o.resolve(d)}if(!h){let d=t=="pointer"||n.state.selection.head<l.pos&&!s?1:-1;h=Zd(n,f,l,d)}return h}function Yd(n){return n.editable?n.hasFocus():Wk(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function nc(n,t=!1){let e=n.state.selection;if(Vk(n,e),!!Yd(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Kr){let o=n.domSelectionRange(),i=n.domObserver.currentSelection;if(o.anchorNode&&i.anchorNode&&Wd(o.anchorNode,o.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)qk(n);else{let{anchor:o,head:i}=e,s,u;kp&&!(e instanceof lt)&&(e.$from.parent.inlineContent||(s=xp(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(u=xp(n,e.to))),n.docView.setSelection(o,i,n.root,t),kp&&(s&&_p(s),u&&_p(u)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Fk(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const kp=Ur||Kr&&jk<63;function xp(n,t){let{node:e,offset:o}=n.docView.domFromPos(t,0),i=o<e.childNodes.length?e.childNodes[o]:null,s=o?e.childNodes[o-1]:null;if(Ur&&i&&i.contentEditable=="false")return gu(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return gu(i);if(s)return gu(s)}}function gu(n){return n.contentEditable="true",Ur&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function _p(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function Fk(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelectionRange(),o=e.anchorNode,i=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=o||e.anchorOffset!=i)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!Yd(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function qk(n){let t=n.domSelection(),e=document.createRange(),o=n.cursorWrapper.dom,i=o.nodeName=="IMG";i?e.setEnd(o.parentNode,yi(o)+1):e.setEnd(o,0),e.collapse(!1),t.removeAllRanges(),t.addRange(e),!i&&!n.state.selection.visible&&bi&&Gd<=11&&(o.disabled=!0,o.disabled=!1)}function Vk(n,t){if(t instanceof X){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(Mp(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else Mp(n)}function Mp(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function Zd(n,t,e,o){return n.someProp("createSelectionBetween",i=>i(n,t,e))||lt.between(t,e,o)}function Wk(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function ju(n,t){let{$anchor:e,$head:o}=n.selection,i=t>0?e.max(o):e.min(o),s=i.parent.inlineContent?i.depth?n.doc.resolve(t>0?i.after():i.before()):null:i;return s&&ct.findFrom(s,t)}function Lr(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function Sp(n,t,e){let o=n.state.selection;if(o instanceof lt){if(!o.empty||e.indexOf("s")>-1)return!1;if(n.endOfTextblock(t>0?"forward":"backward")){let i=ju(n.state,t);return i&&i instanceof X?Lr(n,i):!1}else if(!(Ye&&e.indexOf("m")>-1)){let i=o.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,u;if(!s||s.isText)return!1;let l=t<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(u=n.docView.descAt(l))&&!u.contentDOM?X.isSelectable(s)?Lr(n,new X(t<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):ec?Lr(n,new lt(n.state.doc.resolve(t<0?l:l+s.nodeSize))):!1:!1}}else{if(o instanceof X&&o.node.isInline)return Lr(n,new lt(t>0?o.$to:o.$from));{let i=ju(n.state,t);return i?Lr(n,i):!1}}}function Ca(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ai(n){let t=n.pmViewDesc;return t&&t.size==0&&(n.nextSibling||n.nodeName!="BR")}function Zo(n,t){return t<0?Kk(n):Xd(n)}function Kk(n){let t=n.domSelectionRange(),e=t.focusNode,o=t.focusOffset;if(!e)return;let i,s,u=!1;for(Pa&&e.nodeType==1&&o<Ca(e)&&ai(e.childNodes[o])&&(u=!0);;)if(o>0){if(e.nodeType!=1)break;{let l=e.childNodes[o-1];if(ai(l))i=e,s=--o;else if(l.nodeType==3)e=l,o=e.nodeValue.length;else break}}else{if(Qd(e))break;{let l=e.previousSibling;for(;l&&ai(l);)i=e.parentNode,s=yi(l),l=l.previousSibling;if(l)e=l,o=Ca(e);else{if(e=e.parentNode,e==n.dom)break;o=0}}}u?Bu(n,e,o):i&&Bu(n,i,s)}function Xd(n){let t=n.domSelectionRange(),e=t.focusNode,o=t.focusOffset;if(!e)return;let i=Ca(e),s,u;for(;;)if(o<i){if(e.nodeType!=1)break;let l=e.childNodes[o];if(ai(l))s=e,u=++o;else break}else{if(Qd(e))break;{let l=e.nextSibling;for(;l&&ai(l);)s=l.parentNode,u=yi(l)+1,l=l.nextSibling;if(l)e=l,o=0,i=Ca(e);else{if(e=e.parentNode,e==n.dom)break;o=i=0}}}s&&Bu(n,s,u)}function Qd(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function Bu(n,t,e){let o=n.domSelection();if(Kd(o)){let s=document.createRange();s.setEnd(t,e),s.setStart(t,e),o.removeAllRanges(),o.addRange(s)}else o.extend&&o.extend(t,e);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&nc(n)},50)}function Cp(n,t){let e=n.state.doc.resolve(t);if(!(Kr||Bk)&&e.parent.inlineContent){let o=n.coordsAtPos(t);if(t>e.start()){let i=n.coordsAtPos(t-1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(t<e.end()){let i=n.coordsAtPos(t+1),s=(i.top+i.bottom)/2;if(s>o.top&&s<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Tp(n,t,e){let o=n.state.selection;if(o instanceof lt&&!o.empty||e.indexOf("s")>-1||Ye&&e.indexOf("m")>-1)return!1;let{$from:i,$to:s}=o;if(!i.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let u=ju(n.state,t);if(u&&u instanceof X)return Lr(n,u)}if(!i.parent.inlineContent){let u=t<0?i:s,l=o instanceof hn?ct.near(u,t):ct.findFrom(u,t);return l?Lr(n,l):!1}return!1}function Op(n,t){if(!(n.state.selection instanceof lt))return!0;let{$head:e,$anchor:o,empty:i}=n.state.selection;if(!e.sameParent(o))return!0;if(!i)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(s&&!s.isText){let u=n.state.tr;return t<0?u.delete(e.pos-s.nodeSize,e.pos):u.delete(e.pos,e.pos+s.nodeSize),n.dispatch(u),!0}return!1}function Ap(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function Uk(n){if(!Ur||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let o=t.firstChild;Ap(n,o,"true"),setTimeout(()=>Ap(n,o,"false"),20)}return!1}function Jk(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function Gk(n,t){let e=t.keyCode,o=Jk(t);if(e==8||Ye&&e==72&&o=="c")return Op(n,-1)||Zo(n,-1);if(e==46||Ye&&e==68&&o=="c")return Op(n,1)||Zo(n,1);if(e==13||e==27)return!0;if(e==37||Ye&&e==66&&o=="c"){let i=e==37?Cp(n,n.state.selection.from)=="ltr"?-1:1:-1;return Sp(n,i,o)||Zo(n,i)}else if(e==39||Ye&&e==70&&o=="c"){let i=e==39?Cp(n,n.state.selection.from)=="ltr"?1:-1:1;return Sp(n,i,o)||Zo(n,i)}else{if(e==38||Ye&&e==80&&o=="c")return Tp(n,-1,o)||Zo(n,-1);if(e==40||Ye&&e==78&&o=="c")return Uk(n)||Tp(n,1,o)||Xd(n);if(o==(Ye?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function th(n,t){n.someProp("transformCopied",w=>{t=w(t,n)});let e=[],{content:o,openStart:i,openEnd:s}=t;for(;i>1&&s>1&&o.childCount==1&&o.firstChild.childCount==1;){i--,s--;let w=o.firstChild;e.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),o=w.content}let u=n.someProp("clipboardSerializer")||Rr.fromSchema(n.state.schema),l=ah(),f=l.createElement("div");f.appendChild(u.serializeFragment(o,{document:l}));let h=f.firstChild,d,g=0;for(;h&&h.nodeType==1&&(d=ih[h.nodeName.toLowerCase()]);){for(let w=d.length-1;w>=0;w--){let C=l.createElement(d[w]);for(;f.firstChild;)C.appendChild(f.firstChild);f.appendChild(C),g++}h=f.firstChild}h&&h.nodeType==1&&h.setAttribute("data-pm-slice",`${i} ${s}${g?` -${g}`:""} ${JSON.stringify(e)}`);let b=n.someProp("clipboardTextSerializer",w=>w(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:f,text:b}}function eh(n,t,e,o,i){let s=i.parent.type.spec.code,u,l;if(!e&&!t)return null;let f=t&&(o||s||!e);if(f){if(n.someProp("transformPastedText",b=>{t=b(t,s||o,n)}),s)return t?new K(F.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):K.empty;let g=n.someProp("clipboardTextParser",b=>b(t,i,o,n));if(g)l=g;else{let b=i.marks(),{schema:w}=n.state,C=Rr.fromSchema(w);u=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(S=>{let A=u.appendChild(document.createElement("p"));S&&A.appendChild(C.serializeNode(w.text(S,b)))})}}else n.someProp("transformPastedHTML",g=>{e=g(e,n)}),u=Xk(e),ec&&Qk(u);let h=u&&u.querySelector("[data-pm-slice]"),d=h&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(h.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let g=+d[3];g>0;g--){let b=u.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;u=b}if(l||(l=(n.someProp("clipboardParser")||n.someProp("domParser")||fi.fromSchema(n.state.schema)).parseSlice(u,{preserveWhitespace:!!(f||d),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!Yk.test(g.parentNode.nodeName)?{ignore:!0}:null}})),d)l=tx(Ep(l,+d[1],+d[2]),d[4]);else if(l=K.maxOpen(Zk(l.content,i),!0),l.openStart||l.openEnd){let g=0,b=0;for(let w=l.content.firstChild;g<l.openStart&&!w.type.spec.isolating;g++,w=w.firstChild);for(let w=l.content.lastChild;b<l.openEnd&&!w.type.spec.isolating;b++,w=w.lastChild);l=Ep(l,g,b)}return n.someProp("transformPasted",g=>{l=g(l,n)}),l}const Yk=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Zk(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let o=t.node(e).contentMatchAt(t.index(e)),i,s=[];if(n.forEach(u=>{if(!s)return;let l=o.findWrapping(u.type),f;if(!l)return s=null;if(f=s.length&&i.length&&rh(l,i,u,s[s.length-1],0))s[s.length-1]=f;else{s.length&&(s[s.length-1]=oh(s[s.length-1],i.length));let h=nh(u,l);s.push(h),o=o.matchType(h.type),i=l}}),s)return F.from(s)}return n}function nh(n,t,e=0){for(let o=t.length-1;o>=e;o--)n=t[o].create(null,F.from(n));return n}function rh(n,t,e,o,i){if(i<n.length&&i<t.length&&n[i]==t[i]){let s=rh(n,t,e,o.lastChild,i+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(i==n.length-1?e.type:n[i+1]))return o.copy(o.content.append(F.from(nh(e,n,i+1))))}}function oh(n,t){if(t==0)return n;let e=n.content.replaceChild(n.childCount-1,oh(n.lastChild,t-1)),o=n.contentMatchAt(n.childCount).fillBefore(F.empty,!0);return n.copy(e.append(o))}function Pu(n,t,e,o,i,s){let u=t<0?n.firstChild:n.lastChild,l=u.content;return n.childCount>1&&(s=0),i<o-1&&(l=Pu(l,t,e,o,i+1,s)),i>=e&&(l=t<0?u.contentMatchAt(0).fillBefore(l,s<=i).append(l):l.append(u.contentMatchAt(u.childCount).fillBefore(F.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,u.copy(l))}function Ep(n,t,e){return t<n.openStart&&(n=new K(Pu(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new K(Pu(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}const ih={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ip=null;function ah(){return Ip||(Ip=document.implementation.createHTMLDocument("title"))}function Xk(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let e=ah().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(n),i;if((i=o&&ih[o[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),e.innerHTML=n,i)for(let s=0;s<i.length;s++)e=e.querySelector(i[s])||e;return e}function Qk(n){let t=n.querySelectorAll(Kr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let o=t[e];o.childNodes.length==1&&o.textContent==" "&&o.parentNode&&o.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),o)}}function tx(n,t){if(!n.size)return n;let e=n.content.firstChild.type.schema,o;try{o=JSON.parse(t)}catch{return n}let{content:i,openStart:s,openEnd:u}=n;for(let l=o.length-2;l>=0;l-=2){let f=e.nodes[o[l]];if(!f||f.hasRequiredAttrs())break;i=F.from(f.create(o[l+1],i)),s++,u++}return new K(i,s,u)}const gn={},je={};function pr(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}je.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=e.keyCode==16||e.shiftKey,!uh(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!(wi&&Kr&&e.keyCode==13)))if(e.keyCode!=229&&n.domObserver.forceFlush(),tc&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let o=Date.now();n.input.lastIOSEnter=o,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==o&&(n.someProp("handleKeyDown",i=>i(n,Ud(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",o=>o(n,e))||Gk(n,e)?e.preventDefault():pr(n,"key")};je.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};je.keypress=(n,t)=>{let e=t;if(uh(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||Ye&&e.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,e))){e.preventDefault();return}let o=n.state.selection;if(!(o instanceof lt)||!o.$from.sameParent(o.$to)){let i=String.fromCharCode(e.charCode);!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",s=>s(n,o.$from.pos,o.$to.pos,i))&&n.dispatch(n.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}};function Ha(n){return{left:n.clientX,top:n.clientY}}function ex(n,t){let e=t.x-n.clientX,o=t.y-n.clientY;return e*e+o*o<100}function rc(n,t,e,o,i){if(o==-1)return!1;let s=n.state.doc.resolve(o);for(let u=s.depth+1;u>0;u--)if(n.someProp(t,l=>u>s.depth?l(n,e,s.nodeAfter,s.before(u),i,!0):l(n,e,s.node(u),s.before(u),i,!1)))return!0;return!1}function bo(n,t,e){n.focused||n.focus();let o=n.state.tr.setSelection(t);e=="pointer"&&o.setMeta("pointer",!0),n.dispatch(o)}function nx(n,t){if(t==-1)return!1;let e=n.state.doc.resolve(t),o=e.nodeAfter;return o&&o.isAtom&&X.isSelectable(o)?(bo(n,new X(e),"pointer"),!0):!1}function rx(n,t){if(t==-1)return!1;let e=n.state.selection,o,i;e instanceof X&&(o=e.node);let s=n.state.doc.resolve(t);for(let u=s.depth+1;u>0;u--){let l=u>s.depth?s.nodeAfter:s.node(u);if(X.isSelectable(l)){o&&e.$from.depth>0&&u>=e.$from.depth&&s.before(e.$from.depth+1)==e.$from.pos?i=s.before(e.$from.depth):i=s.before(u);break}}return i!=null?(bo(n,X.create(n.state.doc,i),"pointer"),!0):!1}function ox(n,t,e,o,i){return rc(n,"handleClickOn",t,e,o)||n.someProp("handleClick",s=>s(n,t,o))||(i?rx(n,e):nx(n,e))}function ix(n,t,e,o){return rc(n,"handleDoubleClickOn",t,e,o)||n.someProp("handleDoubleClick",i=>i(n,t,o))}function ax(n,t,e,o){return rc(n,"handleTripleClickOn",t,e,o)||n.someProp("handleTripleClick",i=>i(n,t,o))||sx(n,e,o)}function sx(n,t,e){if(e.button!=0)return!1;let o=n.state.doc;if(t==-1)return o.inlineContent?(bo(n,lt.create(o,0,o.content.size),"pointer"),!0):!1;let i=o.resolve(t);for(let s=i.depth+1;s>0;s--){let u=s>i.depth?i.nodeAfter:i.node(s),l=i.before(s);if(u.inlineContent)bo(n,lt.create(o,l+1,l+1+u.content.size),"pointer");else if(X.isSelectable(u))bo(n,X.create(o,l),"pointer");else continue;return!0}}function oc(n){return Ta(n)}const sh=Ye?"metaKey":"ctrlKey";gn.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let o=oc(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&ex(e,n.input.lastClick)&&!e[sh]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:e.clientX,y:e.clientY,type:s};let u=n.posAtCoords(Ha(e));u&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new ux(n,u,e,!!o)):(s=="doubleClick"?ix:ax)(n,u.pos,u.inside,e)?e.preventDefault():pr(n,"pointer"))};class ux{constructor(t,e,o,i){this.view=t,this.pos=e,this.event=o,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!o[sh],this.allowDefault=o.shiftKey;let s,u;if(e.inside>-1)s=t.state.doc.nodeAt(e.inside),u=e.inside;else{let d=t.state.doc.resolve(e.pos);s=d.parent,u=d.depth?d.before():0}const l=i?null:o.target,f=l?t.docView.nearestDesc(l,!0):null;this.target=f?f.dom:null;let{selection:h}=t.state;(o.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||h instanceof X&&h.from<=u&&h.to>u)&&(this.mightDrag={node:s,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Pa&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),pr(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>nc(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(Ha(t))),this.updateAllowDefault(t),this.allowDefault||!e?pr(this.view,"pointer"):ox(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Ur&&this.mightDrag&&!this.mightDrag.node.isAtom||Kr&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(bo(this.view,ct.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):pr(this.view,"pointer")}move(t){this.updateAllowDefault(t),pr(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}gn.touchstart=n=>{n.input.lastTouch=Date.now(),oc(n),pr(n,"pointer")};gn.touchmove=n=>{n.input.lastTouch=Date.now(),pr(n,"pointer")};gn.contextmenu=n=>oc(n);function uh(n,t){return n.composing?!0:Ur&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const cx=wi?5e3:-1;je.compositionstart=je.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(o=>o.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||e.marks(),Ta(n,!0),n.markCursor=null;else if(Ta(n),Pa&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let o=n.domSelectionRange();for(let i=o.focusNode,s=o.focusOffset;i&&i.nodeType==1&&s!=0;){let u=s<0?i.lastChild:i.childNodes[s-1];if(!u)break;if(u.nodeType==3){n.domSelection().collapse(u,u.nodeValue.length);break}else i=u,s=-1}}n.input.composing=!0}ch(n,cx)};je.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionID++,ch(n,20))};function ch(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>Ta(n),t))}function lx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=fx());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function fx(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function Ta(n,t=!1){if(!(wi&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),lx(n),t||n.docView&&n.docView.dirty){let e=Hk(n);return e&&!e.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(e)):n.updateState(n.state),!0}return!1}}function px(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),i=document.createRange();i.selectNodeContents(t),n.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}const wo=bi&&Gd<15||tc&&Pk<604;gn.copy=je.cut=(n,t)=>{let e=t,o=n.state.selection,i=e.type=="cut";if(o.empty)return;let s=wo?null:e.clipboardData,u=o.content(),{dom:l,text:f}=th(n,u);s?(e.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",f)):px(n,l),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function dx(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function hx(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,o=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout(()=>{n.focus(),o.parentNode&&o.parentNode.removeChild(o),e?Hu(n,o.value,null,n.input.shiftKey,t):Hu(n,o.textContent,o.innerHTML,n.input.shiftKey,t)},50)}function Hu(n,t,e,o,i){let s=eh(n,t,e,o,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,i,s||K.empty)))return!0;if(!s)return!1;let u=dx(s),l=u?n.state.tr.replaceSelectionWith(u,n.input.shiftKey):n.state.tr.replaceSelection(s);return n.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}je.paste=(n,t)=>{let e=t;if(n.composing&&!wi)return;let o=wo?null:e.clipboardData;o&&Hu(n,o.getData("text/plain"),o.getData("text/html"),n.input.shiftKey,e)?e.preventDefault():hx(n,e)};class mx{constructor(t,e){this.slice=t,this.move=e}}const lh=Ye?"altKey":"ctrlKey";gn.dragstart=(n,t)=>{let e=t,o=n.input.mouseDown;if(o&&o.done(),!e.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(Ha(e));if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof X?i.to-1:i.to))){if(o&&o.mightDrag)n.dispatch(n.state.tr.setSelection(X.create(n.state.doc,o.mightDrag.pos)));else if(e.target&&e.target.nodeType==1){let h=n.docView.nearestDesc(e.target,!0);h&&h.node.type.spec.draggable&&h!=n.docView&&n.dispatch(n.state.tr.setSelection(X.create(n.state.doc,h.posBefore)))}}let u=n.state.selection.content(),{dom:l,text:f}=th(n,u);e.dataTransfer.clearData(),e.dataTransfer.setData(wo?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",wo||e.dataTransfer.setData("text/plain",f),n.dragging=new mx(u,!e[lh])};gn.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};je.dragover=je.dragenter=(n,t)=>t.preventDefault();je.drop=(n,t)=>{let e=t,o=n.dragging;if(n.dragging=null,!e.dataTransfer)return;let i=n.posAtCoords(Ha(e));if(!i)return;let s=n.state.doc.resolve(i.pos),u=o&&o.slice;u?n.someProp("transformPasted",C=>{u=C(u,n)}):u=eh(n,e.dataTransfer.getData(wo?"Text":"text/plain"),wo?null:e.dataTransfer.getData("text/html"),!1,s);let l=!!(o&&!e[lh]);if(n.someProp("handleDrop",C=>C(n,e,u||K.empty,l))){e.preventDefault();return}if(!u)return;e.preventDefault();let f=u?Pd(n.state.doc,s.pos,u):s.pos;f==null&&(f=s.pos);let h=n.state.tr;l&&h.deleteSelection();let d=h.mapping.map(f),g=u.openStart==0&&u.openEnd==0&&u.content.childCount==1,b=h.doc;if(g?h.replaceRangeWith(d,d,u.content.firstChild):h.replaceRange(d,d,u),h.doc.eq(b))return;let w=h.doc.resolve(d);if(g&&X.isSelectable(u.content.firstChild)&&w.nodeAfter&&w.nodeAfter.sameMarkup(u.content.firstChild))h.setSelection(new X(w));else{let C=h.mapping.map(f);h.mapping.maps[h.mapping.maps.length-1].forEach((S,A,z,N)=>C=N),h.setSelection(Zd(n,w,h.doc.resolve(C)))}n.focus(),n.dispatch(h.setMeta("uiEvent","drop"))};gn.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&nc(n)},20))};gn.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};gn.beforeinput=(n,t)=>{if(Kr&&wi&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:e}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=e||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",i=>i(n,Ud(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in je)gn[n]=je[n];function hi(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}class ic{constructor(t,e){this.toDOM=t,this.spec=e||Hr,this.side=this.spec.side||0}map(t,e,o,i){let{pos:s,deleted:u}=t.mapResult(e.from+i,this.side<0?-1:1);return u?null:new An(s-o,s-o,this)}valid(){return!0}eq(t){return this==t||t instanceof ic&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&hi(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class hr{constructor(t,e){this.attrs=t,this.spec=e||Hr}map(t,e,o,i){let s=t.map(e.from+i,this.spec.inclusiveStart?-1:1)-o,u=t.map(e.to+i,this.spec.inclusiveEnd?1:-1)-o;return s>=u?null:new An(s,u,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof hr&&hi(this.attrs,t.attrs)&&hi(this.spec,t.spec)}static is(t){return t.type instanceof hr}destroy(){}}class ac{constructor(t,e){this.attrs=t,this.spec=e||Hr}map(t,e,o,i){let s=t.mapResult(e.from+i,1);if(s.deleted)return null;let u=t.mapResult(e.to+i,-1);return u.deleted||u.pos<=s.pos?null:new An(s.pos-o,u.pos-o,this)}valid(t,e){let{index:o,offset:i}=t.content.findIndex(e.from),s;return i==e.from&&!(s=t.child(o)).isText&&i+s.nodeSize==e.to}eq(t){return this==t||t instanceof ac&&hi(this.attrs,t.attrs)&&hi(this.spec,t.spec)}destroy(){}}class An{constructor(t,e,o){this.from=t,this.to=e,this.type=o}copy(t,e){return new An(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,o){return this.type.map(t,this,e,o)}static widget(t,e,o){return new An(t,t,new ic(e,o))}static inline(t,e,o,i){return new An(t,e,new hr(o,i))}static node(t,e,o,i){return new An(t,e,new ac(o,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof hr}}const mo=[],Hr={};class Yt{constructor(t,e){this.local=t.length?t:mo,this.children=e.length?e:mo}static create(t,e){return e.length?Oa(e,t,0,Hr):we}find(t,e,o){let i=[];return this.findInner(t??0,e??1e9,i,0,o),i}findInner(t,e,o,i,s){for(let u=0;u<this.local.length;u++){let l=this.local[u];l.from<=e&&l.to>=t&&(!s||s(l.spec))&&o.push(l.copy(l.from+i,l.to+i))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<e&&this.children[u+1]>t){let l=this.children[u]+1;this.children[u+2].findInner(t-l,e-l,o,i+l,s)}}map(t,e,o){return this==we||t.maps.length==0?this:this.mapInner(t,e,0,0,o||Hr)}mapInner(t,e,o,i,s){let u;for(let l=0;l<this.local.length;l++){let f=this.local[l].map(t,o,i);f&&f.type.valid(e,f)?(u||(u=[])).push(f):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?gx(this.children,u||[],t,e,o,i,s):u?new Yt(u.sort(Fr),mo):we}add(t,e){return e.length?this==we?Yt.create(t,e):this.addInner(t,e,0):this}addInner(t,e,o){let i,s=0;t.forEach((l,f)=>{let h=f+o,d;if(d=ph(e,l,h)){for(i||(i=this.children.slice());s<i.length&&i[s]<f;)s+=3;i[s]==f?i[s+2]=i[s+2].addInner(l,d,h+1):i.splice(s,0,f,f+l.nodeSize,Oa(d,l,h+1,Hr)),s+=3}});let u=fh(s?dh(e):e,-o);for(let l=0;l<u.length;l++)u[l].type.valid(t,u[l])||u.splice(l--,1);return new Yt(u.length?this.local.concat(u).sort(Fr):this.local,i||this.children)}remove(t){return t.length==0||this==we?this:this.removeInner(t,0)}removeInner(t,e){let o=this.children,i=this.local;for(let s=0;s<o.length;s+=3){let u,l=o[s]+e,f=o[s+1]+e;for(let d=0,g;d<t.length;d++)(g=t[d])&&g.from>l&&g.to<f&&(t[d]=null,(u||(u=[])).push(g));if(!u)continue;o==this.children&&(o=this.children.slice());let h=o[s+2].removeInner(u,l+1);h!=we?o[s+2]=h:(o.splice(s,3),s-=3)}if(i.length){for(let s=0,u;s<t.length;s++)if(u=t[s])for(let l=0;l<i.length;l++)i[l].eq(u,e)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return o==this.children&&i==this.local?this:i.length||o.length?new Yt(i,o):we}forChild(t,e){if(this==we)return this;if(e.isLeaf)return Yt.empty;let o,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(o=this.children[l+2]);break}let s=t+1,u=s+e.content.size;for(let l=0;l<this.local.length;l++){let f=this.local[l];if(f.from<u&&f.to>s&&f.type instanceof hr){let h=Math.max(s,f.from)-s,d=Math.min(u,f.to)-s;h<d&&(i||(i=[])).push(f.copy(h,d))}}if(i){let l=new Yt(i.sort(Fr),mo);return o?new zr([l,o]):l}return o||we}eq(t){if(this==t)return!0;if(!(t instanceof Yt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return sc(this.localsInner(t))}localsInner(t){if(this==we)return mo;if(t.inlineContent||!this.local.some(hr.is))return this.local;let e=[];for(let o=0;o<this.local.length;o++)this.local[o].type instanceof hr||e.push(this.local[o]);return e}}Yt.empty=new Yt([],[]);Yt.removeOverlap=sc;const we=Yt.empty;class zr{constructor(t){this.members=t}map(t,e){const o=this.members.map(i=>i.map(t,e,Hr));return zr.from(o)}forChild(t,e){if(e.isLeaf)return Yt.empty;let o=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(t,e);s!=we&&(s instanceof zr?o=o.concat(s.members):o.push(s))}return zr.from(o)}eq(t){if(!(t instanceof zr)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,o=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(t);if(s.length)if(!e)e=s;else{o&&(e=e.slice(),o=!1);for(let u=0;u<s.length;u++)e.push(s[u])}}return e?sc(o?e:e.sort(Fr)):mo}static from(t){switch(t.length){case 0:return we;case 1:return t[0];default:return new zr(t.every(e=>e instanceof Yt)?t:t.reduce((e,o)=>e.concat(o instanceof Yt?o:o.members),[]))}}}function gx(n,t,e,o,i,s,u){let l=n.slice();for(let h=0,d=s;h<e.maps.length;h++){let g=0;e.maps[h].forEach((b,w,C,S)=>{let A=S-C-(w-b);for(let z=0;z<l.length;z+=3){let N=l[z+1];if(N<0||b>N+d-g)continue;let R=l[z]+d-g;w>=R?l[z+1]=b<=R?-2:-1:C>=i&&A&&(l[z]+=A,l[z+1]+=A)}g+=A}),d=e.maps[h].map(d,-1)}let f=!1;for(let h=0;h<l.length;h+=3)if(l[h+1]<0){if(l[h+1]==-2){f=!0,l[h+1]=-1;continue}let d=e.map(n[h]+s),g=d-i;if(g<0||g>=o.content.size){f=!0;continue}let b=e.map(n[h+1]+s,-1),w=b-i,{index:C,offset:S}=o.content.findIndex(g),A=o.maybeChild(C);if(A&&S==g&&S+A.nodeSize==w){let z=l[h+2].mapInner(e,A,d+1,n[h]+s+1,u);z!=we?(l[h]=g,l[h+1]=w,l[h+2]=z):(l[h+1]=-2,f=!0)}else f=!0}if(f){let h=vx(l,n,t,e,i,s,u),d=Oa(h,o,0,u);t=d.local;for(let g=0;g<l.length;g+=3)l[g+1]<0&&(l.splice(g,3),g-=3);for(let g=0,b=0;g<d.children.length;g+=3){let w=d.children[g];for(;b<l.length&&l[b]<w;)b+=3;l.splice(b,0,d.children[g],d.children[g+1],d.children[g+2])}}return new Yt(t.sort(Fr),l)}function fh(n,t){if(!t||!n.length)return n;let e=[];for(let o=0;o<n.length;o++){let i=n[o];e.push(new An(i.from+t,i.to+t,i.type))}return e}function vx(n,t,e,o,i,s,u){function l(f,h){for(let d=0;d<f.local.length;d++){let g=f.local[d].map(o,i,h);g?e.push(g):u.onRemove&&u.onRemove(f.local[d].spec)}for(let d=0;d<f.children.length;d+=3)l(f.children[d+2],f.children[d]+h+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&l(n[f+2],t[f]+s+1);return e}function ph(n,t,e){if(t.isLeaf)return null;let o=e+t.nodeSize,i=null;for(let s=0,u;s<n.length;s++)(u=n[s])&&u.from>e&&u.to<o&&((i||(i=[])).push(u),n[s]=null);return i}function dh(n){let t=[];for(let e=0;e<n.length;e++)n[e]!=null&&t.push(n[e]);return t}function Oa(n,t,e,o){let i=[],s=!1;t.forEach((l,f)=>{let h=ph(n,l,f+e);if(h){s=!0;let d=Oa(h,l,e+f+1,o);d!=we&&i.push(f,f+l.nodeSize,d)}});let u=fh(s?dh(n):n,-e).sort(Fr);for(let l=0;l<u.length;l++)u[l].type.valid(t,u[l])||(o.onRemove&&o.onRemove(u[l].spec),u.splice(l--,1));return u.length||i.length?new Yt(u,i):we}function Fr(n,t){return n.from-t.from||n.to-t.to}function sc(n){let t=n;for(let e=0;e<t.length-1;e++){let o=t[e];if(o.from!=o.to)for(let i=e+1;i<t.length;i++){let s=t[i];if(s.from==o.from){s.to!=o.to&&(t==n&&(t=n.slice()),t[i]=s.copy(s.from,o.to),$p(t,i+1,s.copy(o.to,s.to)));continue}else{s.from<o.to&&(t==n&&(t=n.slice()),t[e]=o.copy(o.from,s.from),$p(t,i,o.copy(s.from,o.to)));break}}}return t}function $p(n,t,e){for(;t<n.length&&Fr(e,n[t])>0;)t++;n.splice(t,0,e)}var gr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Aa={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Np=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),yx=typeof navigator<"u"&&/Mac/.test(navigator.platform),bx=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),wx=yx||Np&&+Np[1]<57;for(var oe=0;oe<10;oe++)gr[48+oe]=gr[96+oe]=String(oe);for(var oe=1;oe<=24;oe++)gr[oe+111]="F"+oe;for(var oe=65;oe<=90;oe++)gr[oe]=String.fromCharCode(oe+32),Aa[oe]=String.fromCharCode(oe);for(var vu in gr)Aa.hasOwnProperty(vu)||(Aa[vu]=gr[vu]);function kx(n){var t=wx&&(n.ctrlKey||n.altKey||n.metaKey)||bx&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?Aa:gr)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}const xx=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function _x(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let o,i,s,u;for(let l=0;l<t.length-1;l++){let f=t[l];if(/^(cmd|meta|m)$/i.test(f))u=!0;else if(/^a(lt)?$/i.test(f))o=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))xx?u=!0:i=!0;else throw new Error("Unrecognized modifier name: "+f)}return o&&(e="Alt-"+e),i&&(e="Ctrl-"+e),u&&(e="Meta-"+e),s&&(e="Shift-"+e),e}function Mx(n){let t=Object.create(null);for(let e in n)t[_x(e)]=n[e];return t}function yu(n,t,e=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e&&t.shiftKey&&(n="Shift-"+n),n}function Sx(n){let t=Mx(n);return function(e,o){let i=kx(o),s,u=t[yu(i,o)];if(u&&u(e.state,e.dispatch,e))return!0;if(i.length==1&&i!=" "){if(o.shiftKey){let l=t[yu(i,o,!1)];if(l&&l(e.state,e.dispatch,e))return!0}if((o.shiftKey||o.altKey||o.metaKey||i.charCodeAt(0)>127)&&(s=gr[o.keyCode])&&s!=i){let l=t[yu(s,o)];if(l&&l(e.state,e.dispatch,e))return!0}}return!1}}const Cx=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function Tx(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("backward",n):e.parentOffset>0)?null:e}const Ox=(n,t,e)=>{let o=Tx(n,e);if(!o)return!1;let i=hh(o);if(!i){let u=o.blockRange(),l=u&&Ao(u);return l==null?!1:(t&&t(n.tr.lift(u,l).scrollIntoView()),!0)}let s=i.nodeBefore;if(!s.type.spec.isolating&&vh(n,i,t))return!0;if(o.parent.content.size==0&&(ko(s,"end")||X.isSelectable(s))){let u=Hd(n.doc,o.before(),o.after(),K.empty);if(u&&u.slice.size<u.to-u.from){if(t){let l=n.tr.step(u);l.setSelection(ko(s,"end")?ct.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):X.create(l.doc,i.pos-s.nodeSize)),t(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==o.depth-1?(t&&t(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1};function ko(n,t,e=!1){for(let o=n;o;o=t=="start"?o.firstChild:o.lastChild){if(o.isTextblock)return!0;if(e&&o.childCount!=1)return!1}return!1}const Ax=(n,t,e)=>{let{$head:o,empty:i}=n.selection,s=o;if(!i)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):o.parentOffset>0)return!1;s=hh(o)}let u=s&&s.nodeBefore;return!u||!X.isSelectable(u)?!1:(t&&t(n.tr.setSelection(X.create(n.doc,s.pos-u.nodeSize)).scrollIntoView()),!0)};function hh(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function Ex(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("forward",n):e.parentOffset<e.parent.content.size)?null:e}const Ix=(n,t,e)=>{let o=Ex(n,e);if(!o)return!1;let i=mh(o);if(!i)return!1;let s=i.nodeAfter;if(vh(n,i,t))return!0;if(o.parent.content.size==0&&(ko(s,"start")||X.isSelectable(s))){let u=Hd(n.doc,o.before(),o.after(),K.empty);if(u&&u.slice.size<u.to-u.from){if(t){let l=n.tr.step(u);l.setSelection(ko(s,"start")?ct.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):X.create(l.doc,l.mapping.map(i.pos))),t(l.scrollIntoView())}return!0}}return s.isAtom&&i.depth==o.depth-1?(t&&t(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},$x=(n,t,e)=>{let{$head:o,empty:i}=n.selection,s=o;if(!i)return!1;if(o.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):o.parentOffset<o.parent.content.size)return!1;s=mh(o)}let u=s&&s.nodeAfter;return!u||!X.isSelectable(u)?!1:(t&&t(n.tr.setSelection(X.create(n.doc,s.pos)).scrollIntoView()),!0)};function mh(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}const Nx=(n,t)=>{let e=n.selection,o=e instanceof X,i;if(o){if(e.node.isTextblock||!vr(n.doc,e.from))return!1;i=e.from}else if(i=Bd(n.doc,e.from,-1),i==null)return!1;if(t){let s=n.tr.join(i);o&&s.setSelection(X.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),t(s.scrollIntoView())}return!0},Dx=(n,t)=>{let e=n.selection,o;if(e instanceof X){if(e.node.isTextblock||!vr(n.doc,e.to))return!1;o=e.to}else if(o=Bd(n.doc,e.to,1),o==null)return!1;return t&&t(n.tr.join(o).scrollIntoView()),!0},Lx=(n,t)=>{let{$from:e,$to:o}=n.selection,i=e.blockRange(o),s=i&&Ao(i);return s==null?!1:(t&&t(n.tr.lift(i,s).scrollIntoView()),!0)},zx=(n,t)=>{let{$head:e,$anchor:o}=n.selection;return!e.parent.type.spec.code||!e.sameParent(o)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function gh(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const Rx=(n,t)=>{let{$head:e,$anchor:o}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(o))return!1;let i=e.node(-1),s=e.indexAfter(-1),u=gh(i.contentMatchAt(s));if(!u||!i.canReplaceWith(s,s,u))return!1;if(t){let l=e.after(),f=n.tr.replaceWith(l,l,u.createAndFill());f.setSelection(ct.near(f.doc.resolve(l),1)),t(f.scrollIntoView())}return!0},jx=(n,t)=>{let e=n.selection,{$from:o,$to:i}=e;if(e instanceof hn||o.parent.inlineContent||i.parent.inlineContent)return!1;let s=gh(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let u=(!o.parentOffset&&i.index()<i.parent.childCount?o:i).pos,l=n.tr.insert(u,s.createAndFill());l.setSelection(lt.create(l.doc,u+1)),t(l.scrollIntoView())}return!0},Bx=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let s=e.before();if(yo(n.doc,s))return t&&t(n.tr.split(s).scrollIntoView()),!0}let o=e.blockRange(),i=o&&Ao(o);return i==null?!1:(t&&t(n.tr.lift(o,i).scrollIntoView()),!0)},Px=(n,t)=>{let{$from:e,to:o}=n.selection,i,s=e.sharedDepth(o);return s==0?!1:(i=e.before(s),t&&t(n.tr.setSelection(X.create(n.doc,i))),!0)};function Hx(n,t,e){let o=t.nodeBefore,i=t.nodeAfter,s=t.index();return!o||!i||!o.type.compatibleContent(i.type)?!1:!o.content.size&&t.parent.canReplace(s-1,s)?(e&&e(n.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(s,s+1)||!(i.isTextblock||vr(n.doc,t.pos))?!1:(e&&e(n.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),!0)}function vh(n,t,e){let o=t.nodeBefore,i=t.nodeAfter,s,u;if(o.type.spec.isolating||i.type.spec.isolating)return!1;if(Hx(n,t,e))return!0;let l=t.parent.canReplace(t.index(),t.index()+1);if(l&&(s=(u=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&u.matchType(s[0]||i.type).validEnd){if(e){let g=t.pos+i.nodeSize,b=F.empty;for(let S=s.length-1;S>=0;S--)b=F.from(s[S].create(null,b));b=F.from(o.copy(b));let w=n.tr.step(new Oe(t.pos-1,g,t.pos,g,new K(b,1,0),s.length,!0)),C=g+2*s.length;vr(w.doc,C)&&w.join(C),e(w.scrollIntoView())}return!0}let f=ct.findFrom(t,1),h=f&&f.$from.blockRange(f.$to),d=h&&Ao(h);if(d!=null&&d>=t.depth)return e&&e(n.tr.lift(h,d).scrollIntoView()),!0;if(l&&ko(i,"start",!0)&&ko(o,"end")){let g=o,b=[];for(;b.push(g),!g.isTextblock;)g=g.lastChild;let w=i,C=1;for(;!w.isTextblock;w=w.firstChild)C++;if(g.canReplace(g.childCount,g.childCount,w.content)){if(e){let S=F.empty;for(let z=b.length-1;z>=0;z--)S=F.from(b[z].copy(S));let A=n.tr.step(new Oe(t.pos-b.length,t.pos+i.nodeSize,t.pos+C,t.pos+i.nodeSize-C,new K(S,b.length,0),0,!0));e(A.scrollIntoView())}return!0}}return!1}function yh(n){return function(t,e){let o=t.selection,i=n<0?o.$from:o.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(e&&e(t.tr.setSelection(lt.create(t.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const Fx=yh(-1),qx=yh(1);function Vx(n,t=null){return function(e,o){let{$from:i,$to:s}=e.selection,u=i.blockRange(s),l=u&&Xu(u,n,t);return l?(o&&o(e.tr.wrap(u,l).scrollIntoView()),!0):!1}}function Dp(n,t=null){return function(e,o){let i=!1;for(let s=0;s<e.selection.ranges.length&&!i;s++){let{$from:{pos:u},$to:{pos:l}}=e.selection.ranges[s];e.doc.nodesBetween(u,l,(f,h)=>{if(i)return!1;if(!(!f.isTextblock||f.hasMarkup(n,t)))if(f.type==n)i=!0;else{let d=e.doc.resolve(h),g=d.index();i=d.parent.canReplaceWith(g,g+1,n)}})}if(!i)return!1;if(o){let s=e.tr;for(let u=0;u<e.selection.ranges.length;u++){let{$from:{pos:l},$to:{pos:f}}=e.selection.ranges[u];s.setBlockType(l,f,n,t)}o(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Wx(n,t=null){return function(e,o){let{$from:i,$to:s}=e.selection,u=i.blockRange(s),l=!1,f=u;if(!u)return!1;if(u.depth>=2&&i.node(u.depth-1).type.compatibleContent(n)&&u.startIndex==0){if(i.index(u.depth-1)==0)return!1;let d=e.doc.resolve(u.start-2);f=new $u(d,d,u.depth),u.endIndex<u.parent.childCount&&(u=new $u(i,e.doc.resolve(s.end(u.depth)),u.depth)),l=!0}let h=Xu(f,n,t,u);return h?(o&&o(Kx(e.tr,u,h,l,n).scrollIntoView()),!0):!1}}function Kx(n,t,e,o,i){let s=F.empty;for(let d=e.length-1;d>=0;d--)s=F.from(e[d].type.create(e[d].attrs,s));n.step(new Oe(t.start-(o?2:0),t.end,t.start,t.end,new K(s,0,0),e.length,!0));let u=0;for(let d=0;d<e.length;d++)e[d].type==i&&(u=d+1);let l=e.length-u,f=t.start+e.length-(o?2:0),h=t.parent;for(let d=t.startIndex,g=t.endIndex,b=!0;d<g;d++,b=!1)!b&&yo(n.doc,f,l)&&(n.split(f,l),f+=2*l),f+=h.child(d).nodeSize;return n}function Ux(n){return function(t,e){let{$from:o,$to:i}=t.selection,s=o.blockRange(i,u=>u.childCount>0&&u.firstChild.type==n);return s?e?o.node(s.depth-1).type==n?Jx(t,e,n,s):Gx(t,e,s):!0:!1}}function Jx(n,t,e,o){let i=n.tr,s=o.end,u=o.$to.end(o.depth);s<u&&(i.step(new Oe(s-1,u,s,u,new K(F.from(e.create(null,o.parent.copy())),1,0),1,!0)),o=new $u(i.doc.resolve(o.$from.pos),i.doc.resolve(u),o.depth));const l=Ao(o);if(l==null)return!1;i.lift(o,l);let f=i.mapping.map(s,-1)-1;return vr(i.doc,f)&&i.join(f),t(i.scrollIntoView()),!0}function Gx(n,t,e){let o=n.tr,i=e.parent;for(let w=e.end,C=e.endIndex-1,S=e.startIndex;C>S;C--)w-=i.child(C).nodeSize,o.delete(w-1,w+1);let s=o.doc.resolve(e.start),u=s.nodeAfter;if(o.mapping.map(e.end)!=e.start+s.nodeAfter.nodeSize)return!1;let l=e.startIndex==0,f=e.endIndex==i.childCount,h=s.node(-1),d=s.index(-1);if(!h.canReplace(d+(l?0:1),d+1,u.content.append(f?F.empty:F.from(i))))return!1;let g=s.pos,b=g+u.nodeSize;return o.step(new Oe(g-(l?1:0),b+(f?1:0),g+1,b-1,new K((l?F.empty:F.from(i.copy(F.empty))).append(f?F.empty:F.from(i.copy(F.empty))),l?0:1,f?0:1),l?0:1)),t(o.scrollIntoView()),!0}function Yx(n){return function(t,e){let{$from:o,$to:i}=t.selection,s=o.blockRange(i,h=>h.childCount>0&&h.firstChild.type==n);if(!s)return!1;let u=s.startIndex;if(u==0)return!1;let l=s.parent,f=l.child(u-1);if(f.type!=n)return!1;if(e){let h=f.lastChild&&f.lastChild.type==l.type,d=F.from(h?n.create():null),g=new K(F.from(n.create(null,F.from(l.type.create(null,d)))),h?3:1,0),b=s.start,w=s.end;e(t.tr.step(new Oe(b-(h?3:1),w,b,w,g,1,!0)).scrollIntoView())}return!0}}function bh(n){const{state:t,transaction:e}=n;let{selection:o}=e,{doc:i}=e,{storedMarks:s}=e;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return o},get doc(){return i},get tr(){return o=e.selection,i=e.doc,s=e.storedMarks,e}}}class Zx{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:o}=this,{view:i}=e,{tr:s}=o,u=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([l,f])=>[l,(...h)=>{const d=f(...h)(u);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:o,editor:i,state:s}=this,{view:u}=i,l=[],f=!!t,h=t||s.tr,d=()=>(!f&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&u.dispatch(h),l.every(b=>b===!0)),g={...Object.fromEntries(Object.entries(o).map(([b,w])=>[b,(...C)=>{const S=this.buildProps(h,e),A=w(...C)(S);return l.push(A),g}])),run:d};return g}createCan(t){const{rawCommands:e,state:o}=this,i=!1,s=t||o.tr,u=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(e).map(([l,f])=>[l,(...h)=>f(...h)({...u,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(t,e=!0){const{rawCommands:o,editor:i,state:s}=this,{view:u}=i;s.storedMarks&&t.setStoredMarks(s.storedMarks);const l={tr:t,editor:i,view:u,state:bh({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(o).map(([f,h])=>[f,(...d)=>h(...d)(l)]))}};return l}}function Wt(n,t,e){return n.config[t]===void 0&&n.parent?Wt(n.parent,t,e):typeof n.config[t]=="function"?n.config[t].bind({...e,parent:n.parent?Wt(n.parent,t,e):null}):n.config[t]}function Xx(n){const t=n.filter(i=>i.type==="extension"),e=n.filter(i=>i.type==="node"),o=n.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:o}}function ue(n,t){if(typeof n=="string"){if(!t.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return t.nodes[n]}return n}function te(...n){return n.filter(t=>!!t).reduce((t,e)=>{const o={...t};return Object.entries(e).forEach(([i,s])=>{if(!o[i]){o[i]=s;return}i==="class"?o[i]=[o[i],s].join(" "):i==="style"?o[i]=[o[i],s].join("; "):o[i]=s}),o},{})}function Qx(n){return typeof n=="function"}function Nt(n,t=void 0,...e){return Qx(n)?t?n.bind(t)(...e):n(...e):n}function t_(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class Fa{constructor(t){this.find=t.find,this.handler=t.handler}}class e_{constructor(t){this.find=t.find,this.handler=t.handler}}function n_(n){return Object.prototype.toString.call(n).slice(8,-1)}function bu(n){return n_(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function qa(n,t){const e={...n};return bu(n)&&bu(t)&&Object.keys(t).forEach(o=>{bu(t[o])?o in n?e[o]=qa(n[o],t[o]):Object.assign(e,{[o]:t[o]}):Object.assign(e,{[o]:t[o]})}),e}class ke{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Nt(Wt(this,"addOptions",{name:this.name}))),this.storage=Nt(Wt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new ke(t)}configure(t={}){const e=this.extend();return e.options=qa(this.options,t),e.storage=Nt(Wt(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new ke(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=Nt(Wt(e,"addOptions",{name:e.name})),e.storage=Nt(Wt(e,"addStorage",{name:e.name,options:e.options})),e}}function r_(n,t,e){const{from:o,to:i}=t,{blockSeparator:s=`

`,textSerializers:u={}}=e||{};let l="",f=!0;return n.nodesBetween(o,i,(h,d,g,b)=>{var w;const C=u==null?void 0:u[h.type.name];C?(h.isBlock&&!f&&(l+=s,f=!0),g&&(l+=C({node:h,pos:d,parent:g,index:b,range:t}))):h.isText?(l+=(w=h==null?void 0:h.text)===null||w===void 0?void 0:w.slice(Math.max(o,d)-d,i-d),f=!1):h.isBlock&&!f&&(l+=s,f=!0)}),l}function o_(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}ke.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new mn({key:new Ln("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:t,schema:e}=n,{doc:o,selection:i}=t,{ranges:s}=i,u=Math.min(...s.map(h=>h.$from.pos)),l=Math.max(...s.map(h=>h.$to.pos)),f=o_(e);return r_(o,{from:u,to:l},{textSerializers:f})}}})]}});const i_=()=>({editor:n,view:t})=>(requestAnimationFrame(()=>{var e;n.isDestroyed||(t.dom.blur(),(e=window==null?void 0:window.getSelection())===null||e===void 0||e.removeAllRanges())}),!0),a_=(n=!1)=>({commands:t})=>t.setContent("",n),s_=()=>({state:n,tr:t,dispatch:e})=>{const{selection:o}=t,{ranges:i}=o;return e&&i.forEach(({$from:s,$to:u})=>{n.doc.nodesBetween(s.pos,u.pos,(l,f)=>{if(l.type.isText)return;const{doc:h,mapping:d}=t,g=h.resolve(d.map(f)),b=h.resolve(d.map(f+l.nodeSize)),w=g.blockRange(b);if(!w)return;const C=Ao(w);if(l.type.isTextblock){const{defaultType:S}=g.parent.contentMatchAt(g.index());t.setNodeMarkup(w.start,S)}(C||C===0)&&t.lift(w,C)})}),!0},u_=n=>t=>n(t),c_=()=>({state:n,dispatch:t})=>jx(n,t),l_=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,o=e.$anchor.node();if(o.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===o.type){if(t){const u=i.before(s),l=i.after(s);n.delete(u,l).scrollIntoView()}return!0}return!1},f_=n=>({tr:t,state:e,dispatch:o})=>{const i=ue(n,e.schema),s=t.selection.$anchor;for(let u=s.depth;u>0;u-=1)if(s.node(u).type===i){if(o){const l=s.before(u),f=s.after(u);t.delete(l,f).scrollIntoView()}return!0}return!1},p_=n=>({tr:t,dispatch:e})=>{const{from:o,to:i}=n;return e&&t.delete(o,i),!0},d_=()=>({state:n,dispatch:t})=>Cx(n,t),h_=()=>({commands:n})=>n.keyboardShortcut("Enter"),m_=()=>({state:n,dispatch:t})=>Rx(n,t);function Ea(n,t,e={strict:!0}){const o=Object.keys(t);return o.length?o.every(i=>e.strict?t[i]===n[i]:t_(t[i])?t[i].test(n[i]):t[i]===n[i]):!0}function Fu(n,t,e={}){return n.find(o=>o.type===t&&Ea(o.attrs,e))}function g_(n,t,e={}){return!!Fu(n,t,e)}function uc(n,t,e={}){if(!n||!t)return;let o=n.parent.childAfter(n.parentOffset);if(n.parentOffset===o.offset&&o.offset!==0&&(o=n.parent.childBefore(n.parentOffset)),!o.node)return;const i=Fu([...o.node.marks],t,e);if(!i)return;let s=o.index,u=n.start()+o.offset,l=s+1,f=u+o.node.nodeSize;for(Fu([...o.node.marks],t,e);s>0&&i.isInSet(n.parent.child(s-1).marks);)s-=1,u-=n.parent.child(s).nodeSize;for(;l<n.parent.childCount&&g_([...n.parent.child(l).marks],t,e);)f+=n.parent.child(l).nodeSize,l+=1;return{from:u,to:f}}function br(n,t){if(typeof n=="string"){if(!t.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return t.marks[n]}return n}const v_=(n,t={})=>({tr:e,state:o,dispatch:i})=>{const s=br(n,o.schema),{doc:u,selection:l}=e,{$from:f,from:h,to:d}=l;if(i){const g=uc(f,s,t);if(g&&g.from<=h&&g.to>=d){const b=lt.create(u,g.from,g.to);e.setSelection(b)}}return!0},y_=n=>t=>{const e=typeof n=="function"?n(t):n;for(let o=0;o<e.length;o+=1)if(e[o](t))return!0;return!1};function cc(n){return n instanceof lt}function Gn(n=0,t=0,e=0){return Math.min(Math.max(n,t),e)}function b_(n,t=null){if(!t)return null;const e=ct.atStart(n),o=ct.atEnd(n);if(t==="start"||t===!0)return e;if(t==="end")return o;const i=e.from,s=o.to;return t==="all"?lt.create(n,Gn(0,i,s),Gn(n.content.size,i,s)):lt.create(n,Gn(t,i,s),Gn(t,i,s))}function lc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const w_=(n=null,t={})=>({editor:e,view:o,tr:i,dispatch:s})=>{t={scrollIntoView:!0,...t};const u=()=>{lc()&&o.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(o.focus(),t!=null&&t.scrollIntoView&&e.commands.scrollIntoView())})};if(o.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!cc(e.state.selection))return u(),!0;const l=b_(i.doc,n)||e.state.selection,f=e.state.selection.eq(l);return s&&(f||i.setSelection(l),f&&i.storedMarks&&i.setStoredMarks(i.storedMarks),u()),!0},k_=(n,t)=>e=>n.every((o,i)=>t(o,{...e,index:i})),x_=(n,t)=>({tr:e,commands:o})=>o.insertContentAt({from:e.selection.from,to:e.selection.to},n,t);function Lp(n){const t=`<body>${n}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function Ia(n,t,e){if(e={slice:!0,parseOptions:{},...e},typeof n=="object"&&n!==null)try{return Array.isArray(n)&&n.length>0?F.fromArray(n.map(o=>t.nodeFromJSON(o))):t.nodeFromJSON(n)}catch(o){return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",o),Ia("",t,e)}if(typeof n=="string"){const o=fi.fromSchema(t);return e.slice?o.parseSlice(Lp(n),e.parseOptions).content:o.parse(Lp(n),e.parseOptions)}return Ia("",t,e)}function __(n,t,e){const o=n.steps.length-1;if(o<t)return;const i=n.steps[o];if(!(i instanceof Ze||i instanceof Oe))return;const s=n.mapping.maps[o];let u=0;s.forEach((l,f,h,d)=>{u===0&&(u=d)}),n.setSelection(ct.near(n.doc.resolve(u),e))}const M_=n=>n.toString().startsWith("<"),S_=(n,t,e)=>({tr:o,dispatch:i,editor:s})=>{if(i){e={parseOptions:{},updateSelection:!0,...e};const u=Ia(t,s.schema,{parseOptions:{preserveWhitespace:"full",...e.parseOptions}});if(u.toString()==="<>")return!0;let{from:l,to:f}=typeof n=="number"?{from:n,to:n}:n,h=!0,d=!0;if((M_(u)?u:[u]).forEach(g=>{g.check(),h=h?g.isText&&g.marks.length===0:!1,d=d?g.isBlock:!1}),l===f&&d){const{parent:g}=o.doc.resolve(l);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(l-=1,f+=1)}h?Array.isArray(t)?o.insertText(t.map(g=>g.text||"").join(""),l,f):typeof t=="object"&&t&&t.text?o.insertText(t.text,l,f):o.insertText(t,l,f):o.replaceWith(l,f,u),e.updateSelection&&__(o,o.steps.length-1,-1)}return!0},C_=()=>({state:n,dispatch:t})=>Nx(n,t),T_=()=>({state:n,dispatch:t})=>Dx(n,t),O_=()=>({state:n,dispatch:t})=>Ox(n,t),A_=()=>({state:n,dispatch:t})=>Ix(n,t);function wh(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function E_(n){const t=n.split(/-(?!$)/);let e=t[t.length-1];e==="Space"&&(e=" ");let o,i,s,u;for(let l=0;l<t.length-1;l+=1){const f=t[l];if(/^(cmd|meta|m)$/i.test(f))u=!0;else if(/^a(lt)?$/i.test(f))o=!0;else if(/^(c|ctrl|control)$/i.test(f))i=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))lc()||wh()?u=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return o&&(e=`Alt-${e}`),i&&(e=`Ctrl-${e}`),u&&(e=`Meta-${e}`),s&&(e=`Shift-${e}`),e}const I_=n=>({editor:t,view:e,tr:o,dispatch:i})=>{const s=E_(n).split(/-(?!$)/),u=s.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),l=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=t.captureTransaction(()=>{e.someProp("handleKeyDown",h=>h(e,l))});return f==null||f.steps.forEach(h=>{const d=h.map(o.mapping);d&&i&&o.maybeStep(d)}),!0};function fc(n,t,e={}){const{from:o,to:i,empty:s}=n.selection,u=t?ue(t,n.schema):null,l=[];n.doc.nodesBetween(o,i,(d,g)=>{if(d.isText)return;const b=Math.max(o,g),w=Math.min(i,g+d.nodeSize);l.push({node:d,from:b,to:w})});const f=i-o,h=l.filter(d=>u?u.name===d.node.type.name:!0).filter(d=>Ea(d.node.attrs,e,{strict:!1}));return s?!!h.length:h.reduce((d,g)=>d+g.to-g.from,0)>=f}const $_=(n,t={})=>({state:e,dispatch:o})=>{const i=ue(n,e.schema);return fc(e,i,t)?Lx(e,o):!1},N_=()=>({state:n,dispatch:t})=>Bx(n,t),D_=n=>({state:t,dispatch:e})=>{const o=ue(n,t.schema);return Ux(o)(t,e)},L_=()=>({state:n,dispatch:t})=>zx(n,t);function kh(n,t){return t.nodes[n]?"node":t.marks[n]?"mark":null}function zp(n,t){const e=typeof t=="string"?[t]:t;return Object.keys(n).reduce((o,i)=>(e.includes(i)||(o[i]=n[i]),o),{})}const z_=(n,t)=>({tr:e,state:o,dispatch:i})=>{let s=null,u=null;const l=kh(typeof n=="string"?n:n.name,o.schema);return l?(l==="node"&&(s=ue(n,o.schema)),l==="mark"&&(u=br(n,o.schema)),i&&e.selection.ranges.forEach(f=>{o.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,d)=>{s&&s===h.type&&e.setNodeMarkup(d,void 0,zp(h.attrs,t)),u&&h.marks.length&&h.marks.forEach(g=>{u===g.type&&e.addMark(d,d+h.nodeSize,u.create(zp(g.attrs,t)))})})}),!0):!1},R_=()=>({tr:n,dispatch:t})=>(t&&n.scrollIntoView(),!0),j_=()=>({tr:n,commands:t})=>t.setTextSelection({from:0,to:n.doc.content.size}),B_=()=>({state:n,dispatch:t})=>Ax(n,t),P_=()=>({state:n,dispatch:t})=>$x(n,t),H_=()=>({state:n,dispatch:t})=>Px(n,t),F_=()=>({state:n,dispatch:t})=>qx(n,t),q_=()=>({state:n,dispatch:t})=>Fx(n,t);function V_(n,t,e={}){return Ia(n,t,{slice:!1,parseOptions:e})}const W_=(n,t=!1,e={})=>({tr:o,editor:i,dispatch:s})=>{const{doc:u}=o,l=V_(n,i.schema,e);return s&&o.replaceWith(0,u.content.size,l).setMeta("preventUpdate",!t),!0};function K_(n){for(let t=0;t<n.edgeCount;t+=1){const{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function U_(n,t){for(let e=n.depth;e>0;e-=1){const o=n.node(e);if(t(o))return{pos:e>0?n.before(e):0,start:n.start(e),depth:e,node:o}}}function pc(n){return t=>U_(t.$from,n)}function dc(n,t){const e=br(t,n.schema),{from:o,to:i,empty:s}=n.selection,u=[];s?(n.storedMarks&&u.push(...n.storedMarks),u.push(...n.selection.$head.marks())):n.doc.nodesBetween(o,i,f=>{u.push(...f.marks)});const l=u.find(f=>f.type.name===e.name);return l?{...l.attrs}:{}}function xh(n,t,e){const o=[];return n===t?e.resolve(n).marks().forEach(i=>{const s=e.resolve(n-1),u=uc(s,i.type);u&&o.push({mark:i,...u})}):e.nodesBetween(n,t,(i,s)=>{o.push(...i.marks.map(u=>({from:s,to:s+i.nodeSize,mark:u})))}),o}function ba(n,t,e){return Object.fromEntries(Object.entries(e).filter(([o])=>{const i=n.find(s=>s.type===t&&s.name===o);return i?i.attribute.keepOnSplit:!1}))}function J_(n,t,e={}){const{empty:o,ranges:i}=n.selection,s=t?br(t,n.schema):null;if(o)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>Ea(d.attrs,e,{strict:!1}));let u=0;const l=[];if(i.forEach(({$from:d,$to:g})=>{const b=d.pos,w=g.pos;n.doc.nodesBetween(b,w,(C,S)=>{if(!C.isText&&!C.marks.length)return;const A=Math.max(b,S),z=Math.min(w,S+C.nodeSize),N=z-A;u+=N,l.push(...C.marks.map(R=>({mark:R,from:A,to:z})))})}),u===0)return!1;const f=l.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>Ea(d.mark.attrs,e,{strict:!1})).reduce((d,g)=>d+g.to-g.from,0),h=l.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,g)=>d+g.to-g.from,0);return(f>0?f+h:f)>=u}function Rp(n,t){const{nodeExtensions:e}=Xx(t),o=e.find(u=>u.name===n);if(!o)return!1;const i={name:o.name,options:o.options,storage:o.storage},s=Nt(Wt(o,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function G_(n){return n instanceof X}function _h(n,t,e){const o=n.state.doc.content.size,i=Gn(t,0,o),s=Gn(e,0,o),u=n.coordsAtPos(i),l=n.coordsAtPos(s,-1),f=Math.min(u.top,l.top),h=Math.max(u.bottom,l.bottom),d=Math.min(u.left,l.left),g=Math.max(u.right,l.right),b=g-d,w=h-f,C={top:f,bottom:h,left:d,right:g,width:b,height:w,x:d,y:f};return{...C,toJSON:()=>C}}function Y_(n,t,e){var o;const{selection:i}=t;let s=null;if(cc(i)&&(s=i.$cursor),s){const l=(o=n.storedMarks)!==null&&o!==void 0?o:s.marks();return!!e.isInSet(l)||!l.some(f=>f.type.excludes(e))}const{ranges:u}=i;return u.some(({$from:l,$to:f})=>{let h=l.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(e):!1;return n.doc.nodesBetween(l.pos,f.pos,(d,g,b)=>{if(h)return!1;if(d.isInline){const w=!b||b.type.allowsMarkType(e),C=!!e.isInSet(d.marks)||!d.marks.some(S=>S.type.excludes(e));h=w&&C}return!h}),h})}const Z_=(n,t={})=>({tr:e,state:o,dispatch:i})=>{const{selection:s}=e,{empty:u,ranges:l}=s,f=br(n,o.schema);if(i)if(u){const h=dc(o,f);e.addStoredMark(f.create({...h,...t}))}else l.forEach(h=>{const d=h.$from.pos,g=h.$to.pos;o.doc.nodesBetween(d,g,(b,w)=>{const C=Math.max(w,d),S=Math.min(w+b.nodeSize,g);b.marks.find(A=>A.type===f)?b.marks.forEach(A=>{f===A.type&&e.addMark(C,S,f.create({...A.attrs,...t}))}):e.addMark(C,S,f.create(t))})});return Y_(o,e,f)},X_=(n,t)=>({tr:e})=>(e.setMeta(n,t),!0),Q_=(n,t={})=>({state:e,dispatch:o,chain:i})=>{const s=ue(n,e.schema);return s.isTextblock?i().command(({commands:u})=>Dp(s,t)(e)?!0:u.clearNodes()).command(({state:u})=>Dp(s,t)(u,o)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},tM=n=>({tr:t,dispatch:e})=>{if(e){const{doc:o}=t,i=Gn(n,0,o.content.size),s=X.create(o,i);t.setSelection(s)}return!0},eM=n=>({tr:t,dispatch:e})=>{if(e){const{doc:o}=t,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,u=lt.atStart(o).from,l=lt.atEnd(o).to,f=Gn(i,u,l),h=Gn(s,u,l),d=lt.create(o,f,h);t.setSelection(d)}return!0},nM=n=>({state:t,dispatch:e})=>{const o=ue(n,t.schema);return Yx(o)(t,e)};function jp(n,t){const e=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(e){const o=e.filter(i=>t==null?void 0:t.includes(i.type.name));n.tr.ensureMarks(o)}}const rM=({keepMarks:n=!0}={})=>({tr:t,state:e,dispatch:o,editor:i})=>{const{selection:s,doc:u}=t,{$from:l,$to:f}=s,h=i.extensionManager.attributes,d=ba(h,l.node().type.name,l.node().attrs);if(s instanceof X&&s.node.isBlock)return!l.parentOffset||!yo(u,l.pos)?!1:(o&&(n&&jp(e,i.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(o){const g=f.parentOffset===f.parent.content.size;s instanceof lt&&t.deleteSelection();const b=l.depth===0?void 0:K_(l.node(-1).contentMatchAt(l.indexAfter(-1)));let w=g&&b?[{type:b,attrs:d}]:void 0,C=yo(t.doc,t.mapping.map(l.pos),1,w);if(!w&&!C&&yo(t.doc,t.mapping.map(l.pos),1,b?[{type:b}]:void 0)&&(C=!0,w=b?[{type:b,attrs:d}]:void 0),C&&(t.split(t.mapping.map(l.pos),1,w),b&&!g&&!l.parentOffset&&l.parent.type!==b)){const S=t.mapping.map(l.before()),A=t.doc.resolve(S);l.node(-1).canReplaceWith(A.index(),A.index()+1,b)&&t.setNodeMarkup(t.mapping.map(l.before()),b)}n&&jp(e,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0},oM=n=>({tr:t,state:e,dispatch:o,editor:i})=>{var s;const u=ue(n,e.schema),{$from:l,$to:f}=e.selection,h=e.selection.node;if(h&&h.isBlock||l.depth<2||!l.sameParent(f))return!1;const d=l.node(-1);if(d.type!==u)return!1;const g=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==u||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let A=F.empty;const z=l.index(-1)?1:l.index(-2)?2:3;for(let U=l.depth-z;U>=l.depth-3;U-=1)A=F.from(l.node(U).copy(A));const N=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,R=ba(g,l.node().type.name,l.node().attrs),x=((s=u.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(R))||void 0;A=A.append(F.from(u.createAndFill(null,x)||void 0));const P=l.before(l.depth-(z-1));t.replace(P,l.after(-N),new K(A,4-z,0));let j=-1;t.doc.nodesBetween(P,t.doc.content.size,(U,it)=>{if(j>-1)return!1;U.isTextblock&&U.content.size===0&&(j=it+1)}),j>-1&&t.setSelection(lt.near(t.doc.resolve(j))),t.scrollIntoView()}return!0}const b=f.pos===l.end()?d.contentMatchAt(0).defaultType:null,w=ba(g,d.type.name,d.attrs),C=ba(g,l.node().type.name,l.node().attrs);t.delete(l.pos,f.pos);const S=b?[{type:u,attrs:w},{type:b,attrs:C}]:[{type:u,attrs:w}];if(!yo(t.doc,l.pos,2))return!1;if(o){const{selection:A,storedMarks:z}=e,{splittableMarks:N}=i.extensionManager,R=z||A.$to.parentOffset&&A.$from.marks();if(t.split(l.pos,2,S).scrollIntoView(),!R||!o)return!0;const x=R.filter(P=>N.includes(P.type.name));t.ensureMarks(x)}return!0},wu=(n,t)=>{const e=pc(s=>s.type===t)(n.selection);if(!e)return!0;const o=n.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(o===void 0)return!0;const i=n.doc.nodeAt(o);return e.node.type===(i==null?void 0:i.type)&&vr(n.doc,e.pos)&&n.join(e.pos),!0},ku=(n,t)=>{const e=pc(s=>s.type===t)(n.selection);if(!e)return!0;const o=n.doc.resolve(e.start).after(e.depth);if(o===void 0)return!0;const i=n.doc.nodeAt(o);return e.node.type===(i==null?void 0:i.type)&&vr(n.doc,o)&&n.join(o),!0},iM=(n,t,e,o={})=>({editor:i,tr:s,state:u,dispatch:l,chain:f,commands:h,can:d})=>{const{extensions:g,splittableMarks:b}=i.extensionManager,w=ue(n,u.schema),C=ue(t,u.schema),{selection:S,storedMarks:A}=u,{$from:z,$to:N}=S,R=z.blockRange(N),x=A||S.$to.parentOffset&&S.$from.marks();if(!R)return!1;const P=pc(j=>Rp(j.type.name,g))(S);if(R.depth>=1&&P&&R.depth-P.depth<=1){if(P.node.type===w)return h.liftListItem(C);if(Rp(P.node.type.name,g)&&w.validContent(P.node.content)&&l)return f().command(()=>(s.setNodeMarkup(P.pos,w),!0)).command(()=>wu(s,w)).command(()=>ku(s,w)).run()}return!e||!x||!l?f().command(()=>d().wrapInList(w,o)?!0:h.clearNodes()).wrapInList(w,o).command(()=>wu(s,w)).command(()=>ku(s,w)).run():f().command(()=>{const j=d().wrapInList(w,o),U=x.filter(it=>b.includes(it.type.name));return s.ensureMarks(U),j?!0:h.clearNodes()}).wrapInList(w,o).command(()=>wu(s,w)).command(()=>ku(s,w)).run()},aM=(n,t={},e={})=>({state:o,commands:i})=>{const{extendEmptyMarkRange:s=!1}=e,u=br(n,o.schema);return J_(o,u,t)?i.unsetMark(u,{extendEmptyMarkRange:s}):i.setMark(u,t)},sM=(n,t,e={})=>({state:o,commands:i})=>{const s=ue(n,o.schema),u=ue(t,o.schema);return fc(o,s,e)?i.setNode(u):i.setNode(s,e)},uM=(n,t={})=>({state:e,commands:o})=>{const i=ue(n,e.schema);return fc(e,i,t)?o.lift(i):o.wrapIn(i,t)},cM=()=>({state:n,dispatch:t})=>{const e=n.plugins;for(let o=0;o<e.length;o+=1){const i=e[o];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(t){const u=n.tr,l=s.transform;for(let f=l.steps.length-1;f>=0;f-=1)u.step(l.steps[f].invert(l.docs[f]));if(s.text){const f=u.doc.resolve(s.from).marks();u.replaceWith(s.from,s.to,n.schema.text(s.text,f))}else u.delete(s.from,s.to)}return!0}}return!1},lM=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,{empty:o,ranges:i}=e;return o||t&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},fM=(n,t={})=>({tr:e,state:o,dispatch:i})=>{var s;const{extendEmptyMarkRange:u=!1}=t,{selection:l}=e,f=br(n,o.schema),{$from:h,empty:d,ranges:g}=l;if(!i)return!0;if(d&&u){let{from:b,to:w}=l;const C=(s=h.marks().find(A=>A.type===f))===null||s===void 0?void 0:s.attrs,S=uc(h,f,C);S&&(b=S.from,w=S.to),e.removeMark(b,w,f)}else g.forEach(b=>{e.removeMark(b.$from.pos,b.$to.pos,f)});return e.removeStoredMark(f),!0},pM=(n,t={})=>({tr:e,state:o,dispatch:i})=>{let s=null,u=null;const l=kh(typeof n=="string"?n:n.name,o.schema);return l?(l==="node"&&(s=ue(n,o.schema)),l==="mark"&&(u=br(n,o.schema)),i&&e.selection.ranges.forEach(f=>{const h=f.$from.pos,d=f.$to.pos;o.doc.nodesBetween(h,d,(g,b)=>{s&&s===g.type&&e.setNodeMarkup(b,void 0,{...g.attrs,...t}),u&&g.marks.length&&g.marks.forEach(w=>{if(u===w.type){const C=Math.max(b,h),S=Math.min(b+g.nodeSize,d);e.addMark(C,S,u.create({...w.attrs,...t}))}})})}),!0):!1},dM=(n,t={})=>({state:e,dispatch:o})=>{const i=ue(n,e.schema);return Vx(i,t)(e,o)},hM=(n,t={})=>({state:e,dispatch:o})=>{const i=ue(n,e.schema);return Wx(i,t)(e,o)};var mM=Object.freeze({__proto__:null,blur:i_,clearContent:a_,clearNodes:s_,command:u_,createParagraphNear:c_,deleteCurrentNode:l_,deleteNode:f_,deleteRange:p_,deleteSelection:d_,enter:h_,exitCode:m_,extendMarkRange:v_,first:y_,focus:w_,forEach:k_,insertContent:x_,insertContentAt:S_,joinUp:C_,joinDown:T_,joinBackward:O_,joinForward:A_,keyboardShortcut:I_,lift:$_,liftEmptyBlock:N_,liftListItem:D_,newlineInCode:L_,resetAttributes:z_,scrollIntoView:R_,selectAll:j_,selectNodeBackward:B_,selectNodeForward:P_,selectParentNode:H_,selectTextblockEnd:F_,selectTextblockStart:q_,setContent:W_,setMark:Z_,setMeta:X_,setNode:Q_,setNodeSelection:tM,setTextSelection:eM,sinkListItem:nM,splitBlock:rM,splitListItem:oM,toggleList:iM,toggleMark:aM,toggleNode:sM,toggleWrap:uM,undoInputRule:cM,unsetAllMarks:lM,unsetMark:fM,updateAttributes:pM,wrapIn:dM,wrapInList:hM});ke.create({name:"commands",addCommands(){return{...mM}}});ke.create({name:"editable",addProseMirrorPlugins(){return[new mn({key:new Ln("editable"),props:{editable:()=>this.editor.options.editable}})]}});ke.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new mn({key:new Ln("focusEvents"),props:{handleDOMEvents:{focus:(t,e)=>{n.isFocused=!0;const o=n.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(o),!1},blur:(t,e)=>{n.isFocused=!1;const o=n.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(o),!1}}}})]}});ke.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:u})=>{const{selection:l,doc:f}=u,{empty:h,$anchor:d}=l,{pos:g,parent:b}=d,w=ct.atStart(f).from===g;return!h||!w||!b.type.isTextblock||b.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),e={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...e},i={...e,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return lc()||wh()?i:o},addProseMirrorPlugins(){return[new mn({key:new Ln("clearDocument"),appendTransaction:(n,t,e)=>{if(!(n.some(g=>g.docChanged)&&!t.doc.eq(e.doc)))return;const{empty:o,from:i,to:s}=t.selection,u=ct.atStart(t.doc).from,l=ct.atEnd(t.doc).to;if(o||!(i===u&&s===l)||e.doc.textBetween(0,e.doc.content.size," "," ").length!==0)return;const f=e.tr,h=bh({state:e,transaction:f}),{commands:d}=new Zx({editor:this.editor,state:h});if(d.clearNodes(),!!f.steps.length)return f}})]}});ke.create({name:"tabindex",addProseMirrorPlugins(){return[new mn({key:new Ln("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});function xo(n){return new Fa({find:n.find,handler:({state:t,range:e,match:o})=>{const i=Nt(n.getAttributes,void 0,o);if(i===!1||i===null)return null;const{tr:s}=t,u=o[o.length-1],l=o[0];let f=e.to;if(u){const h=l.search(/\S/),d=e.from+l.indexOf(u),g=d+u.length;if(xh(e.from,e.to,t.doc).filter(b=>b.mark.type.excluded.find(w=>w===n.type&&w!==b.mark.type)).filter(b=>b.to>d).length)return null;g<e.to&&s.delete(g,e.to),d>e.from&&s.delete(e.from+h,d),f=e.from+h+u.length,s.addMark(e.from+h,f,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}function gM(n){return new Fa({find:n.find,handler:({state:t,range:e,match:o})=>{const i=Nt(n.getAttributes,void 0,o)||{},{tr:s}=t,u=e.from;let l=e.to;if(o[1]){const f=o[0].lastIndexOf(o[1]);let h=u+f;h>l?h=l:l=h+o[1].length;const d=o[0][o[0].length-1];s.insertText(d,u+o[0].length-1),s.replaceWith(h,l,n.type.create(i))}else o[0]&&s.replaceWith(u,l,n.type.create(i))}})}function qu(n){return new Fa({find:n.find,handler:({state:t,range:e,match:o})=>{const i=t.doc.resolve(e.from),s=Nt(n.getAttributes,void 0,o)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,n.type,s)}})}function mi(n){return new Fa({find:n.find,handler:({state:t,range:e,match:o,chain:i})=>{const s=Nt(n.getAttributes,void 0,o)||{},u=t.tr.delete(e.from,e.to),l=u.doc.resolve(e.from).blockRange(),f=l&&Xu(l,n.type,s);if(!f)return null;if(u.wrap(l,f),n.keepMarks&&n.editor){const{selection:d,storedMarks:g}=t,{splittableMarks:b}=n.editor.extensionManager,w=g||d.$to.parentOffset&&d.$from.marks();if(w){const C=w.filter(S=>b.includes(S.type.name));u.ensureMarks(C)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const h=u.doc.resolve(e.from-1).nodeBefore;h&&h.type===n.type&&vr(u.doc,e.from-1)&&(!n.joinPredicate||n.joinPredicate(o,h))&&u.join(e.from-1)}})}class Xn{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Nt(Wt(this,"addOptions",{name:this.name}))),this.storage=Nt(Wt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Xn(t)}configure(t={}){const e=this.extend();return e.options=qa(this.options,t),e.storage=Nt(Wt(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new Xn(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=Nt(Wt(e,"addOptions",{name:e.name})),e.storage=Nt(Wt(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:o}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!s.find(l=>(l==null?void 0:l.type.name)===e.name))return!1;const u=s.find(l=>(l==null?void 0:l.type.name)===e.name);return u&&o.removeStoredMark(u),o.insertText(" ",i.pos),t.view.dispatch(o),!0}return!1}}class ce{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Nt(Wt(this,"addOptions",{name:this.name}))),this.storage=Nt(Wt(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new ce(t)}configure(t={}){const e=this.extend();return e.options=qa(this.options,t),e.storage=Nt(Wt(e,"addStorage",{name:e.name,options:e.options})),e}extend(t={}){const e=new ce(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=Nt(Wt(e,"addOptions",{name:e.name})),e.storage=Nt(Wt(e,"addStorage",{name:e.name,options:e.options})),e}}function _o(n){return new e_({find:n.find,handler:({state:t,range:e,match:o})=>{const i=Nt(n.getAttributes,void 0,o);if(i===!1||i===null)return null;const{tr:s}=t,u=o[o.length-1],l=o[0];let f=e.to;if(u){const h=l.search(/\S/),d=e.from+l.indexOf(u),g=d+u.length;if(xh(e.from,e.to,t.doc).filter(b=>b.mark.type.excluded.find(w=>w===n.type&&w!==b.mark.type)).filter(b=>b.to>d).length)return null;g<e.to&&s.delete(g,e.to),d>e.from&&s.delete(e.from+h,d),f=e.from+h+u.length,s.addMark(e.from+h,f,n.type.create(i||{})),s.removeStoredMark(n.type)}}})}const vM=/^\s*>\s$/,yM=ce.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",te(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[mi({find:vM,type:this.type})]}}),bM=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,wM=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,kM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,xM=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,_M=Xn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",te(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xo({find:bM,type:this.type}),xo({find:kM,type:this.type})]},addPasteRules(){return[_o({find:wM,type:this.type}),_o({find:xM,type:this.type})]}}),MM=ce.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",te(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Bp=Xn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",te(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:t})=>{const e=dc(n,this.type);return Object.entries(e).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),Pp=/^\s*([-+*])\s$/,SM=ce.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",te(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(MM.name,this.editor.getAttributes(Bp.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=mi({find:Pp,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=mi({find:Pp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Bp.name),editor:this.editor})),[n]}}),CM=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,TM=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,OM=Xn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",te(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xo({find:CM,type:this.type})]},addPasteRules(){return[_o({find:TM,type:this.type})]}}),AM=/^```([a-z]+)?[\s\n]$/,EM=/^~~~([a-z]+)?[\s\n]$/,IM=ce.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:n=>{var t;const{languageClassPrefix:e}=this.options;return[...((t=n.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(i=>i.startsWith(e)).map(i=>i.replace(e,""))[0]||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:t}){return["pre",te(this.options.HTMLAttributes,t),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:t})=>t.setNode(this.name,n),toggleCodeBlock:n=>({commands:t})=>t.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:t}=this.editor.state.selection,e=t.pos===1;return!n||t.parent.type.name!==this.name?!1:e||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=n,{selection:e}=t,{$from:o,empty:i}=e;if(!i||o.parent.type!==this.type)return!1;const s=o.parentOffset===o.parent.nodeSize-2,u=o.parent.textContent.endsWith(`

`);return!s||!u?!1:n.chain().command(({tr:l})=>(l.delete(o.pos-2,o.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=n,{selection:e,doc:o}=t,{$from:i,empty:s}=e;if(!s||i.parent.type!==this.type||i.parentOffset!==i.parent.nodeSize-2)return!1;const u=i.after();return u===void 0||o.nodeAt(u)?!1:n.commands.exitCode()}}},addInputRules(){return[qu({find:AM,type:this.type,getAttributes:n=>({language:n[1]})}),qu({find:EM,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new mn({key:new Ln("codeBlockVSCodeHandler"),props:{handlePaste:(n,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const e=t.clipboardData.getData("text/plain"),o=t.clipboardData.getData("vscode-editor-data"),i=o?JSON.parse(o):void 0,s=i==null?void 0:i.mode;if(!e||!s)return!1;const{tr:u}=n.state;return u.replaceSelectionWith(this.type.create({language:s})),u.setSelection(lt.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.insertText(e.replace(/\r\n?/g,`
`)),u.setMeta("paste",!0),n.dispatch(u),!0}}})]}}),$M=ce.create({name:"doc",topNode:!0,content:"block+"});function NM(n={}){return new mn({view(t){return new DM(t,n)}})}class DM{constructor(t,e){var o;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(o=e.width)!==null&&o!==void 0?o:1,this.color=e.color===!1?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=u=>{this[i](u)};return t.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e))}update(t,e){this.cursorPos!=null&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),e=!t.parent.inlineContent,o;if(e){let l=t.nodeBefore,f=t.nodeAfter;if(l||f){let h=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(h){let d=h.getBoundingClientRect(),g=l?d.bottom:d.top;l&&f&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:d.left,right:d.right,top:g-this.width/2,bottom:g+this.width/2}}}}if(!o){let l=this.editorView.coordsAtPos(this.cursorPos);o={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",e),this.element.classList.toggle("prosemirror-dropcursor-inline",!e);let s,u;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,u=-pageYOffset;else{let l=i.getBoundingClientRect();s=l.left-i.scrollLeft,u=l.top-i.scrollTop}this.element.style.left=o.left-s+"px",this.element.style.top=o.top-u+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),o=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),i=o&&o.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,e,t):i;if(e&&!s){let u=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=Pd(this.editorView.state.doc,u,this.editorView.dragging.slice);l!=null&&(u=l)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)}}const LM=ke.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[NM(this.options)]}});class $t extends ct{constructor(t){super(t,t)}map(t,e){let o=t.resolve(e.map(this.head));return $t.valid(o)?new $t(o):ct.near(o)}content(){return K.empty}eq(t){return t instanceof $t&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new $t(t.resolve(e.pos))}getBookmark(){return new hc(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!zM(t)||!RM(t))return!1;let o=e.type.spec.allowGapCursor;if(o!=null)return o;let i=e.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,e,o=!1){t:for(;;){if(!o&&$t.valid(t))return t;let i=t.pos,s=null;for(let u=t.depth;;u--){let l=t.node(u);if(e>0?t.indexAfter(u)<l.childCount:t.index(u)>0){s=l.child(e>0?t.indexAfter(u):t.index(u)-1);break}else if(u==0)return null;i+=e;let f=t.doc.resolve(i);if($t.valid(f))return f}for(;;){let u=e>0?s.firstChild:s.lastChild;if(!u){if(s.isAtom&&!s.isText&&!X.isSelectable(s)){t=t.doc.resolve(i+s.nodeSize*e),o=!1;continue t}break}s=u,i+=e;let l=t.doc.resolve(i);if($t.valid(l))return l}return null}}}$t.prototype.visible=!1;$t.findFrom=$t.findGapCursorFrom;ct.jsonID("gapcursor",$t);class hc{constructor(t){this.pos=t}map(t){return new hc(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return $t.valid(e)?new $t(e):ct.near(e)}}function zM(n){for(let t=n.depth;t>=0;t--){let e=n.index(t),o=n.node(t);if(e==0){if(o.type.spec.isolating)return!0;continue}for(let i=o.child(e-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function RM(n){for(let t=n.depth;t>=0;t--){let e=n.indexAfter(t),o=n.node(t);if(e==o.childCount){if(o.type.spec.isolating)return!0;continue}for(let i=o.child(e);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function jM(){return new mn({props:{decorations:FM,createSelectionBetween(n,t,e){return t.pos==e.pos&&$t.valid(e)?new $t(e):null},handleClick:PM,handleKeyDown:BM,handleDOMEvents:{beforeinput:HM}}})}const BM=Sx({ArrowLeft:ha("horiz",-1),ArrowRight:ha("horiz",1),ArrowUp:ha("vert",-1),ArrowDown:ha("vert",1)});function ha(n,t){const e=n=="vert"?t>0?"down":"up":t>0?"right":"left";return function(o,i,s){let u=o.selection,l=t>0?u.$to:u.$from,f=u.empty;if(u instanceof lt){if(!s.endOfTextblock(e)||l.depth==0)return!1;f=!1,l=o.doc.resolve(t>0?l.after():l.before())}let h=$t.findGapCursorFrom(l,t,f);return h?(i&&i(o.tr.setSelection(new $t(h))),!0):!1}}function PM(n,t,e){if(!n||!n.editable)return!1;let o=n.state.doc.resolve(t);if(!$t.valid(o))return!1;let i=n.posAtCoords({left:e.clientX,top:e.clientY});return i&&i.inside>-1&&X.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new $t(o))),!0)}function HM(n,t){if(t.inputType!="insertCompositionText"||!(n.state.selection instanceof $t))return!1;let{$from:e}=n.state.selection,o=e.parent.contentMatchAt(e.index()).findWrapping(n.state.schema.nodes.text);if(!o)return!1;let i=F.empty;for(let u=o.length-1;u>=0;u--)i=F.from(o[u].createAndFill(null,i));let s=n.state.tr.replace(e.pos,e.pos,new K(i,0,0));return s.setSelection(lt.near(s.doc.resolve(e.pos+1))),n.dispatch(s),!1}function FM(n){if(!(n.selection instanceof $t))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Yt.create(n.doc,[An.widget(n.selection.head,t,{key:"gapcursor"})])}const qM=ke.create({name:"gapCursor",addProseMirrorPlugins(){return[jM()]},extendNodeSchema(n){var t;const e={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(t=Nt(Wt(n,"allowGapCursor",e)))!==null&&t!==void 0?t:null}}}),VM=ce.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",te(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:t,state:e,editor:o})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=e;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:l}=o.extensionManager,f=s||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:d})=>{if(d&&f&&u){const g=f.filter(b=>l.includes(b.type.name));h.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),WM=ce.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:t}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,te(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.setNode(this.name,n):!1,toggleHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,t)=>({...n,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(n=>qu({find:new RegExp(`^(#{1,${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var $a=200,Qt=function(){};Qt.prototype.append=function(n){return n.length?(n=Qt.from(n),!this.length&&n||n.length<$a&&this.leafAppend(n)||this.length<$a&&n.leafPrepend(this)||this.appendInner(n)):this};Qt.prototype.prepend=function(n){return n.length?Qt.from(n).append(this):this};Qt.prototype.appendInner=function(n){return new KM(this,n)};Qt.prototype.slice=function(n,t){return n===void 0&&(n=0),t===void 0&&(t=this.length),n>=t?Qt.empty:this.sliceInner(Math.max(0,n),Math.min(this.length,t))};Qt.prototype.get=function(n){if(!(n<0||n>=this.length))return this.getInner(n)};Qt.prototype.forEach=function(n,t,e){t===void 0&&(t=0),e===void 0&&(e=this.length),t<=e?this.forEachInner(n,t,e,0):this.forEachInvertedInner(n,t,e,0)};Qt.prototype.map=function(n,t,e){t===void 0&&(t=0),e===void 0&&(e=this.length);var o=[];return this.forEach(function(i,s){return o.push(n(i,s))},t,e),o};Qt.from=function(n){return n instanceof Qt?n:n&&n.length?new Mh(n):Qt.empty};var Mh=function(n){function t(o){n.call(this),this.values=o}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new t(this.values.slice(o,i))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,i,s,u){for(var l=i;l<s;l++)if(o(this.values[l],u+l)===!1)return!1},t.prototype.forEachInvertedInner=function(o,i,s,u){for(var l=i-1;l>=s;l--)if(o(this.values[l],u+l)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=$a)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=$a)return new t(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t}(Qt);Qt.empty=new Mh([]);var KM=function(n){function t(e,o){n.call(this),this.left=e,this.right=o,this.length=e.length+o.length,this.depth=Math.max(e.depth,o.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,o,i,s){var u=this.left.length;if(o<u&&this.left.forEachInner(e,o,Math.min(i,u),s)===!1||i>u&&this.right.forEachInner(e,Math.max(o-u,0),Math.min(this.length,i)-u,s+u)===!1)return!1},t.prototype.forEachInvertedInner=function(e,o,i,s){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(e,o-u,Math.max(i,u)-u,s+u)===!1||i<u&&this.left.forEachInvertedInner(e,Math.min(o,u),i,s)===!1)return!1},t.prototype.sliceInner=function(e,o){if(e==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(e,o):e>=i?this.right.slice(e-i,o-i):this.left.slice(e,i).append(this.right.slice(0,o-i))},t.prototype.leafAppend=function(e){var o=this.right.leafAppend(e);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(e){var o=this.left.leafPrepend(e);if(o)return new t(o,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Qt);const UM=500;class fn{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let o=this.items.length;for(;;o--)if(this.items.get(o-1).selection){--o;break}let i,s;e&&(i=this.remapping(o,this.items.length),s=i.maps.length);let u=t.tr,l,f,h=[],d=[];return this.items.forEach((g,b)=>{if(!g.step){i||(i=this.remapping(o,b+1),s=i.maps.length),s--,d.push(g);return}if(i){d.push(new Cn(g.map));let w=g.step.map(i.slice(s)),C;w&&u.maybeStep(w).doc&&(C=u.mapping.maps[u.mapping.maps.length-1],h.push(new Cn(C,void 0,void 0,h.length+d.length))),s--,C&&i.appendMap(C,s)}else u.maybeStep(g.step);if(g.selection)return l=i?g.selection.map(i.slice(s)):g.selection,f=new fn(this.items.slice(0,o).append(d.reverse().concat(h)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:u,selection:l}}addTransform(t,e,o,i){let s=[],u=this.eventCount,l=this.items,f=!i&&l.length?l.get(l.length-1):null;for(let d=0;d<t.steps.length;d++){let g=t.steps[d].invert(t.docs[d]),b=new Cn(t.mapping.maps[d],g,e),w;(w=f&&f.merge(b))&&(b=w,d?s.pop():l=l.slice(0,l.length-1)),s.push(b),e&&(u++,e=void 0),i||(f=b)}let h=u-o.depth;return h>GM&&(l=JM(l,h),u-=h),new fn(l.append(s),u)}remapping(t,e){let o=new oi;return this.items.forEach((i,s)=>{let u=i.mirrorOffset!=null&&s-i.mirrorOffset>=t?o.maps.length-i.mirrorOffset:void 0;o.appendMap(i.map,u)},t,e),o}addMaps(t){return this.eventCount==0?this:new fn(this.items.append(t.map(e=>new Cn(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let o=[],i=Math.max(0,this.items.length-e),s=t.mapping,u=t.steps.length,l=this.eventCount;this.items.forEach(b=>{b.selection&&l--},i);let f=e;this.items.forEach(b=>{let w=s.getMirror(--f);if(w==null)return;u=Math.min(u,w);let C=s.maps[w];if(b.step){let S=t.steps[w].invert(t.docs[w]),A=b.selection&&b.selection.map(s.slice(f+1,w));A&&l++,o.push(new Cn(C,S,A))}else o.push(new Cn(C))},i);let h=[];for(let b=e;b<u;b++)h.push(new Cn(s.maps[b]));let d=this.items.slice(0,i).append(h).append(o),g=new fn(d,l);return g.emptyItemCount()>UM&&(g=g.compress(this.items.length-o.length)),g}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),o=e.maps.length,i=[],s=0;return this.items.forEach((u,l)=>{if(l>=t)i.push(u),u.selection&&s++;else if(u.step){let f=u.step.map(e.slice(o)),h=f&&f.getMap();if(o--,h&&e.appendMap(h,o),f){let d=u.selection&&u.selection.map(e.slice(o));d&&s++;let g=new Cn(h.invert(),f,d),b,w=i.length-1;(b=i.length&&i[w].merge(g))?i[w]=b:i.push(g)}}else u.map&&o--},this.items.length,0),new fn(Qt.from(i.reverse()),s)}}fn.empty=new fn(Qt.empty,0);function JM(n,t){let e;return n.forEach((o,i)=>{if(o.selection&&t--==0)return e=i,!1}),n.slice(e)}class Cn{constructor(t,e,o,i){this.map=t,this.step=e,this.selection=o,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Cn(e.getMap().invert(),e,this.selection)}}}class fr{constructor(t,e,o,i,s){this.done=t,this.undone=e,this.prevRanges=o,this.prevTime=i,this.prevComposition=s}}const GM=20;function YM(n,t,e,o){let i=e.getMeta(mr),s;if(i)return i.historyState;e.getMeta(XM)&&(n=new fr(n.done,n.undone,null,0,-1));let u=e.getMeta("appendedTransaction");if(e.steps.length==0)return n;if(u&&u.getMeta(mr))return u.getMeta(mr).redo?new fr(n.done.addTransform(e,void 0,o,wa(t)),n.undone,Hp(e.mapping.maps[e.steps.length-1]),n.prevTime,n.prevComposition):new fr(n.done,n.undone.addTransform(e,void 0,o,wa(t)),null,n.prevTime,n.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let l=e.getMeta("composition"),f=n.prevTime==0||!u&&n.prevComposition!=l&&(n.prevTime<(e.time||0)-o.newGroupDelay||!ZM(e,n.prevRanges)),h=u?xu(n.prevRanges,e.mapping):Hp(e.mapping.maps[e.steps.length-1]);return new fr(n.done.addTransform(e,f?t.selection.getBookmark():void 0,o,wa(t)),fn.empty,h,e.time,l??n.prevComposition)}else return(s=e.getMeta("rebased"))?new fr(n.done.rebased(e,s),n.undone.rebased(e,s),xu(n.prevRanges,e.mapping),n.prevTime,n.prevComposition):new fr(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),xu(n.prevRanges,e.mapping),n.prevTime,n.prevComposition)}function ZM(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((o,i)=>{for(let s=0;s<t.length;s+=2)o<=t[s+1]&&i>=t[s]&&(e=!0)}),e}function Hp(n){let t=[];return n.forEach((e,o,i,s)=>t.push(i,s)),t}function xu(n,t){if(!n)return null;let e=[];for(let o=0;o<n.length;o+=2){let i=t.map(n[o],1),s=t.map(n[o+1],-1);i<=s&&e.push(i,s)}return e}function Sh(n,t,e,o){let i=wa(t),s=mr.get(t).spec.config,u=(o?n.undone:n.done).popEvent(t,i);if(!u)return;let l=u.selection.resolve(u.transform.doc),f=(o?n.done:n.undone).addTransform(u.transform,t.selection.getBookmark(),s,i),h=new fr(o?f:u.remaining,o?u.remaining:f,null,0,-1);e(u.transform.setSelection(l).setMeta(mr,{redo:o,historyState:h}).scrollIntoView())}let _u=!1,Fp=null;function wa(n){let t=n.plugins;if(Fp!=t){_u=!1,Fp=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){_u=!0;break}}return _u}const mr=new Ln("history"),XM=new Ln("closeHistory");function QM(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new mn({key:mr,state:{init(){return new fr(fn.empty,fn.empty,null,0,-1)},apply(t,e,o){return YM(e,o,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,e){let o=e.inputType,i=o=="historyUndo"?Ch:o=="historyRedo"?Th:null;return i?(e.preventDefault(),i(t.state,t.dispatch)):!1}}}})}const Ch=(n,t)=>{let e=mr.getState(n);return!e||e.done.eventCount==0?!1:(t&&Sh(e,n,t,!1),!0)},Th=(n,t)=>{let e=mr.getState(n);return!e||e.undone.eventCount==0?!1:(t&&Sh(e,n,t,!0),!0)},tS=ke.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:t})=>Ch(n,t),redo:()=>({state:n,dispatch:t})=>Th(n,t)}},addProseMirrorPlugins(){return[QM(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),eS=ce.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",te(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n})=>n().insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{var o;if(e){const{$to:i}=t.selection,s=i.end();if(i.nodeAfter)t.setSelection(lt.create(t.doc,i.pos));else{const u=(o=i.parent.type.contentMatch.defaultType)===null||o===void 0?void 0:o.create();u&&(t.insert(s,u),t.setSelection(lt.create(t.doc,s)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[gM({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),nS=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,rS=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,oS=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,iS=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,aS=Xn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",te(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xo({find:nS,type:this.type}),xo({find:oS,type:this.type})]},addPasteRules(){return[_o({find:rS,type:this.type}),_o({find:iS,type:this.type})]}}),sS=ce.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",te(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uS=ce.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",te(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),qp=Xn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:n=>n.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["span",te(this.options.HTMLAttributes,n),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:n,commands:t})=>{const e=dc(n,this.type);return Object.entries(e).some(([,o])=>!!o)?!0:t.unsetMark(this.name)}}}}),Vp=/^(\d+)\.\s$/,cS=ce.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:t,...e}=n;return t===1?["ol",te(this.options.HTMLAttributes,e),0]:["ol",te(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uS.name,this.editor.getAttributes(qp.name)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=mi({find:Vp,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=mi({find:Vp,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(qp.name)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[n]}}),lS=ce.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",te(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),fS=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,pS=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,dS=Xn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",te(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xo({find:fS,type:this.type})]},addPasteRules(){return[_o({find:pS,type:this.type})]}}),hS=ce.create({name:"text",group:"inline"});ke.create({name:"starterKit",addExtensions(){var n,t,e,o,i,s,u,l,f,h,d,g,b,w,C,S,A,z;const N=[];return this.options.blockquote!==!1&&N.push(yM.configure((n=this.options)===null||n===void 0?void 0:n.blockquote)),this.options.bold!==!1&&N.push(_M.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&N.push(SM.configure((e=this.options)===null||e===void 0?void 0:e.bulletList)),this.options.code!==!1&&N.push(OM.configure((o=this.options)===null||o===void 0?void 0:o.code)),this.options.codeBlock!==!1&&N.push(IM.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&N.push($M.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&N.push(LM.configure((u=this.options)===null||u===void 0?void 0:u.dropcursor)),this.options.gapcursor!==!1&&N.push(qM.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&N.push(VM.configure((f=this.options)===null||f===void 0?void 0:f.hardBreak)),this.options.heading!==!1&&N.push(WM.configure((h=this.options)===null||h===void 0?void 0:h.heading)),this.options.history!==!1&&N.push(tS.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&N.push(eS.configure((g=this.options)===null||g===void 0?void 0:g.horizontalRule)),this.options.italic!==!1&&N.push(aS.configure((b=this.options)===null||b===void 0?void 0:b.italic)),this.options.listItem!==!1&&N.push(sS.configure((w=this.options)===null||w===void 0?void 0:w.listItem)),this.options.orderedList!==!1&&N.push(cS.configure((C=this.options)===null||C===void 0?void 0:C.orderedList)),this.options.paragraph!==!1&&N.push(lS.configure((S=this.options)===null||S===void 0?void 0:S.paragraph)),this.options.strike!==!1&&N.push(dS.configure((A=this.options)===null||A===void 0?void 0:A.strike)),this.options.text!==!1&&N.push(hS.configure((z=this.options)===null||z===void 0?void 0:z.text)),N}});var Ae="top",tn="bottom",en="right",Ee="left",mc="auto",ki=[Ae,tn,en,Ee],Mo="start",gi="end",mS="clippingParents",Oh="viewport",Xo="popper",gS="reference",Wp=ki.reduce(function(n,t){return n.concat([t+"-"+Mo,t+"-"+gi])},[]),Ah=[].concat(ki,[mc]).reduce(function(n,t){return n.concat([t,t+"-"+Mo,t+"-"+gi])},[]),vS="beforeRead",yS="read",bS="afterRead",wS="beforeMain",kS="main",xS="afterMain",_S="beforeWrite",MS="write",SS="afterWrite",CS=[vS,yS,bS,wS,kS,xS,_S,MS,SS];function Dn(n){return n?(n.nodeName||"").toLowerCase():null}function Be(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Wr(n){var t=Be(n).Element;return n instanceof t||n instanceof Element}function Qe(n){var t=Be(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function gc(n){if(typeof ShadowRoot>"u")return!1;var t=Be(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function TS(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var o=t.styles[e]||{},i=t.attributes[e]||{},s=t.elements[e];!Qe(s)||!Dn(s)||(Object.assign(s.style,o),Object.keys(i).forEach(function(u){var l=i[u];l===!1?s.removeAttribute(u):s.setAttribute(u,l===!0?"":l)}))})}function OS(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(o){var i=t.elements[o],s=t.attributes[o]||{},u=Object.keys(t.styles.hasOwnProperty(o)?t.styles[o]:e[o]),l=u.reduce(function(f,h){return f[h]="",f},{});!Qe(i)||!Dn(i)||(Object.assign(i.style,l),Object.keys(s).forEach(function(f){i.removeAttribute(f)}))})}}const Eh={name:"applyStyles",enabled:!0,phase:"write",fn:TS,effect:OS,requires:["computeStyles"]};function $n(n){return n.split("-")[0]}var qr=Math.max,Na=Math.min,So=Math.round;function Vu(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ih(){return!/^((?!chrome|android).)*safari/i.test(Vu())}function Co(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var o=n.getBoundingClientRect(),i=1,s=1;t&&Qe(n)&&(i=n.offsetWidth>0&&So(o.width)/n.offsetWidth||1,s=n.offsetHeight>0&&So(o.height)/n.offsetHeight||1);var u=Wr(n)?Be(n):window,l=u.visualViewport,f=!Ih()&&e,h=(o.left+(f&&l?l.offsetLeft:0))/i,d=(o.top+(f&&l?l.offsetTop:0))/s,g=o.width/i,b=o.height/s;return{width:g,height:b,top:d,right:h+g,bottom:d+b,left:h,x:h,y:d}}function vc(n){var t=Co(n),e=n.offsetWidth,o=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:o}}function $h(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&gc(e)){var o=t;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Qn(n){return Be(n).getComputedStyle(n)}function AS(n){return["table","td","th"].indexOf(Dn(n))>=0}function wr(n){return((Wr(n)?n.ownerDocument:n.document)||window.document).documentElement}function Va(n){return Dn(n)==="html"?n:n.assignedSlot||n.parentNode||(gc(n)?n.host:null)||wr(n)}function Kp(n){return!Qe(n)||Qn(n).position==="fixed"?null:n.offsetParent}function ES(n){var t=/firefox/i.test(Vu()),e=/Trident/i.test(Vu());if(e&&Qe(n)){var o=Qn(n);if(o.position==="fixed")return null}var i=Va(n);for(gc(i)&&(i=i.host);Qe(i)&&["html","body"].indexOf(Dn(i))<0;){var s=Qn(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function xi(n){for(var t=Be(n),e=Kp(n);e&&AS(e)&&Qn(e).position==="static";)e=Kp(e);return e&&(Dn(e)==="html"||Dn(e)==="body"&&Qn(e).position==="static")?t:e||ES(n)||t}function yc(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function si(n,t,e){return qr(n,Na(t,e))}function IS(n,t,e){var o=si(n,t,e);return o>e?e:o}function Nh(){return{top:0,right:0,bottom:0,left:0}}function Dh(n){return Object.assign({},Nh(),n)}function Lh(n,t){return t.reduce(function(e,o){return e[o]=n,e},{})}var $S=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,Dh(typeof n!="number"?n:Lh(n,ki))};function NS(n){var t,e=n.state,o=n.name,i=n.options,s=e.elements.arrow,u=e.modifiersData.popperOffsets,l=$n(e.placement),f=yc(l),h=[Ee,en].indexOf(l)>=0,d=h?"height":"width";if(!(!s||!u)){var g=$S(i.padding,e),b=vc(s),w=f==="y"?Ae:Ee,C=f==="y"?tn:en,S=e.rects.reference[d]+e.rects.reference[f]-u[f]-e.rects.popper[d],A=u[f]-e.rects.reference[f],z=xi(s),N=z?f==="y"?z.clientHeight||0:z.clientWidth||0:0,R=S/2-A/2,x=g[w],P=N-b[d]-g[C],j=N/2-b[d]/2+R,U=si(x,j,P),it=f;e.modifiersData[o]=(t={},t[it]=U,t.centerOffset=U-j,t)}}function DS(n){var t=n.state,e=n.options,o=e.element,i=o===void 0?"[data-popper-arrow]":o;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||$h(t.elements.popper,i)&&(t.elements.arrow=i))}const LS={name:"arrow",enabled:!0,phase:"main",fn:NS,effect:DS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function To(n){return n.split("-")[1]}var zS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function RS(n,t){var e=n.x,o=n.y,i=t.devicePixelRatio||1;return{x:So(e*i)/i||0,y:So(o*i)/i||0}}function Up(n){var t,e=n.popper,o=n.popperRect,i=n.placement,s=n.variation,u=n.offsets,l=n.position,f=n.gpuAcceleration,h=n.adaptive,d=n.roundOffsets,g=n.isFixed,b=u.x,w=b===void 0?0:b,C=u.y,S=C===void 0?0:C,A=typeof d=="function"?d({x:w,y:S}):{x:w,y:S};w=A.x,S=A.y;var z=u.hasOwnProperty("x"),N=u.hasOwnProperty("y"),R=Ee,x=Ae,P=window;if(h){var j=xi(e),U="clientHeight",it="clientWidth";if(j===Be(e)&&(j=wr(e),Qn(j).position!=="static"&&l==="absolute"&&(U="scrollHeight",it="scrollWidth")),j=j,i===Ae||(i===Ee||i===en)&&s===gi){x=tn;var mt=g&&j===P&&P.visualViewport?P.visualViewport.height:j[U];S-=mt-o.height,S*=f?1:-1}if(i===Ee||(i===Ae||i===tn)&&s===gi){R=en;var Q=g&&j===P&&P.visualViewport?P.visualViewport.width:j[it];w-=Q-o.width,w*=f?1:-1}}var xt=Object.assign({position:l},h&&zS),bt=d===!0?RS({x:w,y:S},Be(e)):{x:w,y:S};if(w=bt.x,S=bt.y,f){var at;return Object.assign({},xt,(at={},at[x]=N?"0":"",at[R]=z?"0":"",at.transform=(P.devicePixelRatio||1)<=1?"translate("+w+"px, "+S+"px)":"translate3d("+w+"px, "+S+"px, 0)",at))}return Object.assign({},xt,(t={},t[x]=N?S+"px":"",t[R]=z?w+"px":"",t.transform="",t))}function jS(n){var t=n.state,e=n.options,o=e.gpuAcceleration,i=o===void 0?!0:o,s=e.adaptive,u=s===void 0?!0:s,l=e.roundOffsets,f=l===void 0?!0:l,h={placement:$n(t.placement),variation:To(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Up(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:u,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Up(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const BS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jS,data:{}};var ma={passive:!0};function PS(n){var t=n.state,e=n.instance,o=n.options,i=o.scroll,s=i===void 0?!0:i,u=o.resize,l=u===void 0?!0:u,f=Be(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&h.forEach(function(d){d.addEventListener("scroll",e.update,ma)}),l&&f.addEventListener("resize",e.update,ma),function(){s&&h.forEach(function(d){d.removeEventListener("scroll",e.update,ma)}),l&&f.removeEventListener("resize",e.update,ma)}}const HS={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:PS,data:{}};var FS={left:"right",right:"left",bottom:"top",top:"bottom"};function ka(n){return n.replace(/left|right|bottom|top/g,function(t){return FS[t]})}var qS={start:"end",end:"start"};function Jp(n){return n.replace(/start|end/g,function(t){return qS[t]})}function bc(n){var t=Be(n),e=t.pageXOffset,o=t.pageYOffset;return{scrollLeft:e,scrollTop:o}}function wc(n){return Co(wr(n)).left+bc(n).scrollLeft}function VS(n,t){var e=Be(n),o=wr(n),i=e.visualViewport,s=o.clientWidth,u=o.clientHeight,l=0,f=0;if(i){s=i.width,u=i.height;var h=Ih();(h||!h&&t==="fixed")&&(l=i.offsetLeft,f=i.offsetTop)}return{width:s,height:u,x:l+wc(n),y:f}}function WS(n){var t,e=wr(n),o=bc(n),i=(t=n.ownerDocument)==null?void 0:t.body,s=qr(e.scrollWidth,e.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=qr(e.scrollHeight,e.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-o.scrollLeft+wc(n),f=-o.scrollTop;return Qn(i||e).direction==="rtl"&&(l+=qr(e.clientWidth,i?i.clientWidth:0)-s),{width:s,height:u,x:l,y:f}}function kc(n){var t=Qn(n),e=t.overflow,o=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+i+o)}function zh(n){return["html","body","#document"].indexOf(Dn(n))>=0?n.ownerDocument.body:Qe(n)&&kc(n)?n:zh(Va(n))}function ui(n,t){var e;t===void 0&&(t=[]);var o=zh(n),i=o===((e=n.ownerDocument)==null?void 0:e.body),s=Be(o),u=i?[s].concat(s.visualViewport||[],kc(o)?o:[]):o,l=t.concat(u);return i?l:l.concat(ui(Va(u)))}function Wu(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function KS(n,t){var e=Co(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function Gp(n,t,e){return t===Oh?Wu(VS(n,e)):Wr(t)?KS(t,e):Wu(WS(wr(n)))}function US(n){var t=ui(Va(n)),e=["absolute","fixed"].indexOf(Qn(n).position)>=0,o=e&&Qe(n)?xi(n):n;return Wr(o)?t.filter(function(i){return Wr(i)&&$h(i,o)&&Dn(i)!=="body"}):[]}function JS(n,t,e,o){var i=t==="clippingParents"?US(n):[].concat(t),s=[].concat(i,[e]),u=s[0],l=s.reduce(function(f,h){var d=Gp(n,h,o);return f.top=qr(d.top,f.top),f.right=Na(d.right,f.right),f.bottom=Na(d.bottom,f.bottom),f.left=qr(d.left,f.left),f},Gp(n,u,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Rh(n){var t=n.reference,e=n.element,o=n.placement,i=o?$n(o):null,s=o?To(o):null,u=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,f;switch(i){case Ae:f={x:u,y:t.y-e.height};break;case tn:f={x:u,y:t.y+t.height};break;case en:f={x:t.x+t.width,y:l};break;case Ee:f={x:t.x-e.width,y:l};break;default:f={x:t.x,y:t.y}}var h=i?yc(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(s){case Mo:f[h]=f[h]-(t[d]/2-e[d]/2);break;case gi:f[h]=f[h]+(t[d]/2-e[d]/2);break}}return f}function vi(n,t){t===void 0&&(t={});var e=t,o=e.placement,i=o===void 0?n.placement:o,s=e.strategy,u=s===void 0?n.strategy:s,l=e.boundary,f=l===void 0?mS:l,h=e.rootBoundary,d=h===void 0?Oh:h,g=e.elementContext,b=g===void 0?Xo:g,w=e.altBoundary,C=w===void 0?!1:w,S=e.padding,A=S===void 0?0:S,z=Dh(typeof A!="number"?A:Lh(A,ki)),N=b===Xo?gS:Xo,R=n.rects.popper,x=n.elements[C?N:b],P=JS(Wr(x)?x:x.contextElement||wr(n.elements.popper),f,d,u),j=Co(n.elements.reference),U=Rh({reference:j,element:R,strategy:"absolute",placement:i}),it=Wu(Object.assign({},R,U)),mt=b===Xo?it:j,Q={top:P.top-mt.top+z.top,bottom:mt.bottom-P.bottom+z.bottom,left:P.left-mt.left+z.left,right:mt.right-P.right+z.right},xt=n.modifiersData.offset;if(b===Xo&&xt){var bt=xt[i];Object.keys(Q).forEach(function(at){var jt=[en,tn].indexOf(at)>=0?1:-1,Ft=[Ae,tn].indexOf(at)>=0?"y":"x";Q[at]+=bt[Ft]*jt})}return Q}function GS(n,t){t===void 0&&(t={});var e=t,o=e.placement,i=e.boundary,s=e.rootBoundary,u=e.padding,l=e.flipVariations,f=e.allowedAutoPlacements,h=f===void 0?Ah:f,d=To(o),g=d?l?Wp:Wp.filter(function(C){return To(C)===d}):ki,b=g.filter(function(C){return h.indexOf(C)>=0});b.length===0&&(b=g);var w=b.reduce(function(C,S){return C[S]=vi(n,{placement:S,boundary:i,rootBoundary:s,padding:u})[$n(S)],C},{});return Object.keys(w).sort(function(C,S){return w[C]-w[S]})}function YS(n){if($n(n)===mc)return[];var t=ka(n);return[Jp(n),t,Jp(t)]}function ZS(n){var t=n.state,e=n.options,o=n.name;if(!t.modifiersData[o]._skip){for(var i=e.mainAxis,s=i===void 0?!0:i,u=e.altAxis,l=u===void 0?!0:u,f=e.fallbackPlacements,h=e.padding,d=e.boundary,g=e.rootBoundary,b=e.altBoundary,w=e.flipVariations,C=w===void 0?!0:w,S=e.allowedAutoPlacements,A=t.options.placement,z=$n(A),N=z===A,R=f||(N||!C?[ka(A)]:YS(A)),x=[A].concat(R).reduce(function(pe,At){return pe.concat($n(At)===mc?GS(t,{placement:At,boundary:d,rootBoundary:g,padding:h,flipVariations:C,allowedAutoPlacements:S}):At)},[]),P=t.rects.reference,j=t.rects.popper,U=new Map,it=!0,mt=x[0],Q=0;Q<x.length;Q++){var xt=x[Q],bt=$n(xt),at=To(xt)===Mo,jt=[Ae,tn].indexOf(bt)>=0,Ft=jt?"width":"height",Bt=vi(t,{placement:xt,boundary:d,rootBoundary:g,altBoundary:b,padding:h}),gt=jt?at?en:Ee:at?tn:Ae;P[Ft]>j[Ft]&&(gt=ka(gt));var ht=ka(gt),Ut=[];if(s&&Ut.push(Bt[bt]<=0),l&&Ut.push(Bt[gt]<=0,Bt[ht]<=0),Ut.every(function(pe){return pe})){mt=xt,it=!1;break}U.set(xt,Ut)}if(it)for(var Jt=C?3:1,Dt=function(pe){var At=x.find(function(de){var zn=U.get(de);if(zn)return zn.slice(0,pe).every(function(xe){return xe})});if(At)return mt=At,"break"},le=Jt;le>0;le--){var fe=Dt(le);if(fe==="break")break}t.placement!==mt&&(t.modifiersData[o]._skip=!0,t.placement=mt,t.reset=!0)}}const XS={name:"flip",enabled:!0,phase:"main",fn:ZS,requiresIfExists:["offset"],data:{_skip:!1}};function Yp(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function Zp(n){return[Ae,en,tn,Ee].some(function(t){return n[t]>=0})}function QS(n){var t=n.state,e=n.name,o=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,u=vi(t,{elementContext:"reference"}),l=vi(t,{altBoundary:!0}),f=Yp(u,o),h=Yp(l,i,s),d=Zp(f),g=Zp(h);t.modifiersData[e]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":g})}const tC={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QS};function eC(n,t,e){var o=$n(n),i=[Ee,Ae].indexOf(o)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,u=s[0],l=s[1];return u=u||0,l=(l||0)*i,[Ee,en].indexOf(o)>=0?{x:l,y:u}:{x:u,y:l}}function nC(n){var t=n.state,e=n.options,o=n.name,i=e.offset,s=i===void 0?[0,0]:i,u=Ah.reduce(function(d,g){return d[g]=eC(g,t.rects,s),d},{}),l=u[t.placement],f=l.x,h=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=h),t.modifiersData[o]=u}const rC={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nC};function oC(n){var t=n.state,e=n.name;t.modifiersData[e]=Rh({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const iC={name:"popperOffsets",enabled:!0,phase:"read",fn:oC,data:{}};function aC(n){return n==="x"?"y":"x"}function sC(n){var t=n.state,e=n.options,o=n.name,i=e.mainAxis,s=i===void 0?!0:i,u=e.altAxis,l=u===void 0?!1:u,f=e.boundary,h=e.rootBoundary,d=e.altBoundary,g=e.padding,b=e.tether,w=b===void 0?!0:b,C=e.tetherOffset,S=C===void 0?0:C,A=vi(t,{boundary:f,rootBoundary:h,padding:g,altBoundary:d}),z=$n(t.placement),N=To(t.placement),R=!N,x=yc(z),P=aC(x),j=t.modifiersData.popperOffsets,U=t.rects.reference,it=t.rects.popper,mt=typeof S=="function"?S(Object.assign({},t.rects,{placement:t.placement})):S,Q=typeof mt=="number"?{mainAxis:mt,altAxis:mt}:Object.assign({mainAxis:0,altAxis:0},mt),xt=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,bt={x:0,y:0};if(j){if(s){var at,jt=x==="y"?Ae:Ee,Ft=x==="y"?tn:en,Bt=x==="y"?"height":"width",gt=j[x],ht=gt+A[jt],Ut=gt-A[Ft],Jt=w?-it[Bt]/2:0,Dt=N===Mo?U[Bt]:it[Bt],le=N===Mo?-it[Bt]:-U[Bt],fe=t.elements.arrow,pe=w&&fe?vc(fe):{width:0,height:0},At=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Nh(),de=At[jt],zn=At[Ft],xe=si(0,U[Bt],pe[Bt]),vn=R?U[Bt]/2-Jt-xe-de-Q.mainAxis:Dt-xe-de-Q.mainAxis,yn=R?-U[Bt]/2+Jt+xe+zn+Q.mainAxis:le+xe+zn+Q.mainAxis,nn=t.elements.arrow&&xi(t.elements.arrow),Rn=nn?x==="y"?nn.clientTop||0:nn.clientLeft||0:0,tr=(at=xt==null?void 0:xt[x])!=null?at:0,ie=gt+vn-tr-Rn,bn=gt+yn-tr,kr=si(w?Na(ht,ie):ht,gt,w?qr(Ut,bn):Ut);j[x]=kr,bt[x]=kr-gt}if(l){var he,xr=x==="x"?Ae:Ee,Jr=x==="x"?tn:en,me=j[P],Pt=P==="y"?"height":"width",rn=me+A[xr],He=me-A[Jr],_r=[Ae,Ee].indexOf(z)!==-1,wn=(he=xt==null?void 0:xt[P])!=null?he:0,Gr=_r?rn:me-U[Pt]-it[Pt]-wn+Q.altAxis,kn=_r?me+U[Pt]+it[Pt]-wn-Q.altAxis:He,on=w&&_r?IS(Gr,me,kn):si(w?Gr:rn,me,w?kn:He);j[P]=on,bt[P]=on-me}t.modifiersData[o]=bt}}const uC={name:"preventOverflow",enabled:!0,phase:"main",fn:sC,requiresIfExists:["offset"]};function cC(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function lC(n){return n===Be(n)||!Qe(n)?bc(n):cC(n)}function fC(n){var t=n.getBoundingClientRect(),e=So(t.width)/n.offsetWidth||1,o=So(t.height)/n.offsetHeight||1;return e!==1||o!==1}function pC(n,t,e){e===void 0&&(e=!1);var o=Qe(t),i=Qe(t)&&fC(t),s=wr(t),u=Co(n,i,e),l={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!e)&&((Dn(t)!=="body"||kc(s))&&(l=lC(t)),Qe(t)?(f=Co(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):s&&(f.x=wc(s))),{x:u.left+l.scrollLeft-f.x,y:u.top+l.scrollTop-f.y,width:u.width,height:u.height}}function dC(n){var t=new Map,e=new Set,o=[];n.forEach(function(s){t.set(s.name,s)});function i(s){e.add(s.name);var u=[].concat(s.requires||[],s.requiresIfExists||[]);u.forEach(function(l){if(!e.has(l)){var f=t.get(l);f&&i(f)}}),o.push(s)}return n.forEach(function(s){e.has(s.name)||i(s)}),o}function hC(n){var t=dC(n);return CS.reduce(function(e,o){return e.concat(t.filter(function(i){return i.phase===o}))},[])}function mC(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function gC(n){var t=n.reduce(function(e,o){var i=e[o.name];return e[o.name]=i?Object.assign({},i,o,{options:Object.assign({},i.options,o.options),data:Object.assign({},i.data,o.data)}):o,e},{});return Object.keys(t).map(function(e){return t[e]})}var Xp={placement:"bottom",modifiers:[],strategy:"absolute"};function Qp(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function vC(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,o=e===void 0?[]:e,i=t.defaultOptions,s=i===void 0?Xp:i;return function(u,l,f){f===void 0&&(f=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Xp,s),modifiersData:{},elements:{reference:u,popper:l},attributes:{},styles:{}},d=[],g=!1,b={state:h,setOptions:function(S){var A=typeof S=="function"?S(h.options):S;C(),h.options=Object.assign({},s,h.options,A),h.scrollParents={reference:Wr(u)?ui(u):u.contextElement?ui(u.contextElement):[],popper:ui(l)};var z=hC(gC([].concat(o,h.options.modifiers)));return h.orderedModifiers=z.filter(function(N){return N.enabled}),w(),b.update()},forceUpdate:function(){if(!g){var S=h.elements,A=S.reference,z=S.popper;if(Qp(A,z)){h.rects={reference:pC(A,xi(z),h.options.strategy==="fixed"),popper:vc(z)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(it){return h.modifiersData[it.name]=Object.assign({},it.data)});for(var N=0;N<h.orderedModifiers.length;N++){if(h.reset===!0){h.reset=!1,N=-1;continue}var R=h.orderedModifiers[N],x=R.fn,P=R.options,j=P===void 0?{}:P,U=R.name;typeof x=="function"&&(h=x({state:h,options:j,name:U,instance:b})||h)}}}},update:mC(function(){return new Promise(function(S){b.forceUpdate(),S(h)})}),destroy:function(){C(),g=!0}};if(!Qp(u,l))return b;b.setOptions(f).then(function(S){!g&&f.onFirstUpdate&&f.onFirstUpdate(S)});function w(){h.orderedModifiers.forEach(function(S){var A=S.name,z=S.options,N=z===void 0?{}:z,R=S.effect;if(typeof R=="function"){var x=R({state:h,name:A,instance:b,options:N}),P=function(){};d.push(x||P)}})}function C(){d.forEach(function(S){return S()}),d=[]}return b}}var yC=[HS,iC,BS,Eh,rC,XS,uC,LS,tC],bC=vC({defaultModifiers:yC}),wC="tippy-box",jh="tippy-content",kC="tippy-backdrop",Bh="tippy-arrow",Ph="tippy-svg-arrow",Dr={passive:!0,capture:!0},Hh=function(){return document.body};function Mu(n,t,e){if(Array.isArray(n)){var o=n[t];return o??(Array.isArray(e)?e[t]:e)}return n}function xc(n,t){var e={}.toString.call(n);return e.indexOf("[object")===0&&e.indexOf(t+"]")>-1}function Fh(n,t){return typeof n=="function"?n.apply(void 0,t):n}function td(n,t){if(t===0)return n;var e;return function(o){clearTimeout(e),e=setTimeout(function(){n(o)},t)}}function xC(n){return n.split(/\s+/).filter(Boolean)}function go(n){return[].concat(n)}function ed(n,t){n.indexOf(t)===-1&&n.push(t)}function _C(n){return n.filter(function(t,e){return n.indexOf(t)===e})}function MC(n){return n.split("-")[0]}function Da(n){return[].slice.call(n)}function nd(n){return Object.keys(n).reduce(function(t,e){return n[e]!==void 0&&(t[e]=n[e]),t},{})}function ci(){return document.createElement("div")}function Wa(n){return["Element","Fragment"].some(function(t){return xc(n,t)})}function SC(n){return xc(n,"NodeList")}function CC(n){return xc(n,"MouseEvent")}function TC(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function OC(n){return Wa(n)?[n]:SC(n)?Da(n):Array.isArray(n)?n:Da(document.querySelectorAll(n))}function Su(n,t){n.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function rd(n,t){n.forEach(function(e){e&&e.setAttribute("data-state",t)})}function AC(n){var t,e=go(n),o=e[0];return o!=null&&(t=o.ownerDocument)!=null&&t.body?o.ownerDocument:document}function EC(n,t){var e=t.clientX,o=t.clientY;return n.every(function(i){var s=i.popperRect,u=i.popperState,l=i.props,f=l.interactiveBorder,h=MC(u.placement),d=u.modifiersData.offset;if(!d)return!0;var g=h==="bottom"?d.top.y:0,b=h==="top"?d.bottom.y:0,w=h==="right"?d.left.x:0,C=h==="left"?d.right.x:0,S=s.top-o+g>f,A=o-s.bottom-b>f,z=s.left-e+w>f,N=e-s.right-C>f;return S||A||z||N})}function Cu(n,t,e){var o=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){n[o](i,e)})}function od(n,t){for(var e=t;e;){var o;if(n.contains(e))return!0;e=e.getRootNode==null||(o=e.getRootNode())==null?void 0:o.host}return!1}var Tn={isTouch:!1},id=0;function IC(){Tn.isTouch||(Tn.isTouch=!0,window.performance&&document.addEventListener("mousemove",qh))}function qh(){var n=performance.now();n-id<20&&(Tn.isTouch=!1,document.removeEventListener("mousemove",qh)),id=n}function $C(){var n=document.activeElement;if(TC(n)){var t=n._tippy;n.blur&&!t.state.isVisible&&n.blur()}}function NC(){document.addEventListener("touchstart",IC,Dr),window.addEventListener("blur",$C)}var DC=typeof window<"u"&&typeof document<"u",LC=DC?!!window.msCrypto:!1,zC={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},RC={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},dn=Object.assign({appendTo:Hh,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},zC,RC),jC=Object.keys(dn),BC=function(n){var t=Object.keys(n);t.forEach(function(e){dn[e]=n[e]})};function Vh(n){var t=n.plugins||[],e=t.reduce(function(o,i){var s=i.name,u=i.defaultValue;if(s){var l;o[s]=n[s]!==void 0?n[s]:(l=dn[s])!=null?l:u}return o},{});return Object.assign({},n,e)}function PC(n,t){var e=t?Object.keys(Vh(Object.assign({},dn,{plugins:t}))):jC,o=e.reduce(function(i,s){var u=(n.getAttribute("data-tippy-"+s)||"").trim();if(!u)return i;if(s==="content")i[s]=u;else try{i[s]=JSON.parse(u)}catch{i[s]=u}return i},{});return o}function ad(n,t){var e=Object.assign({},t,{content:Fh(t.content,[n])},t.ignoreAttributes?{}:PC(n,t.plugins));return e.aria=Object.assign({},dn.aria,e.aria),e.aria={expanded:e.aria.expanded==="auto"?t.interactive:e.aria.expanded,content:e.aria.content==="auto"?t.interactive?null:"describedby":e.aria.content},e}var HC=function(){return"innerHTML"};function Ku(n,t){n[HC()]=t}function sd(n){var t=ci();return n===!0?t.className=Bh:(t.className=Ph,Wa(n)?t.appendChild(n):Ku(t,n)),t}function ud(n,t){Wa(t.content)?(Ku(n,""),n.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Ku(n,t.content):n.textContent=t.content)}function Uu(n){var t=n.firstElementChild,e=Da(t.children);return{box:t,content:e.find(function(o){return o.classList.contains(jh)}),arrow:e.find(function(o){return o.classList.contains(Bh)||o.classList.contains(Ph)}),backdrop:e.find(function(o){return o.classList.contains(kC)})}}function Wh(n){var t=ci(),e=ci();e.className=wC,e.setAttribute("data-state","hidden"),e.setAttribute("tabindex","-1");var o=ci();o.className=jh,o.setAttribute("data-state","hidden"),ud(o,n.props),t.appendChild(e),e.appendChild(o),i(n.props,n.props);function i(s,u){var l=Uu(t),f=l.box,h=l.content,d=l.arrow;u.theme?f.setAttribute("data-theme",u.theme):f.removeAttribute("data-theme"),typeof u.animation=="string"?f.setAttribute("data-animation",u.animation):f.removeAttribute("data-animation"),u.inertia?f.setAttribute("data-inertia",""):f.removeAttribute("data-inertia"),f.style.maxWidth=typeof u.maxWidth=="number"?u.maxWidth+"px":u.maxWidth,u.role?f.setAttribute("role",u.role):f.removeAttribute("role"),(s.content!==u.content||s.allowHTML!==u.allowHTML)&&ud(h,n.props),u.arrow?d?s.arrow!==u.arrow&&(f.removeChild(d),f.appendChild(sd(u.arrow))):f.appendChild(sd(u.arrow)):d&&f.removeChild(d)}return{popper:t,onUpdate:i}}Wh.$$tippy=!0;var FC=1,ga=[],Tu=[];function qC(n,t){var e=ad(n,Object.assign({},dn,Vh(nd(t)))),o,i,s,u=!1,l=!1,f=!1,h=!1,d,g,b,w=[],C=td(ie,e.interactiveDebounce),S,A=FC++,z=null,N=_C(e.plugins),R={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},x={id:A,reference:n,popper:ci(),popperInstance:z,props:e,state:R,plugins:N,clearDelayTimeouts:Gr,setProps:kn,setContent:on,show:Io,hide:$o,hideWithInteractivity:No,enable:_r,disable:wn,unmount:Do,destroy:Lo};if(!e.render)return x;var P=e.render(x),j=P.popper,U=P.onUpdate;j.setAttribute("data-tippy-root",""),j.id="tippy-"+x.id,x.popper=j,n._tippy=x,j._tippy=x;var it=N.map(function(E){return E.fn(x)}),mt=n.hasAttribute("aria-expanded");return nn(),Jt(),gt(),ht("onCreate",[x]),e.showOnCreate&&rn(),j.addEventListener("mouseenter",function(){x.props.interactive&&x.state.isVisible&&x.clearDelayTimeouts()}),j.addEventListener("mouseleave",function(){x.props.interactive&&x.props.trigger.indexOf("mouseenter")>=0&&jt().addEventListener("mousemove",C)}),x;function Q(){var E=x.props.touch;return Array.isArray(E)?E:[E,0]}function xt(){return Q()[0]==="hold"}function bt(){var E;return!!((E=x.props.render)!=null&&E.$$tippy)}function at(){return S||n}function jt(){var E=at().parentNode;return E?AC(E):document}function Ft(){return Uu(j)}function Bt(E){return x.state.isMounted&&!x.state.isVisible||Tn.isTouch||d&&d.type==="focus"?0:Mu(x.props.delay,E?0:1,dn.delay)}function gt(E){E===void 0&&(E=!1),j.style.pointerEvents=x.props.interactive&&!E?"":"none",j.style.zIndex=""+x.props.zIndex}function ht(E,q,G){if(G===void 0&&(G=!0),it.forEach(function(ft){ft[E]&&ft[E].apply(ft,q)}),G){var dt;(dt=x.props)[E].apply(dt,q)}}function Ut(){var E=x.props.aria;if(E.content){var q="aria-"+E.content,G=j.id,dt=go(x.props.triggerTarget||n);dt.forEach(function(ft){var ee=ft.getAttribute(q);if(x.state.isVisible)ft.setAttribute(q,ee?ee+" "+G:G);else{var _e=ee&&ee.replace(G,"").trim();_e?ft.setAttribute(q,_e):ft.removeAttribute(q)}})}}function Jt(){if(!(mt||!x.props.aria.expanded)){var E=go(x.props.triggerTarget||n);E.forEach(function(q){x.props.interactive?q.setAttribute("aria-expanded",x.state.isVisible&&q===at()?"true":"false"):q.removeAttribute("aria-expanded")})}}function Dt(){jt().removeEventListener("mousemove",C),ga=ga.filter(function(E){return E!==C})}function le(E){if(!(Tn.isTouch&&(f||E.type==="mousedown"))){var q=E.composedPath&&E.composedPath()[0]||E.target;if(!(x.props.interactive&&od(j,q))){if(go(x.props.triggerTarget||n).some(function(G){return od(G,q)})){if(Tn.isTouch||x.state.isVisible&&x.props.trigger.indexOf("click")>=0)return}else ht("onClickOutside",[x,E]);x.props.hideOnClick===!0&&(x.clearDelayTimeouts(),x.hide(),l=!0,setTimeout(function(){l=!1}),x.state.isMounted||de())}}}function fe(){f=!0}function pe(){f=!1}function At(){var E=jt();E.addEventListener("mousedown",le,!0),E.addEventListener("touchend",le,Dr),E.addEventListener("touchstart",pe,Dr),E.addEventListener("touchmove",fe,Dr)}function de(){var E=jt();E.removeEventListener("mousedown",le,!0),E.removeEventListener("touchend",le,Dr),E.removeEventListener("touchstart",pe,Dr),E.removeEventListener("touchmove",fe,Dr)}function zn(E,q){vn(E,function(){!x.state.isVisible&&j.parentNode&&j.parentNode.contains(j)&&q()})}function xe(E,q){vn(E,q)}function vn(E,q){var G=Ft().box;function dt(ft){ft.target===G&&(Cu(G,"remove",dt),q())}if(E===0)return q();Cu(G,"remove",g),Cu(G,"add",dt),g=dt}function yn(E,q,G){G===void 0&&(G=!1);var dt=go(x.props.triggerTarget||n);dt.forEach(function(ft){ft.addEventListener(E,q,G),w.push({node:ft,eventType:E,handler:q,options:G})})}function nn(){xt()&&(yn("touchstart",tr,{passive:!0}),yn("touchend",bn,{passive:!0})),xC(x.props.trigger).forEach(function(E){if(E!=="manual")switch(yn(E,tr),E){case"mouseenter":yn("mouseleave",bn);break;case"focus":yn(LC?"focusout":"blur",kr);break;case"focusin":yn("focusout",kr);break}})}function Rn(){w.forEach(function(E){var q=E.node,G=E.eventType,dt=E.handler,ft=E.options;q.removeEventListener(G,dt,ft)}),w=[]}function tr(E){var q,G=!1;if(!(!x.state.isEnabled||he(E)||l)){var dt=((q=d)==null?void 0:q.type)==="focus";d=E,S=E.currentTarget,Jt(),!x.state.isVisible&&CC(E)&&ga.forEach(function(ft){return ft(E)}),E.type==="click"&&(x.props.trigger.indexOf("mouseenter")<0||u)&&x.props.hideOnClick!==!1&&x.state.isVisible?G=!0:rn(E),E.type==="click"&&(u=!G),G&&!dt&&He(E)}}function ie(E){var q=E.target,G=at().contains(q)||j.contains(q);if(!(E.type==="mousemove"&&G)){var dt=Pt().concat(j).map(function(ft){var ee,_e=ft._tippy,jn=(ee=_e.popperInstance)==null?void 0:ee.state;return jn?{popperRect:ft.getBoundingClientRect(),popperState:jn,props:e}:null}).filter(Boolean);EC(dt,E)&&(Dt(),He(E))}}function bn(E){var q=he(E)||x.props.trigger.indexOf("click")>=0&&u;if(!q){if(x.props.interactive){x.hideWithInteractivity(E);return}He(E)}}function kr(E){x.props.trigger.indexOf("focusin")<0&&E.target!==at()||x.props.interactive&&E.relatedTarget&&j.contains(E.relatedTarget)||He(E)}function he(E){return Tn.isTouch?xt()!==E.type.indexOf("touch")>=0:!1}function xr(){Jr();var E=x.props,q=E.popperOptions,G=E.placement,dt=E.offset,ft=E.getReferenceClientRect,ee=E.moveTransition,_e=bt()?Uu(j).arrow:null,jn=ft?{getBoundingClientRect:ft,contextElement:ft.contextElement||at()}:n,Mr={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Yr){var er=Yr.state;if(bt()){var Ga=Ft(),Zr=Ga.box;["placement","reference-hidden","escaped"].forEach(function(Xr){Xr==="placement"?Zr.setAttribute("data-placement",er.placement):er.attributes.popper["data-popper-"+Xr]?Zr.setAttribute("data-"+Xr,""):Zr.removeAttribute("data-"+Xr)}),er.attributes.popper={}}}},Bn=[{name:"offset",options:{offset:dt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ee}},Mr];bt()&&_e&&Bn.push({name:"arrow",options:{element:_e,padding:3}}),Bn.push.apply(Bn,(q==null?void 0:q.modifiers)||[]),x.popperInstance=bC(jn,j,Object.assign({},q,{placement:G,onFirstUpdate:b,modifiers:Bn}))}function Jr(){x.popperInstance&&(x.popperInstance.destroy(),x.popperInstance=null)}function me(){var E=x.props.appendTo,q,G=at();x.props.interactive&&E===Hh||E==="parent"?q=G.parentNode:q=Fh(E,[G]),q.contains(j)||q.appendChild(j),x.state.isMounted=!0,xr()}function Pt(){return Da(j.querySelectorAll("[data-tippy-root]"))}function rn(E){x.clearDelayTimeouts(),E&&ht("onTrigger",[x,E]),At();var q=Bt(!0),G=Q(),dt=G[0],ft=G[1];Tn.isTouch&&dt==="hold"&&ft&&(q=ft),q?o=setTimeout(function(){x.show()},q):x.show()}function He(E){if(x.clearDelayTimeouts(),ht("onUntrigger",[x,E]),!x.state.isVisible){de();return}if(!(x.props.trigger.indexOf("mouseenter")>=0&&x.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(E.type)>=0&&u)){var q=Bt(!1);q?i=setTimeout(function(){x.state.isVisible&&x.hide()},q):s=requestAnimationFrame(function(){x.hide()})}}function _r(){x.state.isEnabled=!0}function wn(){x.hide(),x.state.isEnabled=!1}function Gr(){clearTimeout(o),clearTimeout(i),cancelAnimationFrame(s)}function kn(E){if(!x.state.isDestroyed){ht("onBeforeUpdate",[x,E]),Rn();var q=x.props,G=ad(n,Object.assign({},q,nd(E),{ignoreAttributes:!0}));x.props=G,nn(),q.interactiveDebounce!==G.interactiveDebounce&&(Dt(),C=td(ie,G.interactiveDebounce)),q.triggerTarget&&!G.triggerTarget?go(q.triggerTarget).forEach(function(dt){dt.removeAttribute("aria-expanded")}):G.triggerTarget&&n.removeAttribute("aria-expanded"),Jt(),gt(),U&&U(q,G),x.popperInstance&&(xr(),Pt().forEach(function(dt){requestAnimationFrame(dt._tippy.popperInstance.forceUpdate)})),ht("onAfterUpdate",[x,E])}}function on(E){x.setProps({content:E})}function Io(){var E=x.state.isVisible,q=x.state.isDestroyed,G=!x.state.isEnabled,dt=Tn.isTouch&&!x.props.touch,ft=Mu(x.props.duration,0,dn.duration);if(!(E||q||G||dt)&&!at().hasAttribute("disabled")&&(ht("onShow",[x],!1),x.props.onShow(x)!==!1)){if(x.state.isVisible=!0,bt()&&(j.style.visibility="visible"),gt(),At(),x.state.isMounted||(j.style.transition="none"),bt()){var ee=Ft(),_e=ee.box,jn=ee.content;Su([_e,jn],0)}b=function(){var Mr;if(!(!x.state.isVisible||h)){if(h=!0,j.offsetHeight,j.style.transition=x.props.moveTransition,bt()&&x.props.animation){var Bn=Ft(),Yr=Bn.box,er=Bn.content;Su([Yr,er],ft),rd([Yr,er],"visible")}Ut(),Jt(),ed(Tu,x),(Mr=x.popperInstance)==null||Mr.forceUpdate(),ht("onMount",[x]),x.props.animation&&bt()&&xe(ft,function(){x.state.isShown=!0,ht("onShown",[x])})}},me()}}function $o(){var E=!x.state.isVisible,q=x.state.isDestroyed,G=!x.state.isEnabled,dt=Mu(x.props.duration,1,dn.duration);if(!(E||q||G)&&(ht("onHide",[x],!1),x.props.onHide(x)!==!1)){if(x.state.isVisible=!1,x.state.isShown=!1,h=!1,u=!1,bt()&&(j.style.visibility="hidden"),Dt(),de(),gt(!0),bt()){var ft=Ft(),ee=ft.box,_e=ft.content;x.props.animation&&(Su([ee,_e],dt),rd([ee,_e],"hidden"))}Ut(),Jt(),x.props.animation?bt()&&zn(dt,x.unmount):x.unmount()}}function No(E){jt().addEventListener("mousemove",C),ed(ga,C),C(E)}function Do(){x.state.isVisible&&x.hide(),x.state.isMounted&&(Jr(),Pt().forEach(function(E){E._tippy.unmount()}),j.parentNode&&j.parentNode.removeChild(j),Tu=Tu.filter(function(E){return E!==x}),x.state.isMounted=!1,ht("onHidden",[x]))}function Lo(){!x.state.isDestroyed&&(x.clearDelayTimeouts(),x.unmount(),Rn(),delete n._tippy,x.state.isDestroyed=!0,ht("onDestroy",[x]))}}function Eo(n,t){t===void 0&&(t={});var e=dn.plugins.concat(t.plugins||[]);NC();var o=Object.assign({},t,{plugins:e}),i=OC(n),s=i.reduce(function(u,l){var f=l&&qC(l,o);return f&&u.push(f),u},[]);return Wa(n)?s[0]:s}Eo.defaultProps=dn;Eo.setDefaultProps=BC;Eo.currentInput=Tn;Object.assign({},Eh,{effect:function(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow)}});Eo.setDefaultProps({render:Wh});class VC{constructor({editor:t,element:e,view:o,tippyOptions:i={},updateDelay:s=250,shouldShow:u}){this.preventHide=!1,this.shouldShow=({view:l,state:f,from:h,to:d})=>{const{doc:g,selection:b}=f,{empty:w}=b,C=!g.textBetween(h,d).length&&cc(f.selection),S=this.element.contains(document.activeElement);return!(!(l.hasFocus()||S)||w||C||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:l})=>{var f;if(this.preventHide){this.preventHide=!1;return}l!=null&&l.relatedTarget&&!((f=this.element.parentNode)===null||f===void 0)&&f.contains(l.relatedTarget)||this.hide()},this.tippyBlurHandler=l=>{this.blurHandler({event:l})},this.handleDebouncedUpdate=(l,f)=>{const h=!(f!=null&&f.selection.eq(l.state.selection)),d=!(f!=null&&f.doc.eq(l.state.doc));!h&&!d||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(l,h,d,f)},this.updateDelay))},this.updateHandler=(l,f,h,d)=>{var g,b,w;const{state:C,composing:S}=l,{selection:A}=C;if(S||!f&&!h)return;this.createTooltip();const{ranges:z}=A,N=Math.min(...z.map(x=>x.$from.pos)),R=Math.max(...z.map(x=>x.$to.pos));if(!(!((g=this.shouldShow)===null||g===void 0)&&g.call(this,{editor:this.editor,view:l,state:C,oldState:d,from:N,to:R}))){this.hide();return}(b=this.tippy)===null||b===void 0||b.setProps({getReferenceClientRect:((w=this.tippyOptions)===null||w===void 0?void 0:w.getReferenceClientRect)||(()=>{if(G_(C.selection)){let x=l.nodeDOM(N);const P=x.dataset.nodeViewWrapper?x:x.querySelector("[data-node-view-wrapper]");if(P&&(x=P.firstChild),x)return x.getBoundingClientRect()}return _h(l,N,R)})}),this.show()},this.editor=t,this.element=e,this.view=o,this.updateDelay=s,u&&(this.shouldShow=u),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;this.tippy||!e||(this.tippy=Eo(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){const{state:o}=t,i=o.selection.$from.pos!==o.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(t,e);return}const s=!(e!=null&&e.selection.eq(t.state.selection)),u=!(e!=null&&e.doc.eq(t.state.doc));this.updateHandler(t,s,u,e)}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,e;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const WC=n=>new mn({key:typeof n.pluginKey=="string"?new Ln(n.pluginKey):n.pluginKey,view:t=>new VC({view:t,...n})});ke.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[WC({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class KC{constructor({editor:t,element:e,view:o,tippyOptions:i={},shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:u,state:l})=>{const{selection:f}=l,{$anchor:h,empty:d}=f,g=h.depth===1,b=h.parent.isTextblock&&!h.parent.type.spec.code&&!h.parent.textContent;return!(!u.hasFocus()||!d||!g||!b||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:u})=>{var l;if(this.preventHide){this.preventHide=!1;return}u!=null&&u.relatedTarget&&!((l=this.element.parentNode)===null||l===void 0)&&l.contains(u.relatedTarget)||this.hide()},this.tippyBlurHandler=u=>{this.blurHandler({event:u})},this.editor=t,this.element=e,this.view=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,e=!!t.parentElement;this.tippy||!e||(this.tippy=Eo(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,e){var o,i,s;const{state:u}=t,{doc:l,selection:f}=u,{from:h,to:d}=f;if(!(e&&e.doc.eq(l)&&e.selection.eq(f))){if(this.createTooltip(),!(!((o=this.shouldShow)===null||o===void 0)&&o.call(this,{editor:this.editor,view:t,state:u,oldState:e}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((s=this.tippyOptions)===null||s===void 0?void 0:s.getReferenceClientRect)||(()=>_h(t,h,d))}),this.show()}}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,e;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const UC=n=>new mn({key:typeof n.pluginKey=="string"?new Ln(n.pluginKey):n.pluginKey,view:t=>new KC({view:t,...n})});ke.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[UC({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},La={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */La.exports;(function(n,t){(function(){var e,o="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",g=1,b=2,w=4,C=1,S=2,A=1,z=2,N=4,R=8,x=16,P=32,j=64,U=128,it=256,mt=512,Q=30,xt="...",bt=800,at=16,jt=1,Ft=2,Bt=3,gt=1/0,ht=9007199254740991,Ut=17976931348623157e292,Jt=0/0,Dt=4294967295,le=Dt-1,fe=Dt>>>1,pe=[["ary",U],["bind",A],["bindKey",z],["curry",R],["curryRight",x],["flip",mt],["partial",P],["partialRight",j],["rearg",it]],At="[object Arguments]",de="[object Array]",zn="[object AsyncFunction]",xe="[object Boolean]",vn="[object Date]",yn="[object DOMException]",nn="[object Error]",Rn="[object Function]",tr="[object GeneratorFunction]",ie="[object Map]",bn="[object Number]",kr="[object Null]",he="[object Object]",xr="[object Promise]",Jr="[object Proxy]",me="[object RegExp]",Pt="[object Set]",rn="[object String]",He="[object Symbol]",_r="[object Undefined]",wn="[object WeakMap]",Gr="[object WeakSet]",kn="[object ArrayBuffer]",on="[object DataView]",Io="[object Float32Array]",$o="[object Float64Array]",No="[object Int8Array]",Do="[object Int16Array]",Lo="[object Int32Array]",E="[object Uint8Array]",q="[object Uint8ClampedArray]",G="[object Uint16Array]",dt="[object Uint32Array]",ft=/\b__p \+= '';/g,ee=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jn=/&(?:amp|lt|gt|quot|#39);/g,Mr=/[&<>"']/g,Bn=RegExp(jn.source),Yr=RegExp(Mr.source),er=/<%-([\s\S]+?)%>/g,Ga=/<%([\s\S]+?)%>/g,Zr=/<%=([\s\S]+?)%>/g,Xr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cm=/^\w*$/,lm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ya=/[\\^$.*+?()[\]{}|]/g,fm=RegExp(Ya.source),Za=/^\s+/,pm=/\s/,dm=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,hm=/\{\n\/\* \[wrapped with (.+)\] \*/,mm=/,? & /,gm=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vm=/[()=,{}\[\]\/\s]/,ym=/\\(\\)?/g,bm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nc=/\w*$/,wm=/^[-+]0x[0-9a-f]+$/i,km=/^0b[01]+$/i,xm=/^\[object .+?Constructor\]$/,_m=/^0o[0-7]+$/i,Mm=/^(?:0|[1-9]\d*)$/,Sm=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,_i=/($^)/,Cm=/['\n\r\u2028\u2029\\]/g,Mi="\\ud800-\\udfff",Tm="\\u0300-\\u036f",Om="\\ufe20-\\ufe2f",Am="\\u20d0-\\u20ff",Dc=Tm+Om+Am,Lc="\\u2700-\\u27bf",zc="a-z\\xdf-\\xf6\\xf8-\\xff",Em="\\xac\\xb1\\xd7\\xf7",Im="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$m="\\u2000-\\u206f",Nm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rc="A-Z\\xc0-\\xd6\\xd8-\\xde",jc="\\ufe0e\\ufe0f",Bc=Em+Im+$m+Nm,Xa="['’]",Dm="["+Mi+"]",Pc="["+Bc+"]",Si="["+Dc+"]",Hc="\\d+",Lm="["+Lc+"]",Fc="["+zc+"]",qc="[^"+Mi+Bc+Hc+Lc+zc+Rc+"]",Qa="\\ud83c[\\udffb-\\udfff]",zm="(?:"+Si+"|"+Qa+")",Vc="[^"+Mi+"]",ts="(?:\\ud83c[\\udde6-\\uddff]){2}",es="[\\ud800-\\udbff][\\udc00-\\udfff]",Qr="["+Rc+"]",Wc="\\u200d",Kc="(?:"+Fc+"|"+qc+")",Rm="(?:"+Qr+"|"+qc+")",Uc="(?:"+Xa+"(?:d|ll|m|re|s|t|ve))?",Jc="(?:"+Xa+"(?:D|LL|M|RE|S|T|VE))?",Gc=zm+"?",Yc="["+jc+"]?",jm="(?:"+Wc+"(?:"+[Vc,ts,es].join("|")+")"+Yc+Gc+")*",Bm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pm="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zc=Yc+Gc+jm,Hm="(?:"+[Lm,ts,es].join("|")+")"+Zc,Fm="(?:"+[Vc+Si+"?",Si,ts,es,Dm].join("|")+")",qm=RegExp(Xa,"g"),Vm=RegExp(Si,"g"),ns=RegExp(Qa+"(?="+Qa+")|"+Fm+Zc,"g"),Wm=RegExp([Qr+"?"+Fc+"+"+Uc+"(?="+[Pc,Qr,"$"].join("|")+")",Rm+"+"+Jc+"(?="+[Pc,Qr+Kc,"$"].join("|")+")",Qr+"?"+Kc+"+"+Uc,Qr+"+"+Jc,Pm,Bm,Hc,Hm].join("|"),"g"),Km=RegExp("["+Wc+Mi+Dc+jc+"]"),Um=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Jm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gm=-1,Ct={};Ct[Io]=Ct[$o]=Ct[No]=Ct[Do]=Ct[Lo]=Ct[E]=Ct[q]=Ct[G]=Ct[dt]=!0,Ct[At]=Ct[de]=Ct[kn]=Ct[xe]=Ct[on]=Ct[vn]=Ct[nn]=Ct[Rn]=Ct[ie]=Ct[bn]=Ct[he]=Ct[me]=Ct[Pt]=Ct[rn]=Ct[wn]=!1;var St={};St[At]=St[de]=St[kn]=St[on]=St[xe]=St[vn]=St[Io]=St[$o]=St[No]=St[Do]=St[Lo]=St[ie]=St[bn]=St[he]=St[me]=St[Pt]=St[rn]=St[He]=St[E]=St[q]=St[G]=St[dt]=!0,St[nn]=St[Rn]=St[wn]=!1;var Ym={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Zm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xm={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Qm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tg=parseFloat,eg=parseInt,Xc=typeof Qo=="object"&&Qo&&Qo.Object===Object&&Qo,ng=typeof self=="object"&&self&&self.Object===Object&&self,ne=Xc||ng||Function("return this")(),rs=t&&!t.nodeType&&t,Sr=rs&&!0&&n&&!n.nodeType&&n,Qc=Sr&&Sr.exports===rs,is=Qc&&Xc.process,Fe=function(){try{var M=Sr&&Sr.require&&Sr.require("util").types;return M||is&&is.binding&&is.binding("util")}catch{}}(),tl=Fe&&Fe.isArrayBuffer,el=Fe&&Fe.isDate,nl=Fe&&Fe.isMap,rl=Fe&&Fe.isRegExp,ol=Fe&&Fe.isSet,il=Fe&&Fe.isTypedArray;function $e(M,I,O){switch(O.length){case 0:return M.call(I);case 1:return M.call(I,O[0]);case 2:return M.call(I,O[0],O[1]);case 3:return M.call(I,O[0],O[1],O[2])}return M.apply(I,O)}function rg(M,I,O,H){for(var tt=-1,vt=M==null?0:M.length;++tt<vt;){var qt=M[tt];I(H,qt,O(qt),M)}return H}function qe(M,I){for(var O=-1,H=M==null?0:M.length;++O<H&&I(M[O],O,M)!==!1;);return M}function og(M,I){for(var O=M==null?0:M.length;O--&&I(M[O],O,M)!==!1;);return M}function al(M,I){for(var O=-1,H=M==null?0:M.length;++O<H;)if(!I(M[O],O,M))return!1;return!0}function nr(M,I){for(var O=-1,H=M==null?0:M.length,tt=0,vt=[];++O<H;){var qt=M[O];I(qt,O,M)&&(vt[tt++]=qt)}return vt}function Ci(M,I){var O=M==null?0:M.length;return!!O&&to(M,I,0)>-1}function as(M,I,O){for(var H=-1,tt=M==null?0:M.length;++H<tt;)if(O(I,M[H]))return!0;return!1}function Ot(M,I){for(var O=-1,H=M==null?0:M.length,tt=Array(H);++O<H;)tt[O]=I(M[O],O,M);return tt}function rr(M,I){for(var O=-1,H=I.length,tt=M.length;++O<H;)M[tt+O]=I[O];return M}function ss(M,I,O,H){var tt=-1,vt=M==null?0:M.length;for(H&&vt&&(O=M[++tt]);++tt<vt;)O=I(O,M[tt],tt,M);return O}function ig(M,I,O,H){var tt=M==null?0:M.length;for(H&&tt&&(O=M[--tt]);tt--;)O=I(O,M[tt],tt,M);return O}function us(M,I){for(var O=-1,H=M==null?0:M.length;++O<H;)if(I(M[O],O,M))return!0;return!1}var ag=cs("length");function sg(M){return M.split("")}function ug(M){return M.match(gm)||[]}function sl(M,I,O){var H;return O(M,function(tt,vt,qt){if(I(tt,vt,qt))return H=vt,!1}),H}function Ti(M,I,O,H){for(var tt=M.length,vt=O+(H?1:-1);H?vt--:++vt<tt;)if(I(M[vt],vt,M))return vt;return-1}function to(M,I,O){return I===I?wg(M,I,O):Ti(M,ul,O)}function cg(M,I,O,H){for(var tt=O-1,vt=M.length;++tt<vt;)if(H(M[tt],I))return tt;return-1}function ul(M){return M!==M}function cl(M,I){var O=M==null?0:M.length;return O?fs(M,I)/O:Jt}function cs(M){return function(I){return I==null?e:I[M]}}function ls(M){return function(I){return M==null?e:M[I]}}function ll(M,I,O,H,tt){return tt(M,function(vt,qt,_t){O=H?(H=!1,vt):I(O,vt,qt,_t)}),O}function lg(M,I){var O=M.length;for(M.sort(I);O--;)M[O]=M[O].value;return M}function fs(M,I){for(var O,H=-1,tt=M.length;++H<tt;){var vt=I(M[H]);vt!==e&&(O=O===e?vt:O+vt)}return O}function ps(M,I){for(var O=-1,H=Array(M);++O<M;)H[O]=I(O);return H}function fg(M,I){return Ot(I,function(O){return[O,M[O]]})}function fl(M){return M&&M.slice(0,ml(M)+1).replace(Za,"")}function Ne(M){return function(I){return M(I)}}function ds(M,I){return Ot(I,function(O){return M[O]})}function zo(M,I){return M.has(I)}function pl(M,I){for(var O=-1,H=M.length;++O<H&&to(I,M[O],0)>-1;);return O}function dl(M,I){for(var O=M.length;O--&&to(I,M[O],0)>-1;);return O}function pg(M,I){for(var O=M.length,H=0;O--;)M[O]===I&&++H;return H}var dg=ls(Ym),hg=ls(Zm);function mg(M){return"\\"+Qm[M]}function gg(M,I){return M==null?e:M[I]}function eo(M){return Km.test(M)}function vg(M){return Um.test(M)}function yg(M){for(var I,O=[];!(I=M.next()).done;)O.push(I.value);return O}function hs(M){var I=-1,O=Array(M.size);return M.forEach(function(H,tt){O[++I]=[tt,H]}),O}function hl(M,I){return function(O){return M(I(O))}}function or(M,I){for(var O=-1,H=M.length,tt=0,vt=[];++O<H;){var qt=M[O];(qt===I||qt===d)&&(M[O]=d,vt[tt++]=O)}return vt}function Oi(M){var I=-1,O=Array(M.size);return M.forEach(function(H){O[++I]=H}),O}function bg(M){var I=-1,O=Array(M.size);return M.forEach(function(H){O[++I]=[H,H]}),O}function wg(M,I,O){for(var H=O-1,tt=M.length;++H<tt;)if(M[H]===I)return H;return-1}function kg(M,I,O){for(var H=O+1;H--;)if(M[H]===I)return H;return H}function no(M){return eo(M)?_g(M):ag(M)}function an(M){return eo(M)?Mg(M):sg(M)}function ml(M){for(var I=M.length;I--&&pm.test(M.charAt(I)););return I}var xg=ls(Xm);function _g(M){for(var I=ns.lastIndex=0;ns.test(M);)++I;return I}function Mg(M){return M.match(ns)||[]}function Sg(M){return M.match(Wm)||[]}var Cg=function M(I){I=I==null?ne:ro.defaults(ne.Object(),I,ro.pick(ne,Jm));var O=I.Array,H=I.Date,tt=I.Error,vt=I.Function,qt=I.Math,_t=I.Object,ms=I.RegExp,Tg=I.String,Ve=I.TypeError,Ai=O.prototype,Og=vt.prototype,oo=_t.prototype,Ei=I["__core-js_shared__"],Ii=Og.toString,wt=oo.hasOwnProperty,Ag=0,gl=function(){var r=/[^.]+$/.exec(Ei&&Ei.keys&&Ei.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),$i=oo.toString,Eg=Ii.call(_t),Ig=ne._,$g=ms("^"+Ii.call(wt).replace(Ya,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ni=Qc?I.Buffer:e,ir=I.Symbol,Di=I.Uint8Array,vl=Ni?Ni.allocUnsafe:e,Li=hl(_t.getPrototypeOf,_t),yl=_t.create,bl=oo.propertyIsEnumerable,zi=Ai.splice,wl=ir?ir.isConcatSpreadable:e,Ro=ir?ir.iterator:e,Cr=ir?ir.toStringTag:e,Ri=function(){try{var r=Ir(_t,"defineProperty");return r({},"",{}),r}catch{}}(),Ng=I.clearTimeout!==ne.clearTimeout&&I.clearTimeout,Dg=H&&H.now!==ne.Date.now&&H.now,Lg=I.setTimeout!==ne.setTimeout&&I.setTimeout,ji=qt.ceil,Bi=qt.floor,gs=_t.getOwnPropertySymbols,zg=Ni?Ni.isBuffer:e,kl=I.isFinite,Rg=Ai.join,jg=hl(_t.keys,_t),Vt=qt.max,ae=qt.min,Bg=H.now,Pg=I.parseInt,xl=qt.random,Hg=Ai.reverse,vs=Ir(I,"DataView"),jo=Ir(I,"Map"),ys=Ir(I,"Promise"),io=Ir(I,"Set"),Bo=Ir(I,"WeakMap"),Po=Ir(_t,"create"),Pi=Bo&&new Bo,ao={},Fg=$r(vs),qg=$r(jo),Vg=$r(ys),Wg=$r(io),Kg=$r(Bo),Hi=ir?ir.prototype:e,Ho=Hi?Hi.valueOf:e,_l=Hi?Hi.toString:e;function v(r){if(It(r)&&!et(r)&&!(r instanceof ut)){if(r instanceof We)return r;if(wt.call(r,"__wrapped__"))return Sf(r)}return new We(r)}var so=function(){function r(){}return function(a){if(!Et(a))return{};if(yl)return yl(a);r.prototype=a;var c=new r;return r.prototype=e,c}}();function Fi(){}function We(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=e}v.templateSettings={escape:er,evaluate:Ga,interpolate:Zr,variable:"",imports:{_:v}},v.prototype=Fi.prototype,v.prototype.constructor=v,We.prototype=so(Fi.prototype),We.prototype.constructor=We;function ut(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function Ug(){var r=new ut(this.__wrapped__);return r.__actions__=Me(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Me(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Me(this.__views__),r}function Jg(){if(this.__filtered__){var r=new ut(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function Gg(){var r=this.__wrapped__.value(),a=this.__dir__,c=et(r),p=a<0,m=c?r.length:0,y=sv(0,m,this.__views__),k=y.start,_=y.end,T=_-k,$=p?_:k-1,D=this.__iteratees__,L=D.length,B=0,V=ae(T,this.__takeCount__);if(!c||!p&&m==T&&V==T)return Ul(r,this.__actions__);var Y=[];t:for(;T--&&B<V;){$+=a;for(var rt=-1,Z=r[$];++rt<L;){var st=D[rt],pt=st.iteratee,ze=st.type,ye=pt(Z);if(ze==Ft)Z=ye;else if(!ye){if(ze==jt)continue t;break t}}Y[B++]=Z}return Y}ut.prototype=so(Fi.prototype),ut.prototype.constructor=ut;function Tr(r){var a=-1,c=r==null?0:r.length;for(this.clear();++a<c;){var p=r[a];this.set(p[0],p[1])}}function Yg(){this.__data__=Po?Po(null):{},this.size=0}function Zg(r){var a=this.has(r)&&delete this.__data__[r];return this.size-=a?1:0,a}function Xg(r){var a=this.__data__;if(Po){var c=a[r];return c===f?e:c}return wt.call(a,r)?a[r]:e}function Qg(r){var a=this.__data__;return Po?a[r]!==e:wt.call(a,r)}function t0(r,a){var c=this.__data__;return this.size+=this.has(r)?0:1,c[r]=Po&&a===e?f:a,this}Tr.prototype.clear=Yg,Tr.prototype.delete=Zg,Tr.prototype.get=Xg,Tr.prototype.has=Qg,Tr.prototype.set=t0;function Pn(r){var a=-1,c=r==null?0:r.length;for(this.clear();++a<c;){var p=r[a];this.set(p[0],p[1])}}function e0(){this.__data__=[],this.size=0}function n0(r){var a=this.__data__,c=qi(a,r);if(c<0)return!1;var p=a.length-1;return c==p?a.pop():zi.call(a,c,1),--this.size,!0}function r0(r){var a=this.__data__,c=qi(a,r);return c<0?e:a[c][1]}function o0(r){return qi(this.__data__,r)>-1}function i0(r,a){var c=this.__data__,p=qi(c,r);return p<0?(++this.size,c.push([r,a])):c[p][1]=a,this}Pn.prototype.clear=e0,Pn.prototype.delete=n0,Pn.prototype.get=r0,Pn.prototype.has=o0,Pn.prototype.set=i0;function Hn(r){var a=-1,c=r==null?0:r.length;for(this.clear();++a<c;){var p=r[a];this.set(p[0],p[1])}}function a0(){this.size=0,this.__data__={hash:new Tr,map:new(jo||Pn),string:new Tr}}function s0(r){var a=ea(this,r).delete(r);return this.size-=a?1:0,a}function u0(r){return ea(this,r).get(r)}function c0(r){return ea(this,r).has(r)}function l0(r,a){var c=ea(this,r),p=c.size;return c.set(r,a),this.size+=c.size==p?0:1,this}Hn.prototype.clear=a0,Hn.prototype.delete=s0,Hn.prototype.get=u0,Hn.prototype.has=c0,Hn.prototype.set=l0;function Or(r){var a=-1,c=r==null?0:r.length;for(this.__data__=new Hn;++a<c;)this.add(r[a])}function f0(r){return this.__data__.set(r,f),this}function p0(r){return this.__data__.has(r)}Or.prototype.add=Or.prototype.push=f0,Or.prototype.has=p0;function sn(r){var a=this.__data__=new Pn(r);this.size=a.size}function d0(){this.__data__=new Pn,this.size=0}function h0(r){var a=this.__data__,c=a.delete(r);return this.size=a.size,c}function m0(r){return this.__data__.get(r)}function g0(r){return this.__data__.has(r)}function v0(r,a){var c=this.__data__;if(c instanceof Pn){var p=c.__data__;if(!jo||p.length<i-1)return p.push([r,a]),this.size=++c.size,this;c=this.__data__=new Hn(p)}return c.set(r,a),this.size=c.size,this}sn.prototype.clear=d0,sn.prototype.delete=h0,sn.prototype.get=m0,sn.prototype.has=g0,sn.prototype.set=v0;function Ml(r,a){var c=et(r),p=!c&&Nr(r),m=!c&&!p&&lr(r),y=!c&&!p&&!m&&fo(r),k=c||p||m||y,_=k?ps(r.length,Tg):[],T=_.length;for(var $ in r)(a||wt.call(r,$))&&!(k&&($=="length"||m&&($=="offset"||$=="parent")||y&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Wn($,T)))&&_.push($);return _}function Sl(r){var a=r.length;return a?r[As(0,a-1)]:e}function y0(r,a){return na(Me(r),Ar(a,0,r.length))}function b0(r){return na(Me(r))}function bs(r,a,c){(c!==e&&!un(r[a],c)||c===e&&!(a in r))&&Fn(r,a,c)}function Fo(r,a,c){var p=r[a];(!(wt.call(r,a)&&un(p,c))||c===e&&!(a in r))&&Fn(r,a,c)}function qi(r,a){for(var c=r.length;c--;)if(un(r[c][0],a))return c;return-1}function w0(r,a,c,p){return ar(r,function(m,y,k){a(p,m,c(m),k)}),p}function Cl(r,a){return r&&_n(a,Gt(a),r)}function k0(r,a){return r&&_n(a,Ce(a),r)}function Fn(r,a,c){a=="__proto__"&&Ri?Ri(r,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):r[a]=c}function ws(r,a){for(var c=-1,p=a.length,m=O(p),y=r==null;++c<p;)m[c]=y?e:tu(r,a[c]);return m}function Ar(r,a,c){return r===r&&(c!==e&&(r=r<=c?r:c),a!==e&&(r=r>=a?r:a)),r}function Ke(r,a,c,p,m,y){var k,_=a&g,T=a&b,$=a&w;if(c&&(k=m?c(r,p,m,y):c(r)),k!==e)return k;if(!Et(r))return r;var D=et(r);if(D){if(k=cv(r),!_)return Me(r,k)}else{var L=se(r),B=L==Rn||L==tr;if(lr(r))return Yl(r,_);if(L==he||L==At||B&&!m){if(k=T||B?{}:gf(r),!_)return T?X0(r,k0(k,r)):Z0(r,Cl(k,r))}else{if(!St[L])return m?r:{};k=lv(r,L,_)}}y||(y=new sn);var V=y.get(r);if(V)return V;y.set(r,k),Wf(r)?r.forEach(function(Z){k.add(Ke(Z,a,c,Z,r,y))}):qf(r)&&r.forEach(function(Z,st){k.set(st,Ke(Z,a,c,st,r,y))});var Y=$?T?Ps:Bs:T?Ce:Gt,rt=D?e:Y(r);return qe(rt||r,function(Z,st){rt&&(st=Z,Z=r[st]),Fo(k,st,Ke(Z,a,c,st,r,y))}),k}function x0(r){var a=Gt(r);return function(c){return Tl(c,r,a)}}function Tl(r,a,c){var p=c.length;if(r==null)return!p;for(r=_t(r);p--;){var m=c[p],y=a[m],k=r[m];if(k===e&&!(m in r)||!y(k))return!1}return!0}function Ol(r,a,c){if(typeof r!="function")throw new Ve(u);return Go(function(){r.apply(e,c)},a)}function qo(r,a,c,p){var m=-1,y=Ci,k=!0,_=r.length,T=[],$=a.length;if(!_)return T;c&&(a=Ot(a,Ne(c))),p?(y=as,k=!1):a.length>=i&&(y=zo,k=!1,a=new Or(a));t:for(;++m<_;){var D=r[m],L=c==null?D:c(D);if(D=p||D!==0?D:0,k&&L===L){for(var B=$;B--;)if(a[B]===L)continue t;T.push(D)}else y(a,L,p)||T.push(D)}return T}var ar=ef(xn),Al=ef(xs,!0);function _0(r,a){var c=!0;return ar(r,function(p,m,y){return c=!!a(p,m,y),c}),c}function Vi(r,a,c){for(var p=-1,m=r.length;++p<m;){var y=r[p],k=a(y);if(k!=null&&(_===e?k===k&&!Le(k):c(k,_)))var _=k,T=y}return T}function M0(r,a,c,p){var m=r.length;for(c=nt(c),c<0&&(c=-c>m?0:m+c),p=p===e||p>m?m:nt(p),p<0&&(p+=m),p=c>p?0:Uf(p);c<p;)r[c++]=a;return r}function El(r,a){var c=[];return ar(r,function(p,m,y){a(p,m,y)&&c.push(p)}),c}function re(r,a,c,p,m){var y=-1,k=r.length;for(c||(c=pv),m||(m=[]);++y<k;){var _=r[y];a>0&&c(_)?a>1?re(_,a-1,c,p,m):rr(m,_):p||(m[m.length]=_)}return m}var ks=nf(),Il=nf(!0);function xn(r,a){return r&&ks(r,a,Gt)}function xs(r,a){return r&&Il(r,a,Gt)}function Wi(r,a){return nr(a,function(c){return Kn(r[c])})}function Er(r,a){a=ur(a,r);for(var c=0,p=a.length;r!=null&&c<p;)r=r[Mn(a[c++])];return c&&c==p?r:e}function $l(r,a,c){var p=a(r);return et(r)?p:rr(p,c(r))}function ge(r){return r==null?r===e?_r:kr:Cr&&Cr in _t(r)?av(r):bv(r)}function _s(r,a){return r>a}function S0(r,a){return r!=null&&wt.call(r,a)}function C0(r,a){return r!=null&&a in _t(r)}function T0(r,a,c){return r>=ae(a,c)&&r<Vt(a,c)}function Ms(r,a,c){for(var p=c?as:Ci,m=r[0].length,y=r.length,k=y,_=O(y),T=1/0,$=[];k--;){var D=r[k];k&&a&&(D=Ot(D,Ne(a))),T=ae(D.length,T),_[k]=!c&&(a||m>=120&&D.length>=120)?new Or(k&&D):e}D=r[0];var L=-1,B=_[0];t:for(;++L<m&&$.length<T;){var V=D[L],Y=a?a(V):V;if(V=c||V!==0?V:0,!(B?zo(B,Y):p($,Y,c))){for(k=y;--k;){var rt=_[k];if(!(rt?zo(rt,Y):p(r[k],Y,c)))continue t}B&&B.push(Y),$.push(V)}}return $}function O0(r,a,c,p){return xn(r,function(m,y,k){a(p,c(m),y,k)}),p}function Vo(r,a,c){a=ur(a,r),r=wf(r,a);var p=r==null?r:r[Mn(Je(a))];return p==null?e:$e(p,r,c)}function Nl(r){return It(r)&&ge(r)==At}function A0(r){return It(r)&&ge(r)==kn}function E0(r){return It(r)&&ge(r)==vn}function Wo(r,a,c,p,m){return r===a?!0:r==null||a==null||!It(r)&&!It(a)?r!==r&&a!==a:I0(r,a,c,p,Wo,m)}function I0(r,a,c,p,m,y){var k=et(r),_=et(a),T=k?de:se(r),$=_?de:se(a);T=T==At?he:T,$=$==At?he:$;var D=T==he,L=$==he,B=T==$;if(B&&lr(r)){if(!lr(a))return!1;k=!0,D=!1}if(B&&!D)return y||(y=new sn),k||fo(r)?df(r,a,c,p,m,y):ov(r,a,T,c,p,m,y);if(!(c&C)){var V=D&&wt.call(r,"__wrapped__"),Y=L&&wt.call(a,"__wrapped__");if(V||Y){var rt=V?r.value():r,Z=Y?a.value():a;return y||(y=new sn),m(rt,Z,c,p,y)}}return B?(y||(y=new sn),iv(r,a,c,p,m,y)):!1}function $0(r){return It(r)&&se(r)==ie}function Ss(r,a,c,p){var m=c.length,y=m,k=!p;if(r==null)return!y;for(r=_t(r);m--;){var _=c[m];if(k&&_[2]?_[1]!==r[_[0]]:!(_[0]in r))return!1}for(;++m<y;){_=c[m];var T=_[0],$=r[T],D=_[1];if(k&&_[2]){if($===e&&!(T in r))return!1}else{var L=new sn;if(p)var B=p($,D,T,r,a,L);if(!(B===e?Wo(D,$,C|S,p,L):B))return!1}}return!0}function Dl(r){if(!Et(r)||hv(r))return!1;var a=Kn(r)?$g:xm;return a.test($r(r))}function N0(r){return It(r)&&ge(r)==me}function D0(r){return It(r)&&se(r)==Pt}function L0(r){return It(r)&&ua(r.length)&&!!Ct[ge(r)]}function Ll(r){return typeof r=="function"?r:r==null?Te:typeof r=="object"?et(r)?jl(r[0],r[1]):Rl(r):op(r)}function Cs(r){if(!Jo(r))return jg(r);var a=[];for(var c in _t(r))wt.call(r,c)&&c!="constructor"&&a.push(c);return a}function z0(r){if(!Et(r))return yv(r);var a=Jo(r),c=[];for(var p in r)p=="constructor"&&(a||!wt.call(r,p))||c.push(p);return c}function Ts(r,a){return r<a}function zl(r,a){var c=-1,p=Se(r)?O(r.length):[];return ar(r,function(m,y,k){p[++c]=a(m,y,k)}),p}function Rl(r){var a=Fs(r);return a.length==1&&a[0][2]?yf(a[0][0],a[0][1]):function(c){return c===r||Ss(c,r,a)}}function jl(r,a){return Vs(r)&&vf(a)?yf(Mn(r),a):function(c){var p=tu(c,r);return p===e&&p===a?eu(c,r):Wo(a,p,C|S)}}function Ki(r,a,c,p,m){r!==a&&ks(a,function(y,k){if(m||(m=new sn),Et(y))R0(r,a,k,c,Ki,p,m);else{var _=p?p(Ks(r,k),y,k+"",r,a,m):e;_===e&&(_=y),bs(r,k,_)}},Ce)}function R0(r,a,c,p,m,y,k){var _=Ks(r,c),T=Ks(a,c),$=k.get(T);if($){bs(r,c,$);return}var D=y?y(_,T,c+"",r,a,k):e,L=D===e;if(L){var B=et(T),V=!B&&lr(T),Y=!B&&!V&&fo(T);D=T,B||V||Y?et(_)?D=_:Lt(_)?D=Me(_):V?(L=!1,D=Yl(T,!0)):Y?(L=!1,D=Zl(T,!0)):D=[]:Yo(T)||Nr(T)?(D=_,Nr(_)?D=Jf(_):(!Et(_)||Kn(_))&&(D=gf(T))):L=!1}L&&(k.set(T,D),m(D,T,p,y,k),k.delete(T)),bs(r,c,D)}function Bl(r,a){var c=r.length;if(c)return a+=a<0?c:0,Wn(a,c)?r[a]:e}function Pl(r,a,c){a.length?a=Ot(a,function(y){return et(y)?function(k){return Er(k,y.length===1?y[0]:y)}:y}):a=[Te];var p=-1;a=Ot(a,Ne(J()));var m=zl(r,function(y,k,_){var T=Ot(a,function($){return $(y)});return{criteria:T,index:++p,value:y}});return lg(m,function(y,k){return Y0(y,k,c)})}function j0(r,a){return Hl(r,a,function(c,p){return eu(r,p)})}function Hl(r,a,c){for(var p=-1,m=a.length,y={};++p<m;){var k=a[p],_=Er(r,k);c(_,k)&&Ko(y,ur(k,r),_)}return y}function B0(r){return function(a){return Er(a,r)}}function Os(r,a,c,p){var m=p?cg:to,y=-1,k=a.length,_=r;for(r===a&&(a=Me(a)),c&&(_=Ot(r,Ne(c)));++y<k;)for(var T=0,$=a[y],D=c?c($):$;(T=m(_,D,T,p))>-1;)_!==r&&zi.call(_,T,1),zi.call(r,T,1);return r}function Fl(r,a){for(var c=r?a.length:0,p=c-1;c--;){var m=a[c];if(c==p||m!==y){var y=m;Wn(m)?zi.call(r,m,1):$s(r,m)}}return r}function As(r,a){return r+Bi(xl()*(a-r+1))}function P0(r,a,c,p){for(var m=-1,y=Vt(ji((a-r)/(c||1)),0),k=O(y);y--;)k[p?y:++m]=r,r+=c;return k}function Es(r,a){var c="";if(!r||a<1||a>ht)return c;do a%2&&(c+=r),a=Bi(a/2),a&&(r+=r);while(a);return c}function ot(r,a){return Us(bf(r,a,Te),r+"")}function H0(r){return Sl(po(r))}function F0(r,a){var c=po(r);return na(c,Ar(a,0,c.length))}function Ko(r,a,c,p){if(!Et(r))return r;a=ur(a,r);for(var m=-1,y=a.length,k=y-1,_=r;_!=null&&++m<y;){var T=Mn(a[m]),$=c;if(T==="__proto__"||T==="constructor"||T==="prototype")return r;if(m!=k){var D=_[T];$=p?p(D,T,_):e,$===e&&($=Et(D)?D:Wn(a[m+1])?[]:{})}Fo(_,T,$),_=_[T]}return r}var ql=Pi?function(r,a){return Pi.set(r,a),r}:Te,q0=Ri?function(r,a){return Ri(r,"toString",{configurable:!0,enumerable:!1,value:ru(a),writable:!0})}:Te;function V0(r){return na(po(r))}function Ue(r,a,c){var p=-1,m=r.length;a<0&&(a=-a>m?0:m+a),c=c>m?m:c,c<0&&(c+=m),m=a>c?0:c-a>>>0,a>>>=0;for(var y=O(m);++p<m;)y[p]=r[p+a];return y}function W0(r,a){var c;return ar(r,function(p,m,y){return c=a(p,m,y),!c}),!!c}function Ui(r,a,c){var p=0,m=r==null?p:r.length;if(typeof a=="number"&&a===a&&m<=fe){for(;p<m;){var y=p+m>>>1,k=r[y];k!==null&&!Le(k)&&(c?k<=a:k<a)?p=y+1:m=y}return m}return Is(r,a,Te,c)}function Is(r,a,c,p){var m=0,y=r==null?0:r.length;if(y===0)return 0;a=c(a);for(var k=a!==a,_=a===null,T=Le(a),$=a===e;m<y;){var D=Bi((m+y)/2),L=c(r[D]),B=L!==e,V=L===null,Y=L===L,rt=Le(L);if(k)var Z=p||Y;else $?Z=Y&&(p||B):_?Z=Y&&B&&(p||!V):T?Z=Y&&B&&!V&&(p||!rt):V||rt?Z=!1:Z=p?L<=a:L<a;Z?m=D+1:y=D}return ae(y,le)}function Vl(r,a){for(var c=-1,p=r.length,m=0,y=[];++c<p;){var k=r[c],_=a?a(k):k;if(!c||!un(_,T)){var T=_;y[m++]=k===0?0:k}}return y}function Wl(r){return typeof r=="number"?r:Le(r)?Jt:+r}function De(r){if(typeof r=="string")return r;if(et(r))return Ot(r,De)+"";if(Le(r))return _l?_l.call(r):"";var a=r+"";return a=="0"&&1/r==-gt?"-0":a}function sr(r,a,c){var p=-1,m=Ci,y=r.length,k=!0,_=[],T=_;if(c)k=!1,m=as;else if(y>=i){var $=a?null:nv(r);if($)return Oi($);k=!1,m=zo,T=new Or}else T=a?[]:_;t:for(;++p<y;){var D=r[p],L=a?a(D):D;if(D=c||D!==0?D:0,k&&L===L){for(var B=T.length;B--;)if(T[B]===L)continue t;a&&T.push(L),_.push(D)}else m(T,L,c)||(T!==_&&T.push(L),_.push(D))}return _}function $s(r,a){return a=ur(a,r),r=wf(r,a),r==null||delete r[Mn(Je(a))]}function Kl(r,a,c,p){return Ko(r,a,c(Er(r,a)),p)}function Ji(r,a,c,p){for(var m=r.length,y=p?m:-1;(p?y--:++y<m)&&a(r[y],y,r););return c?Ue(r,p?0:y,p?y+1:m):Ue(r,p?y+1:0,p?m:y)}function Ul(r,a){var c=r;return c instanceof ut&&(c=c.value()),ss(a,function(p,m){return m.func.apply(m.thisArg,rr([p],m.args))},c)}function Ns(r,a,c){var p=r.length;if(p<2)return p?sr(r[0]):[];for(var m=-1,y=O(p);++m<p;)for(var k=r[m],_=-1;++_<p;)_!=m&&(y[m]=qo(y[m]||k,r[_],a,c));return sr(re(y,1),a,c)}function Jl(r,a,c){for(var p=-1,m=r.length,y=a.length,k={};++p<m;){var _=p<y?a[p]:e;c(k,r[p],_)}return k}function Ds(r){return Lt(r)?r:[]}function Ls(r){return typeof r=="function"?r:Te}function ur(r,a){return et(r)?r:Vs(r,a)?[r]:Mf(yt(r))}var K0=ot;function cr(r,a,c){var p=r.length;return c=c===e?p:c,!a&&c>=p?r:Ue(r,a,c)}var Gl=Ng||function(r){return ne.clearTimeout(r)};function Yl(r,a){if(a)return r.slice();var c=r.length,p=vl?vl(c):new r.constructor(c);return r.copy(p),p}function zs(r){var a=new r.constructor(r.byteLength);return new Di(a).set(new Di(r)),a}function U0(r,a){var c=a?zs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.byteLength)}function J0(r){var a=new r.constructor(r.source,Nc.exec(r));return a.lastIndex=r.lastIndex,a}function G0(r){return Ho?_t(Ho.call(r)):{}}function Zl(r,a){var c=a?zs(r.buffer):r.buffer;return new r.constructor(c,r.byteOffset,r.length)}function Xl(r,a){if(r!==a){var c=r!==e,p=r===null,m=r===r,y=Le(r),k=a!==e,_=a===null,T=a===a,$=Le(a);if(!_&&!$&&!y&&r>a||y&&k&&T&&!_&&!$||p&&k&&T||!c&&T||!m)return 1;if(!p&&!y&&!$&&r<a||$&&c&&m&&!p&&!y||_&&c&&m||!k&&m||!T)return-1}return 0}function Y0(r,a,c){for(var p=-1,m=r.criteria,y=a.criteria,k=m.length,_=c.length;++p<k;){var T=Xl(m[p],y[p]);if(T){if(p>=_)return T;var $=c[p];return T*($=="desc"?-1:1)}}return r.index-a.index}function Ql(r,a,c,p){for(var m=-1,y=r.length,k=c.length,_=-1,T=a.length,$=Vt(y-k,0),D=O(T+$),L=!p;++_<T;)D[_]=a[_];for(;++m<k;)(L||m<y)&&(D[c[m]]=r[m]);for(;$--;)D[_++]=r[m++];return D}function tf(r,a,c,p){for(var m=-1,y=r.length,k=-1,_=c.length,T=-1,$=a.length,D=Vt(y-_,0),L=O(D+$),B=!p;++m<D;)L[m]=r[m];for(var V=m;++T<$;)L[V+T]=a[T];for(;++k<_;)(B||m<y)&&(L[V+c[k]]=r[m++]);return L}function Me(r,a){var c=-1,p=r.length;for(a||(a=O(p));++c<p;)a[c]=r[c];return a}function _n(r,a,c,p){var m=!c;c||(c={});for(var y=-1,k=a.length;++y<k;){var _=a[y],T=p?p(c[_],r[_],_,c,r):e;T===e&&(T=r[_]),m?Fn(c,_,T):Fo(c,_,T)}return c}function Z0(r,a){return _n(r,qs(r),a)}function X0(r,a){return _n(r,hf(r),a)}function Gi(r,a){return function(c,p){var m=et(c)?rg:w0,y=a?a():{};return m(c,r,J(p,2),y)}}function uo(r){return ot(function(a,c){var p=-1,m=c.length,y=m>1?c[m-1]:e,k=m>2?c[2]:e;for(y=r.length>3&&typeof y=="function"?(m--,y):e,k&&ve(c[0],c[1],k)&&(y=m<3?e:y,m=1),a=_t(a);++p<m;){var _=c[p];_&&r(a,_,p,y)}return a})}function ef(r,a){return function(c,p){if(c==null)return c;if(!Se(c))return r(c,p);for(var m=c.length,y=a?m:-1,k=_t(c);(a?y--:++y<m)&&p(k[y],y,k)!==!1;);return c}}function nf(r){return function(a,c,p){for(var m=-1,y=_t(a),k=p(a),_=k.length;_--;){var T=k[r?_:++m];if(c(y[T],T,y)===!1)break}return a}}function Q0(r,a,c){var p=a&A,m=Uo(r);function y(){var k=this&&this!==ne&&this instanceof y?m:r;return k.apply(p?c:this,arguments)}return y}function rf(r){return function(a){a=yt(a);var c=eo(a)?an(a):e,p=c?c[0]:a.charAt(0),m=c?cr(c,1).join(""):a.slice(1);return p[r]()+m}}function co(r){return function(a){return ss(np(ep(a).replace(qm,"")),r,"")}}function Uo(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=so(r.prototype),p=r.apply(c,a);return Et(p)?p:c}}function tv(r,a,c){var p=Uo(r);function m(){for(var y=arguments.length,k=O(y),_=y,T=lo(m);_--;)k[_]=arguments[_];var $=y<3&&k[0]!==T&&k[y-1]!==T?[]:or(k,T);if(y-=$.length,y<c)return cf(r,a,Yi,m.placeholder,e,k,$,e,e,c-y);var D=this&&this!==ne&&this instanceof m?p:r;return $e(D,this,k)}return m}function of(r){return function(a,c,p){var m=_t(a);if(!Se(a)){var y=J(c,3);a=Gt(a),c=function(_){return y(m[_],_,m)}}var k=r(a,c,p);return k>-1?m[y?a[k]:k]:e}}function af(r){return Vn(function(a){var c=a.length,p=c,m=We.prototype.thru;for(r&&a.reverse();p--;){var y=a[p];if(typeof y!="function")throw new Ve(u);if(m&&!k&&ta(y)=="wrapper")var k=new We([],!0)}for(p=k?p:c;++p<c;){y=a[p];var _=ta(y),T=_=="wrapper"?Hs(y):e;T&&Ws(T[0])&&T[1]==(U|R|P|it)&&!T[4].length&&T[9]==1?k=k[ta(T[0])].apply(k,T[3]):k=y.length==1&&Ws(y)?k[_]():k.thru(y)}return function(){var $=arguments,D=$[0];if(k&&$.length==1&&et(D))return k.plant(D).value();for(var L=0,B=c?a[L].apply(this,$):D;++L<c;)B=a[L].call(this,B);return B}})}function Yi(r,a,c,p,m,y,k,_,T,$){var D=a&U,L=a&A,B=a&z,V=a&(R|x),Y=a&mt,rt=B?e:Uo(r);function Z(){for(var st=arguments.length,pt=O(st),ze=st;ze--;)pt[ze]=arguments[ze];if(V)var ye=lo(Z),Re=pg(pt,ye);if(p&&(pt=Ql(pt,p,m,V)),y&&(pt=tf(pt,y,k,V)),st-=Re,V&&st<$){var zt=or(pt,ye);return cf(r,a,Yi,Z.placeholder,c,pt,zt,_,T,$-st)}var cn=L?c:this,Jn=B?cn[r]:r;return st=pt.length,_?pt=wv(pt,_):Y&&st>1&&pt.reverse(),D&&T<st&&(pt.length=T),this&&this!==ne&&this instanceof Z&&(Jn=rt||Uo(Jn)),Jn.apply(cn,pt)}return Z}function sf(r,a){return function(c,p){return O0(c,r,a(p),{})}}function Zi(r,a){return function(c,p){var m;if(c===e&&p===e)return a;if(c!==e&&(m=c),p!==e){if(m===e)return p;typeof c=="string"||typeof p=="string"?(c=De(c),p=De(p)):(c=Wl(c),p=Wl(p)),m=r(c,p)}return m}}function Rs(r){return Vn(function(a){return a=Ot(a,Ne(J())),ot(function(c){var p=this;return r(a,function(m){return $e(m,p,c)})})})}function Xi(r,a){a=a===e?" ":De(a);var c=a.length;if(c<2)return c?Es(a,r):a;var p=Es(a,ji(r/no(a)));return eo(a)?cr(an(p),0,r).join(""):p.slice(0,r)}function ev(r,a,c,p){var m=a&A,y=Uo(r);function k(){for(var _=-1,T=arguments.length,$=-1,D=p.length,L=O(D+T),B=this&&this!==ne&&this instanceof k?y:r;++$<D;)L[$]=p[$];for(;T--;)L[$++]=arguments[++_];return $e(B,m?c:this,L)}return k}function uf(r){return function(a,c,p){return p&&typeof p!="number"&&ve(a,c,p)&&(c=p=e),a=Un(a),c===e?(c=a,a=0):c=Un(c),p=p===e?a<c?1:-1:Un(p),P0(a,c,p,r)}}function Qi(r){return function(a,c){return typeof a=="string"&&typeof c=="string"||(a=Ge(a),c=Ge(c)),r(a,c)}}function cf(r,a,c,p,m,y,k,_,T,$){var D=a&R,L=D?k:e,B=D?e:k,V=D?y:e,Y=D?e:y;a|=D?P:j,a&=~(D?j:P),a&N||(a&=~(A|z));var rt=[r,a,m,V,L,Y,B,_,T,$],Z=c.apply(e,rt);return Ws(r)&&kf(Z,rt),Z.placeholder=p,xf(Z,r,a)}function js(r){var a=qt[r];return function(c,p){if(c=Ge(c),p=p==null?0:ae(nt(p),292),p&&kl(c)){var m=(yt(c)+"e").split("e"),y=a(m[0]+"e"+(+m[1]+p));return m=(yt(y)+"e").split("e"),+(m[0]+"e"+(+m[1]-p))}return a(c)}}var nv=io&&1/Oi(new io([,-0]))[1]==gt?function(r){return new io(r)}:au;function lf(r){return function(a){var c=se(a);return c==ie?hs(a):c==Pt?bg(a):fg(a,r(a))}}function qn(r,a,c,p,m,y,k,_){var T=a&z;if(!T&&typeof r!="function")throw new Ve(u);var $=p?p.length:0;if($||(a&=~(P|j),p=m=e),k=k===e?k:Vt(nt(k),0),_=_===e?_:nt(_),$-=m?m.length:0,a&j){var D=p,L=m;p=m=e}var B=T?e:Hs(r),V=[r,a,c,p,m,D,L,y,k,_];if(B&&vv(V,B),r=V[0],a=V[1],c=V[2],p=V[3],m=V[4],_=V[9]=V[9]===e?T?0:r.length:Vt(V[9]-$,0),!_&&a&(R|x)&&(a&=~(R|x)),!a||a==A)var Y=Q0(r,a,c);else a==R||a==x?Y=tv(r,a,_):(a==P||a==(A|P))&&!m.length?Y=ev(r,a,c,p):Y=Yi.apply(e,V);var rt=B?ql:kf;return xf(rt(Y,V),r,a)}function ff(r,a,c,p){return r===e||un(r,oo[c])&&!wt.call(p,c)?a:r}function pf(r,a,c,p,m,y){return Et(r)&&Et(a)&&(y.set(a,r),Ki(r,a,e,pf,y),y.delete(a)),r}function rv(r){return Yo(r)?e:r}function df(r,a,c,p,m,y){var k=c&C,_=r.length,T=a.length;if(_!=T&&!(k&&T>_))return!1;var $=y.get(r),D=y.get(a);if($&&D)return $==a&&D==r;var L=-1,B=!0,V=c&S?new Or:e;for(y.set(r,a),y.set(a,r);++L<_;){var Y=r[L],rt=a[L];if(p)var Z=k?p(rt,Y,L,a,r,y):p(Y,rt,L,r,a,y);if(Z!==e){if(Z)continue;B=!1;break}if(V){if(!us(a,function(st,pt){if(!zo(V,pt)&&(Y===st||m(Y,st,c,p,y)))return V.push(pt)})){B=!1;break}}else if(!(Y===rt||m(Y,rt,c,p,y))){B=!1;break}}return y.delete(r),y.delete(a),B}function ov(r,a,c,p,m,y,k){switch(c){case on:if(r.byteLength!=a.byteLength||r.byteOffset!=a.byteOffset)return!1;r=r.buffer,a=a.buffer;case kn:return!(r.byteLength!=a.byteLength||!y(new Di(r),new Di(a)));case xe:case vn:case bn:return un(+r,+a);case nn:return r.name==a.name&&r.message==a.message;case me:case rn:return r==a+"";case ie:var _=hs;case Pt:var T=p&C;if(_||(_=Oi),r.size!=a.size&&!T)return!1;var $=k.get(r);if($)return $==a;p|=S,k.set(r,a);var D=df(_(r),_(a),p,m,y,k);return k.delete(r),D;case He:if(Ho)return Ho.call(r)==Ho.call(a)}return!1}function iv(r,a,c,p,m,y){var k=c&C,_=Bs(r),T=_.length,$=Bs(a),D=$.length;if(T!=D&&!k)return!1;for(var L=T;L--;){var B=_[L];if(!(k?B in a:wt.call(a,B)))return!1}var V=y.get(r),Y=y.get(a);if(V&&Y)return V==a&&Y==r;var rt=!0;y.set(r,a),y.set(a,r);for(var Z=k;++L<T;){B=_[L];var st=r[B],pt=a[B];if(p)var ze=k?p(pt,st,B,a,r,y):p(st,pt,B,r,a,y);if(!(ze===e?st===pt||m(st,pt,c,p,y):ze)){rt=!1;break}Z||(Z=B=="constructor")}if(rt&&!Z){var ye=r.constructor,Re=a.constructor;ye!=Re&&"constructor"in r&&"constructor"in a&&!(typeof ye=="function"&&ye instanceof ye&&typeof Re=="function"&&Re instanceof Re)&&(rt=!1)}return y.delete(r),y.delete(a),rt}function Vn(r){return Us(bf(r,e,Of),r+"")}function Bs(r){return $l(r,Gt,qs)}function Ps(r){return $l(r,Ce,hf)}var Hs=Pi?function(r){return Pi.get(r)}:au;function ta(r){for(var a=r.name+"",c=ao[a],p=wt.call(ao,a)?c.length:0;p--;){var m=c[p],y=m.func;if(y==null||y==r)return m.name}return a}function lo(r){var a=wt.call(v,"placeholder")?v:r;return a.placeholder}function J(){var r=v.iteratee||ou;return r=r===ou?Ll:r,arguments.length?r(arguments[0],arguments[1]):r}function ea(r,a){var c=r.__data__;return dv(a)?c[typeof a=="string"?"string":"hash"]:c.map}function Fs(r){for(var a=Gt(r),c=a.length;c--;){var p=a[c],m=r[p];a[c]=[p,m,vf(m)]}return a}function Ir(r,a){var c=gg(r,a);return Dl(c)?c:e}function av(r){var a=wt.call(r,Cr),c=r[Cr];try{r[Cr]=e;var p=!0}catch{}var m=$i.call(r);return p&&(a?r[Cr]=c:delete r[Cr]),m}var qs=gs?function(r){return r==null?[]:(r=_t(r),nr(gs(r),function(a){return bl.call(r,a)}))}:su,hf=gs?function(r){for(var a=[];r;)rr(a,qs(r)),r=Li(r);return a}:su,se=ge;(vs&&se(new vs(new ArrayBuffer(1)))!=on||jo&&se(new jo)!=ie||ys&&se(ys.resolve())!=xr||io&&se(new io)!=Pt||Bo&&se(new Bo)!=wn)&&(se=function(r){var a=ge(r),c=a==he?r.constructor:e,p=c?$r(c):"";if(p)switch(p){case Fg:return on;case qg:return ie;case Vg:return xr;case Wg:return Pt;case Kg:return wn}return a});function sv(r,a,c){for(var p=-1,m=c.length;++p<m;){var y=c[p],k=y.size;switch(y.type){case"drop":r+=k;break;case"dropRight":a-=k;break;case"take":a=ae(a,r+k);break;case"takeRight":r=Vt(r,a-k);break}}return{start:r,end:a}}function uv(r){var a=r.match(hm);return a?a[1].split(mm):[]}function mf(r,a,c){a=ur(a,r);for(var p=-1,m=a.length,y=!1;++p<m;){var k=Mn(a[p]);if(!(y=r!=null&&c(r,k)))break;r=r[k]}return y||++p!=m?y:(m=r==null?0:r.length,!!m&&ua(m)&&Wn(k,m)&&(et(r)||Nr(r)))}function cv(r){var a=r.length,c=new r.constructor(a);return a&&typeof r[0]=="string"&&wt.call(r,"index")&&(c.index=r.index,c.input=r.input),c}function gf(r){return typeof r.constructor=="function"&&!Jo(r)?so(Li(r)):{}}function lv(r,a,c){var p=r.constructor;switch(a){case kn:return zs(r);case xe:case vn:return new p(+r);case on:return U0(r,c);case Io:case $o:case No:case Do:case Lo:case E:case q:case G:case dt:return Zl(r,c);case ie:return new p;case bn:case rn:return new p(r);case me:return J0(r);case Pt:return new p;case He:return G0(r)}}function fv(r,a){var c=a.length;if(!c)return r;var p=c-1;return a[p]=(c>1?"& ":"")+a[p],a=a.join(c>2?", ":" "),r.replace(dm,`{
/* [wrapped with `+a+`] */
`)}function pv(r){return et(r)||Nr(r)||!!(wl&&r&&r[wl])}function Wn(r,a){var c=typeof r;return a=a??ht,!!a&&(c=="number"||c!="symbol"&&Mm.test(r))&&r>-1&&r%1==0&&r<a}function ve(r,a,c){if(!Et(c))return!1;var p=typeof a;return(p=="number"?Se(c)&&Wn(a,c.length):p=="string"&&a in c)?un(c[a],r):!1}function Vs(r,a){if(et(r))return!1;var c=typeof r;return c=="number"||c=="symbol"||c=="boolean"||r==null||Le(r)?!0:cm.test(r)||!Xr.test(r)||a!=null&&r in _t(a)}function dv(r){var a=typeof r;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?r!=="__proto__":r===null}function Ws(r){var a=ta(r),c=v[a];if(typeof c!="function"||!(a in ut.prototype))return!1;if(r===c)return!0;var p=Hs(c);return!!p&&r===p[0]}function hv(r){return!!gl&&gl in r}var mv=Ei?Kn:uu;function Jo(r){var a=r&&r.constructor,c=typeof a=="function"&&a.prototype||oo;return r===c}function vf(r){return r===r&&!Et(r)}function yf(r,a){return function(c){return c==null?!1:c[r]===a&&(a!==e||r in _t(c))}}function gv(r){var a=aa(r,function(p){return c.size===h&&c.clear(),p}),c=a.cache;return a}function vv(r,a){var c=r[1],p=a[1],m=c|p,y=m<(A|z|U),k=p==U&&c==R||p==U&&c==it&&r[7].length<=a[8]||p==(U|it)&&a[7].length<=a[8]&&c==R;if(!(y||k))return r;p&A&&(r[2]=a[2],m|=c&A?0:N);var _=a[3];if(_){var T=r[3];r[3]=T?Ql(T,_,a[4]):_,r[4]=T?or(r[3],d):a[4]}return _=a[5],_&&(T=r[5],r[5]=T?tf(T,_,a[6]):_,r[6]=T?or(r[5],d):a[6]),_=a[7],_&&(r[7]=_),p&U&&(r[8]=r[8]==null?a[8]:ae(r[8],a[8])),r[9]==null&&(r[9]=a[9]),r[0]=a[0],r[1]=m,r}function yv(r){var a=[];if(r!=null)for(var c in _t(r))a.push(c);return a}function bv(r){return $i.call(r)}function bf(r,a,c){return a=Vt(a===e?r.length-1:a,0),function(){for(var p=arguments,m=-1,y=Vt(p.length-a,0),k=O(y);++m<y;)k[m]=p[a+m];m=-1;for(var _=O(a+1);++m<a;)_[m]=p[m];return _[a]=c(k),$e(r,this,_)}}function wf(r,a){return a.length<2?r:Er(r,Ue(a,0,-1))}function wv(r,a){for(var c=r.length,p=ae(a.length,c),m=Me(r);p--;){var y=a[p];r[p]=Wn(y,c)?m[y]:e}return r}function Ks(r,a){if(!(a==="constructor"&&typeof r[a]=="function")&&a!="__proto__")return r[a]}var kf=_f(ql),Go=Lg||function(r,a){return ne.setTimeout(r,a)},Us=_f(q0);function xf(r,a,c){var p=a+"";return Us(r,fv(p,kv(uv(p),c)))}function _f(r){var a=0,c=0;return function(){var p=Bg(),m=at-(p-c);if(c=p,m>0){if(++a>=bt)return arguments[0]}else a=0;return r.apply(e,arguments)}}function na(r,a){var c=-1,p=r.length,m=p-1;for(a=a===e?p:a;++c<a;){var y=As(c,m),k=r[y];r[y]=r[c],r[c]=k}return r.length=a,r}var Mf=gv(function(r){var a=[];return r.charCodeAt(0)===46&&a.push(""),r.replace(lm,function(c,p,m,y){a.push(m?y.replace(ym,"$1"):p||c)}),a});function Mn(r){if(typeof r=="string"||Le(r))return r;var a=r+"";return a=="0"&&1/r==-gt?"-0":a}function $r(r){if(r!=null){try{return Ii.call(r)}catch{}try{return r+""}catch{}}return""}function kv(r,a){return qe(pe,function(c){var p="_."+c[0];a&c[1]&&!Ci(r,p)&&r.push(p)}),r.sort()}function Sf(r){if(r instanceof ut)return r.clone();var a=new We(r.__wrapped__,r.__chain__);return a.__actions__=Me(r.__actions__),a.__index__=r.__index__,a.__values__=r.__values__,a}function xv(r,a,c){(c?ve(r,a,c):a===e)?a=1:a=Vt(nt(a),0);var p=r==null?0:r.length;if(!p||a<1)return[];for(var m=0,y=0,k=O(ji(p/a));m<p;)k[y++]=Ue(r,m,m+=a);return k}function _v(r){for(var a=-1,c=r==null?0:r.length,p=0,m=[];++a<c;){var y=r[a];y&&(m[p++]=y)}return m}function Mv(){var r=arguments.length;if(!r)return[];for(var a=O(r-1),c=arguments[0],p=r;p--;)a[p-1]=arguments[p];return rr(et(c)?Me(c):[c],re(a,1))}var Sv=ot(function(r,a){return Lt(r)?qo(r,re(a,1,Lt,!0)):[]}),Cv=ot(function(r,a){var c=Je(a);return Lt(c)&&(c=e),Lt(r)?qo(r,re(a,1,Lt,!0),J(c,2)):[]}),Tv=ot(function(r,a){var c=Je(a);return Lt(c)&&(c=e),Lt(r)?qo(r,re(a,1,Lt,!0),e,c):[]});function Ov(r,a,c){var p=r==null?0:r.length;return p?(a=c||a===e?1:nt(a),Ue(r,a<0?0:a,p)):[]}function Av(r,a,c){var p=r==null?0:r.length;return p?(a=c||a===e?1:nt(a),a=p-a,Ue(r,0,a<0?0:a)):[]}function Ev(r,a){return r&&r.length?Ji(r,J(a,3),!0,!0):[]}function Iv(r,a){return r&&r.length?Ji(r,J(a,3),!0):[]}function $v(r,a,c,p){var m=r==null?0:r.length;return m?(c&&typeof c!="number"&&ve(r,a,c)&&(c=0,p=m),M0(r,a,c,p)):[]}function Cf(r,a,c){var p=r==null?0:r.length;if(!p)return-1;var m=c==null?0:nt(c);return m<0&&(m=Vt(p+m,0)),Ti(r,J(a,3),m)}function Tf(r,a,c){var p=r==null?0:r.length;if(!p)return-1;var m=p-1;return c!==e&&(m=nt(c),m=c<0?Vt(p+m,0):ae(m,p-1)),Ti(r,J(a,3),m,!0)}function Of(r){var a=r==null?0:r.length;return a?re(r,1):[]}function Nv(r){var a=r==null?0:r.length;return a?re(r,gt):[]}function Dv(r,a){var c=r==null?0:r.length;return c?(a=a===e?1:nt(a),re(r,a)):[]}function Lv(r){for(var a=-1,c=r==null?0:r.length,p={};++a<c;){var m=r[a];p[m[0]]=m[1]}return p}function Af(r){return r&&r.length?r[0]:e}function zv(r,a,c){var p=r==null?0:r.length;if(!p)return-1;var m=c==null?0:nt(c);return m<0&&(m=Vt(p+m,0)),to(r,a,m)}function Rv(r){var a=r==null?0:r.length;return a?Ue(r,0,-1):[]}var jv=ot(function(r){var a=Ot(r,Ds);return a.length&&a[0]===r[0]?Ms(a):[]}),Bv=ot(function(r){var a=Je(r),c=Ot(r,Ds);return a===Je(c)?a=e:c.pop(),c.length&&c[0]===r[0]?Ms(c,J(a,2)):[]}),Pv=ot(function(r){var a=Je(r),c=Ot(r,Ds);return a=typeof a=="function"?a:e,a&&c.pop(),c.length&&c[0]===r[0]?Ms(c,e,a):[]});function Hv(r,a){return r==null?"":Rg.call(r,a)}function Je(r){var a=r==null?0:r.length;return a?r[a-1]:e}function Fv(r,a,c){var p=r==null?0:r.length;if(!p)return-1;var m=p;return c!==e&&(m=nt(c),m=m<0?Vt(p+m,0):ae(m,p-1)),a===a?kg(r,a,m):Ti(r,ul,m,!0)}function qv(r,a){return r&&r.length?Bl(r,nt(a)):e}var Vv=ot(Ef);function Ef(r,a){return r&&r.length&&a&&a.length?Os(r,a):r}function Wv(r,a,c){return r&&r.length&&a&&a.length?Os(r,a,J(c,2)):r}function Kv(r,a,c){return r&&r.length&&a&&a.length?Os(r,a,e,c):r}var Uv=Vn(function(r,a){var c=r==null?0:r.length,p=ws(r,a);return Fl(r,Ot(a,function(m){return Wn(m,c)?+m:m}).sort(Xl)),p});function Jv(r,a){var c=[];if(!(r&&r.length))return c;var p=-1,m=[],y=r.length;for(a=J(a,3);++p<y;){var k=r[p];a(k,p,r)&&(c.push(k),m.push(p))}return Fl(r,m),c}function Js(r){return r==null?r:Hg.call(r)}function Gv(r,a,c){var p=r==null?0:r.length;return p?(c&&typeof c!="number"&&ve(r,a,c)?(a=0,c=p):(a=a==null?0:nt(a),c=c===e?p:nt(c)),Ue(r,a,c)):[]}function Yv(r,a){return Ui(r,a)}function Zv(r,a,c){return Is(r,a,J(c,2))}function Xv(r,a){var c=r==null?0:r.length;if(c){var p=Ui(r,a);if(p<c&&un(r[p],a))return p}return-1}function Qv(r,a){return Ui(r,a,!0)}function ty(r,a,c){return Is(r,a,J(c,2),!0)}function ey(r,a){var c=r==null?0:r.length;if(c){var p=Ui(r,a,!0)-1;if(un(r[p],a))return p}return-1}function ny(r){return r&&r.length?Vl(r):[]}function ry(r,a){return r&&r.length?Vl(r,J(a,2)):[]}function oy(r){var a=r==null?0:r.length;return a?Ue(r,1,a):[]}function iy(r,a,c){return r&&r.length?(a=c||a===e?1:nt(a),Ue(r,0,a<0?0:a)):[]}function ay(r,a,c){var p=r==null?0:r.length;return p?(a=c||a===e?1:nt(a),a=p-a,Ue(r,a<0?0:a,p)):[]}function sy(r,a){return r&&r.length?Ji(r,J(a,3),!1,!0):[]}function uy(r,a){return r&&r.length?Ji(r,J(a,3)):[]}var cy=ot(function(r){return sr(re(r,1,Lt,!0))}),ly=ot(function(r){var a=Je(r);return Lt(a)&&(a=e),sr(re(r,1,Lt,!0),J(a,2))}),fy=ot(function(r){var a=Je(r);return a=typeof a=="function"?a:e,sr(re(r,1,Lt,!0),e,a)});function py(r){return r&&r.length?sr(r):[]}function dy(r,a){return r&&r.length?sr(r,J(a,2)):[]}function hy(r,a){return a=typeof a=="function"?a:e,r&&r.length?sr(r,e,a):[]}function Gs(r){if(!(r&&r.length))return[];var a=0;return r=nr(r,function(c){if(Lt(c))return a=Vt(c.length,a),!0}),ps(a,function(c){return Ot(r,cs(c))})}function If(r,a){if(!(r&&r.length))return[];var c=Gs(r);return a==null?c:Ot(c,function(p){return $e(a,e,p)})}var my=ot(function(r,a){return Lt(r)?qo(r,a):[]}),gy=ot(function(r){return Ns(nr(r,Lt))}),vy=ot(function(r){var a=Je(r);return Lt(a)&&(a=e),Ns(nr(r,Lt),J(a,2))}),yy=ot(function(r){var a=Je(r);return a=typeof a=="function"?a:e,Ns(nr(r,Lt),e,a)}),by=ot(Gs);function wy(r,a){return Jl(r||[],a||[],Fo)}function ky(r,a){return Jl(r||[],a||[],Ko)}var xy=ot(function(r){var a=r.length,c=a>1?r[a-1]:e;return c=typeof c=="function"?(r.pop(),c):e,If(r,c)});function $f(r){var a=v(r);return a.__chain__=!0,a}function _y(r,a){return a(r),r}function ra(r,a){return a(r)}var My=Vn(function(r){var a=r.length,c=a?r[0]:0,p=this.__wrapped__,m=function(y){return ws(y,r)};return a>1||this.__actions__.length||!(p instanceof ut)||!Wn(c)?this.thru(m):(p=p.slice(c,+c+(a?1:0)),p.__actions__.push({func:ra,args:[m],thisArg:e}),new We(p,this.__chain__).thru(function(y){return a&&!y.length&&y.push(e),y}))});function Sy(){return $f(this)}function Cy(){return new We(this.value(),this.__chain__)}function Ty(){this.__values__===e&&(this.__values__=Kf(this.value()));var r=this.__index__>=this.__values__.length,a=r?e:this.__values__[this.__index__++];return{done:r,value:a}}function Oy(){return this}function Ay(r){for(var a,c=this;c instanceof Fi;){var p=Sf(c);p.__index__=0,p.__values__=e,a?m.__wrapped__=p:a=p;var m=p;c=c.__wrapped__}return m.__wrapped__=r,a}function Ey(){var r=this.__wrapped__;if(r instanceof ut){var a=r;return this.__actions__.length&&(a=new ut(this)),a=a.reverse(),a.__actions__.push({func:ra,args:[Js],thisArg:e}),new We(a,this.__chain__)}return this.thru(Js)}function Iy(){return Ul(this.__wrapped__,this.__actions__)}var $y=Gi(function(r,a,c){wt.call(r,c)?++r[c]:Fn(r,c,1)});function Ny(r,a,c){var p=et(r)?al:_0;return c&&ve(r,a,c)&&(a=e),p(r,J(a,3))}function Dy(r,a){var c=et(r)?nr:El;return c(r,J(a,3))}var Ly=of(Cf),zy=of(Tf);function Ry(r,a){return re(oa(r,a),1)}function jy(r,a){return re(oa(r,a),gt)}function By(r,a,c){return c=c===e?1:nt(c),re(oa(r,a),c)}function Nf(r,a){var c=et(r)?qe:ar;return c(r,J(a,3))}function Df(r,a){var c=et(r)?og:Al;return c(r,J(a,3))}var Py=Gi(function(r,a,c){wt.call(r,c)?r[c].push(a):Fn(r,c,[a])});function Hy(r,a,c,p){r=Se(r)?r:po(r),c=c&&!p?nt(c):0;var m=r.length;return c<0&&(c=Vt(m+c,0)),ca(r)?c<=m&&r.indexOf(a,c)>-1:!!m&&to(r,a,c)>-1}var Fy=ot(function(r,a,c){var p=-1,m=typeof a=="function",y=Se(r)?O(r.length):[];return ar(r,function(k){y[++p]=m?$e(a,k,c):Vo(k,a,c)}),y}),qy=Gi(function(r,a,c){Fn(r,c,a)});function oa(r,a){var c=et(r)?Ot:zl;return c(r,J(a,3))}function Vy(r,a,c,p){return r==null?[]:(et(a)||(a=a==null?[]:[a]),c=p?e:c,et(c)||(c=c==null?[]:[c]),Pl(r,a,c))}var Wy=Gi(function(r,a,c){r[c?0:1].push(a)},function(){return[[],[]]});function Ky(r,a,c){var p=et(r)?ss:ll,m=arguments.length<3;return p(r,J(a,4),c,m,ar)}function Uy(r,a,c){var p=et(r)?ig:ll,m=arguments.length<3;return p(r,J(a,4),c,m,Al)}function Jy(r,a){var c=et(r)?nr:El;return c(r,sa(J(a,3)))}function Gy(r){var a=et(r)?Sl:H0;return a(r)}function Yy(r,a,c){(c?ve(r,a,c):a===e)?a=1:a=nt(a);var p=et(r)?y0:F0;return p(r,a)}function Zy(r){var a=et(r)?b0:V0;return a(r)}function Xy(r){if(r==null)return 0;if(Se(r))return ca(r)?no(r):r.length;var a=se(r);return a==ie||a==Pt?r.size:Cs(r).length}function Qy(r,a,c){var p=et(r)?us:W0;return c&&ve(r,a,c)&&(a=e),p(r,J(a,3))}var t1=ot(function(r,a){if(r==null)return[];var c=a.length;return c>1&&ve(r,a[0],a[1])?a=[]:c>2&&ve(a[0],a[1],a[2])&&(a=[a[0]]),Pl(r,re(a,1),[])}),ia=Dg||function(){return ne.Date.now()};function e1(r,a){if(typeof a!="function")throw new Ve(u);return r=nt(r),function(){if(--r<1)return a.apply(this,arguments)}}function Lf(r,a,c){return a=c?e:a,a=r&&a==null?r.length:a,qn(r,U,e,e,e,e,a)}function zf(r,a){var c;if(typeof a!="function")throw new Ve(u);return r=nt(r),function(){return--r>0&&(c=a.apply(this,arguments)),r<=1&&(a=e),c}}var Ys=ot(function(r,a,c){var p=A;if(c.length){var m=or(c,lo(Ys));p|=P}return qn(r,p,a,c,m)}),Rf=ot(function(r,a,c){var p=A|z;if(c.length){var m=or(c,lo(Rf));p|=P}return qn(a,p,r,c,m)});function jf(r,a,c){a=c?e:a;var p=qn(r,R,e,e,e,e,e,a);return p.placeholder=jf.placeholder,p}function Bf(r,a,c){a=c?e:a;var p=qn(r,x,e,e,e,e,e,a);return p.placeholder=Bf.placeholder,p}function Pf(r,a,c){var p,m,y,k,_,T,$=0,D=!1,L=!1,B=!0;if(typeof r!="function")throw new Ve(u);a=Ge(a)||0,Et(c)&&(D=!!c.leading,L="maxWait"in c,y=L?Vt(Ge(c.maxWait)||0,a):y,B="trailing"in c?!!c.trailing:B);function V(zt){var cn=p,Jn=m;return p=m=e,$=zt,k=r.apply(Jn,cn),k}function Y(zt){return $=zt,_=Go(st,a),D?V(zt):k}function rt(zt){var cn=zt-T,Jn=zt-$,ip=a-cn;return L?ae(ip,y-Jn):ip}function Z(zt){var cn=zt-T,Jn=zt-$;return T===e||cn>=a||cn<0||L&&Jn>=y}function st(){var zt=ia();if(Z(zt))return pt(zt);_=Go(st,rt(zt))}function pt(zt){return _=e,B&&p?V(zt):(p=m=e,k)}function ze(){_!==e&&Gl(_),$=0,p=T=m=_=e}function ye(){return _===e?k:pt(ia())}function Re(){var zt=ia(),cn=Z(zt);if(p=arguments,m=this,T=zt,cn){if(_===e)return Y(T);if(L)return Gl(_),_=Go(st,a),V(T)}return _===e&&(_=Go(st,a)),k}return Re.cancel=ze,Re.flush=ye,Re}var n1=ot(function(r,a){return Ol(r,1,a)}),r1=ot(function(r,a,c){return Ol(r,Ge(a)||0,c)});function o1(r){return qn(r,mt)}function aa(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new Ve(u);var c=function(){var p=arguments,m=a?a.apply(this,p):p[0],y=c.cache;if(y.has(m))return y.get(m);var k=r.apply(this,p);return c.cache=y.set(m,k)||y,k};return c.cache=new(aa.Cache||Hn),c}aa.Cache=Hn;function sa(r){if(typeof r!="function")throw new Ve(u);return function(){var a=arguments;switch(a.length){case 0:return!r.call(this);case 1:return!r.call(this,a[0]);case 2:return!r.call(this,a[0],a[1]);case 3:return!r.call(this,a[0],a[1],a[2])}return!r.apply(this,a)}}function i1(r){return zf(2,r)}var a1=K0(function(r,a){a=a.length==1&&et(a[0])?Ot(a[0],Ne(J())):Ot(re(a,1),Ne(J()));var c=a.length;return ot(function(p){for(var m=-1,y=ae(p.length,c);++m<y;)p[m]=a[m].call(this,p[m]);return $e(r,this,p)})}),Zs=ot(function(r,a){var c=or(a,lo(Zs));return qn(r,P,e,a,c)}),Hf=ot(function(r,a){var c=or(a,lo(Hf));return qn(r,j,e,a,c)}),s1=Vn(function(r,a){return qn(r,it,e,e,e,a)});function u1(r,a){if(typeof r!="function")throw new Ve(u);return a=a===e?a:nt(a),ot(r,a)}function c1(r,a){if(typeof r!="function")throw new Ve(u);return a=a==null?0:Vt(nt(a),0),ot(function(c){var p=c[a],m=cr(c,0,a);return p&&rr(m,p),$e(r,this,m)})}function l1(r,a,c){var p=!0,m=!0;if(typeof r!="function")throw new Ve(u);return Et(c)&&(p="leading"in c?!!c.leading:p,m="trailing"in c?!!c.trailing:m),Pf(r,a,{leading:p,maxWait:a,trailing:m})}function f1(r){return Lf(r,1)}function p1(r,a){return Zs(Ls(a),r)}function d1(){if(!arguments.length)return[];var r=arguments[0];return et(r)?r:[r]}function h1(r){return Ke(r,w)}function m1(r,a){return a=typeof a=="function"?a:e,Ke(r,w,a)}function g1(r){return Ke(r,g|w)}function v1(r,a){return a=typeof a=="function"?a:e,Ke(r,g|w,a)}function y1(r,a){return a==null||Tl(r,a,Gt(a))}function un(r,a){return r===a||r!==r&&a!==a}var b1=Qi(_s),w1=Qi(function(r,a){return r>=a}),Nr=Nl(function(){return arguments}())?Nl:function(r){return It(r)&&wt.call(r,"callee")&&!bl.call(r,"callee")},et=O.isArray,k1=tl?Ne(tl):A0;function Se(r){return r!=null&&ua(r.length)&&!Kn(r)}function Lt(r){return It(r)&&Se(r)}function x1(r){return r===!0||r===!1||It(r)&&ge(r)==xe}var lr=zg||uu,_1=el?Ne(el):E0;function M1(r){return It(r)&&r.nodeType===1&&!Yo(r)}function S1(r){if(r==null)return!0;if(Se(r)&&(et(r)||typeof r=="string"||typeof r.splice=="function"||lr(r)||fo(r)||Nr(r)))return!r.length;var a=se(r);if(a==ie||a==Pt)return!r.size;if(Jo(r))return!Cs(r).length;for(var c in r)if(wt.call(r,c))return!1;return!0}function C1(r,a){return Wo(r,a)}function T1(r,a,c){c=typeof c=="function"?c:e;var p=c?c(r,a):e;return p===e?Wo(r,a,e,c):!!p}function Xs(r){if(!It(r))return!1;var a=ge(r);return a==nn||a==yn||typeof r.message=="string"&&typeof r.name=="string"&&!Yo(r)}function O1(r){return typeof r=="number"&&kl(r)}function Kn(r){if(!Et(r))return!1;var a=ge(r);return a==Rn||a==tr||a==zn||a==Jr}function Ff(r){return typeof r=="number"&&r==nt(r)}function ua(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=ht}function Et(r){var a=typeof r;return r!=null&&(a=="object"||a=="function")}function It(r){return r!=null&&typeof r=="object"}var qf=nl?Ne(nl):$0;function A1(r,a){return r===a||Ss(r,a,Fs(a))}function E1(r,a,c){return c=typeof c=="function"?c:e,Ss(r,a,Fs(a),c)}function I1(r){return Vf(r)&&r!=+r}function $1(r){if(mv(r))throw new tt(s);return Dl(r)}function N1(r){return r===null}function D1(r){return r==null}function Vf(r){return typeof r=="number"||It(r)&&ge(r)==bn}function Yo(r){if(!It(r)||ge(r)!=he)return!1;var a=Li(r);if(a===null)return!0;var c=wt.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&Ii.call(c)==Eg}var Qs=rl?Ne(rl):N0;function L1(r){return Ff(r)&&r>=-ht&&r<=ht}var Wf=ol?Ne(ol):D0;function ca(r){return typeof r=="string"||!et(r)&&It(r)&&ge(r)==rn}function Le(r){return typeof r=="symbol"||It(r)&&ge(r)==He}var fo=il?Ne(il):L0;function z1(r){return r===e}function R1(r){return It(r)&&se(r)==wn}function j1(r){return It(r)&&ge(r)==Gr}var B1=Qi(Ts),P1=Qi(function(r,a){return r<=a});function Kf(r){if(!r)return[];if(Se(r))return ca(r)?an(r):Me(r);if(Ro&&r[Ro])return yg(r[Ro]());var a=se(r),c=a==ie?hs:a==Pt?Oi:po;return c(r)}function Un(r){if(!r)return r===0?r:0;if(r=Ge(r),r===gt||r===-gt){var a=r<0?-1:1;return a*Ut}return r===r?r:0}function nt(r){var a=Un(r),c=a%1;return a===a?c?a-c:a:0}function Uf(r){return r?Ar(nt(r),0,Dt):0}function Ge(r){if(typeof r=="number")return r;if(Le(r))return Jt;if(Et(r)){var a=typeof r.valueOf=="function"?r.valueOf():r;r=Et(a)?a+"":a}if(typeof r!="string")return r===0?r:+r;r=fl(r);var c=km.test(r);return c||_m.test(r)?eg(r.slice(2),c?2:8):wm.test(r)?Jt:+r}function Jf(r){return _n(r,Ce(r))}function H1(r){return r?Ar(nt(r),-ht,ht):r===0?r:0}function yt(r){return r==null?"":De(r)}var F1=uo(function(r,a){if(Jo(a)||Se(a)){_n(a,Gt(a),r);return}for(var c in a)wt.call(a,c)&&Fo(r,c,a[c])}),Gf=uo(function(r,a){_n(a,Ce(a),r)}),la=uo(function(r,a,c,p){_n(a,Ce(a),r,p)}),q1=uo(function(r,a,c,p){_n(a,Gt(a),r,p)}),V1=Vn(ws);function W1(r,a){var c=so(r);return a==null?c:Cl(c,a)}var K1=ot(function(r,a){r=_t(r);var c=-1,p=a.length,m=p>2?a[2]:e;for(m&&ve(a[0],a[1],m)&&(p=1);++c<p;)for(var y=a[c],k=Ce(y),_=-1,T=k.length;++_<T;){var $=k[_],D=r[$];(D===e||un(D,oo[$])&&!wt.call(r,$))&&(r[$]=y[$])}return r}),U1=ot(function(r){return r.push(e,pf),$e(Yf,e,r)});function J1(r,a){return sl(r,J(a,3),xn)}function G1(r,a){return sl(r,J(a,3),xs)}function Y1(r,a){return r==null?r:ks(r,J(a,3),Ce)}function Z1(r,a){return r==null?r:Il(r,J(a,3),Ce)}function X1(r,a){return r&&xn(r,J(a,3))}function Q1(r,a){return r&&xs(r,J(a,3))}function tb(r){return r==null?[]:Wi(r,Gt(r))}function eb(r){return r==null?[]:Wi(r,Ce(r))}function tu(r,a,c){var p=r==null?e:Er(r,a);return p===e?c:p}function nb(r,a){return r!=null&&mf(r,a,S0)}function eu(r,a){return r!=null&&mf(r,a,C0)}var rb=sf(function(r,a,c){a!=null&&typeof a.toString!="function"&&(a=$i.call(a)),r[a]=c},ru(Te)),ob=sf(function(r,a,c){a!=null&&typeof a.toString!="function"&&(a=$i.call(a)),wt.call(r,a)?r[a].push(c):r[a]=[c]},J),ib=ot(Vo);function Gt(r){return Se(r)?Ml(r):Cs(r)}function Ce(r){return Se(r)?Ml(r,!0):z0(r)}function ab(r,a){var c={};return a=J(a,3),xn(r,function(p,m,y){Fn(c,a(p,m,y),p)}),c}function sb(r,a){var c={};return a=J(a,3),xn(r,function(p,m,y){Fn(c,m,a(p,m,y))}),c}var ub=uo(function(r,a,c){Ki(r,a,c)}),Yf=uo(function(r,a,c,p){Ki(r,a,c,p)}),cb=Vn(function(r,a){var c={};if(r==null)return c;var p=!1;a=Ot(a,function(y){return y=ur(y,r),p||(p=y.length>1),y}),_n(r,Ps(r),c),p&&(c=Ke(c,g|b|w,rv));for(var m=a.length;m--;)$s(c,a[m]);return c});function lb(r,a){return Zf(r,sa(J(a)))}var fb=Vn(function(r,a){return r==null?{}:j0(r,a)});function Zf(r,a){if(r==null)return{};var c=Ot(Ps(r),function(p){return[p]});return a=J(a),Hl(r,c,function(p,m){return a(p,m[0])})}function pb(r,a,c){a=ur(a,r);var p=-1,m=a.length;for(m||(m=1,r=e);++p<m;){var y=r==null?e:r[Mn(a[p])];y===e&&(p=m,y=c),r=Kn(y)?y.call(r):y}return r}function db(r,a,c){return r==null?r:Ko(r,a,c)}function hb(r,a,c,p){return p=typeof p=="function"?p:e,r==null?r:Ko(r,a,c,p)}var Xf=lf(Gt),Qf=lf(Ce);function mb(r,a,c){var p=et(r),m=p||lr(r)||fo(r);if(a=J(a,4),c==null){var y=r&&r.constructor;m?c=p?new y:[]:Et(r)?c=Kn(y)?so(Li(r)):{}:c={}}return(m?qe:xn)(r,function(k,_,T){return a(c,k,_,T)}),c}function gb(r,a){return r==null?!0:$s(r,a)}function vb(r,a,c){return r==null?r:Kl(r,a,Ls(c))}function yb(r,a,c,p){return p=typeof p=="function"?p:e,r==null?r:Kl(r,a,Ls(c),p)}function po(r){return r==null?[]:ds(r,Gt(r))}function bb(r){return r==null?[]:ds(r,Ce(r))}function wb(r,a,c){return c===e&&(c=a,a=e),c!==e&&(c=Ge(c),c=c===c?c:0),a!==e&&(a=Ge(a),a=a===a?a:0),Ar(Ge(r),a,c)}function kb(r,a,c){return a=Un(a),c===e?(c=a,a=0):c=Un(c),r=Ge(r),T0(r,a,c)}function xb(r,a,c){if(c&&typeof c!="boolean"&&ve(r,a,c)&&(a=c=e),c===e&&(typeof a=="boolean"?(c=a,a=e):typeof r=="boolean"&&(c=r,r=e)),r===e&&a===e?(r=0,a=1):(r=Un(r),a===e?(a=r,r=0):a=Un(a)),r>a){var p=r;r=a,a=p}if(c||r%1||a%1){var m=xl();return ae(r+m*(a-r+tg("1e-"+((m+"").length-1))),a)}return As(r,a)}var _b=co(function(r,a,c){return a=a.toLowerCase(),r+(c?tp(a):a)});function tp(r){return nu(yt(r).toLowerCase())}function ep(r){return r=yt(r),r&&r.replace(Sm,dg).replace(Vm,"")}function Mb(r,a,c){r=yt(r),a=De(a);var p=r.length;c=c===e?p:Ar(nt(c),0,p);var m=c;return c-=a.length,c>=0&&r.slice(c,m)==a}function Sb(r){return r=yt(r),r&&Yr.test(r)?r.replace(Mr,hg):r}function Cb(r){return r=yt(r),r&&fm.test(r)?r.replace(Ya,"\\$&"):r}var Tb=co(function(r,a,c){return r+(c?"-":"")+a.toLowerCase()}),Ob=co(function(r,a,c){return r+(c?" ":"")+a.toLowerCase()}),Ab=rf("toLowerCase");function Eb(r,a,c){r=yt(r),a=nt(a);var p=a?no(r):0;if(!a||p>=a)return r;var m=(a-p)/2;return Xi(Bi(m),c)+r+Xi(ji(m),c)}function Ib(r,a,c){r=yt(r),a=nt(a);var p=a?no(r):0;return a&&p<a?r+Xi(a-p,c):r}function $b(r,a,c){r=yt(r),a=nt(a);var p=a?no(r):0;return a&&p<a?Xi(a-p,c)+r:r}function Nb(r,a,c){return c||a==null?a=0:a&&(a=+a),Pg(yt(r).replace(Za,""),a||0)}function Db(r,a,c){return(c?ve(r,a,c):a===e)?a=1:a=nt(a),Es(yt(r),a)}function Lb(){var r=arguments,a=yt(r[0]);return r.length<3?a:a.replace(r[1],r[2])}var zb=co(function(r,a,c){return r+(c?"_":"")+a.toLowerCase()});function Rb(r,a,c){return c&&typeof c!="number"&&ve(r,a,c)&&(a=c=e),c=c===e?Dt:c>>>0,c?(r=yt(r),r&&(typeof a=="string"||a!=null&&!Qs(a))&&(a=De(a),!a&&eo(r))?cr(an(r),0,c):r.split(a,c)):[]}var jb=co(function(r,a,c){return r+(c?" ":"")+nu(a)});function Bb(r,a,c){return r=yt(r),c=c==null?0:Ar(nt(c),0,r.length),a=De(a),r.slice(c,c+a.length)==a}function Pb(r,a,c){var p=v.templateSettings;c&&ve(r,a,c)&&(a=e),r=yt(r),a=la({},a,p,ff);var m=la({},a.imports,p.imports,ff),y=Gt(m),k=ds(m,y),_,T,$=0,D=a.interpolate||_i,L="__p += '",B=ms((a.escape||_i).source+"|"+D.source+"|"+(D===Zr?bm:_i).source+"|"+(a.evaluate||_i).source+"|$","g"),V="//# sourceURL="+(wt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gm+"]")+`
`;r.replace(B,function(Z,st,pt,ze,ye,Re){return pt||(pt=ze),L+=r.slice($,Re).replace(Cm,mg),st&&(_=!0,L+=`' +
__e(`+st+`) +
'`),ye&&(T=!0,L+=`';
`+ye+`;
__p += '`),pt&&(L+=`' +
((__t = (`+pt+`)) == null ? '' : __t) +
'`),$=Re+Z.length,Z}),L+=`';
`;var Y=wt.call(a,"variable")&&a.variable;if(!Y)L=`with (obj) {
`+L+`
}
`;else if(vm.test(Y))throw new tt(l);L=(T?L.replace(ft,""):L).replace(ee,"$1").replace(_e,"$1;"),L="function("+(Y||"obj")+`) {
`+(Y?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(T?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var rt=rp(function(){return vt(y,V+"return "+L).apply(e,k)});if(rt.source=L,Xs(rt))throw rt;return rt}function Hb(r){return yt(r).toLowerCase()}function Fb(r){return yt(r).toUpperCase()}function qb(r,a,c){if(r=yt(r),r&&(c||a===e))return fl(r);if(!r||!(a=De(a)))return r;var p=an(r),m=an(a),y=pl(p,m),k=dl(p,m)+1;return cr(p,y,k).join("")}function Vb(r,a,c){if(r=yt(r),r&&(c||a===e))return r.slice(0,ml(r)+1);if(!r||!(a=De(a)))return r;var p=an(r),m=dl(p,an(a))+1;return cr(p,0,m).join("")}function Wb(r,a,c){if(r=yt(r),r&&(c||a===e))return r.replace(Za,"");if(!r||!(a=De(a)))return r;var p=an(r),m=pl(p,an(a));return cr(p,m).join("")}function Kb(r,a){var c=Q,p=xt;if(Et(a)){var m="separator"in a?a.separator:m;c="length"in a?nt(a.length):c,p="omission"in a?De(a.omission):p}r=yt(r);var y=r.length;if(eo(r)){var k=an(r);y=k.length}if(c>=y)return r;var _=c-no(p);if(_<1)return p;var T=k?cr(k,0,_).join(""):r.slice(0,_);if(m===e)return T+p;if(k&&(_+=T.length-_),Qs(m)){if(r.slice(_).search(m)){var $,D=T;for(m.global||(m=ms(m.source,yt(Nc.exec(m))+"g")),m.lastIndex=0;$=m.exec(D);)var L=$.index;T=T.slice(0,L===e?_:L)}}else if(r.indexOf(De(m),_)!=_){var B=T.lastIndexOf(m);B>-1&&(T=T.slice(0,B))}return T+p}function Ub(r){return r=yt(r),r&&Bn.test(r)?r.replace(jn,xg):r}var Jb=co(function(r,a,c){return r+(c?" ":"")+a.toUpperCase()}),nu=rf("toUpperCase");function np(r,a,c){return r=yt(r),a=c?e:a,a===e?vg(r)?Sg(r):ug(r):r.match(a)||[]}var rp=ot(function(r,a){try{return $e(r,e,a)}catch(c){return Xs(c)?c:new tt(c)}}),Gb=Vn(function(r,a){return qe(a,function(c){c=Mn(c),Fn(r,c,Ys(r[c],r))}),r});function Yb(r){var a=r==null?0:r.length,c=J();return r=a?Ot(r,function(p){if(typeof p[1]!="function")throw new Ve(u);return[c(p[0]),p[1]]}):[],ot(function(p){for(var m=-1;++m<a;){var y=r[m];if($e(y[0],this,p))return $e(y[1],this,p)}})}function Zb(r){return x0(Ke(r,g))}function ru(r){return function(){return r}}function Xb(r,a){return r==null||r!==r?a:r}var Qb=af(),tw=af(!0);function Te(r){return r}function ou(r){return Ll(typeof r=="function"?r:Ke(r,g))}function ew(r){return Rl(Ke(r,g))}function nw(r,a){return jl(r,Ke(a,g))}var rw=ot(function(r,a){return function(c){return Vo(c,r,a)}}),ow=ot(function(r,a){return function(c){return Vo(r,c,a)}});function iu(r,a,c){var p=Gt(a),m=Wi(a,p);c==null&&!(Et(a)&&(m.length||!p.length))&&(c=a,a=r,r=this,m=Wi(a,Gt(a)));var y=!(Et(c)&&"chain"in c)||!!c.chain,k=Kn(r);return qe(m,function(_){var T=a[_];r[_]=T,k&&(r.prototype[_]=function(){var $=this.__chain__;if(y||$){var D=r(this.__wrapped__),L=D.__actions__=Me(this.__actions__);return L.push({func:T,args:arguments,thisArg:r}),D.__chain__=$,D}return T.apply(r,rr([this.value()],arguments))})}),r}function iw(){return ne._===this&&(ne._=Ig),this}function au(){}function aw(r){return r=nt(r),ot(function(a){return Bl(a,r)})}var sw=Rs(Ot),uw=Rs(al),cw=Rs(us);function op(r){return Vs(r)?cs(Mn(r)):B0(r)}function lw(r){return function(a){return r==null?e:Er(r,a)}}var fw=uf(),pw=uf(!0);function su(){return[]}function uu(){return!1}function dw(){return{}}function hw(){return""}function mw(){return!0}function gw(r,a){if(r=nt(r),r<1||r>ht)return[];var c=Dt,p=ae(r,Dt);a=J(a),r-=Dt;for(var m=ps(p,a);++c<r;)a(c);return m}function vw(r){return et(r)?Ot(r,Mn):Le(r)?[r]:Me(Mf(yt(r)))}function yw(r){var a=++Ag;return yt(r)+a}var bw=Zi(function(r,a){return r+a},0),ww=js("ceil"),kw=Zi(function(r,a){return r/a},1),xw=js("floor");function _w(r){return r&&r.length?Vi(r,Te,_s):e}function Mw(r,a){return r&&r.length?Vi(r,J(a,2),_s):e}function Sw(r){return cl(r,Te)}function Cw(r,a){return cl(r,J(a,2))}function Tw(r){return r&&r.length?Vi(r,Te,Ts):e}function Ow(r,a){return r&&r.length?Vi(r,J(a,2),Ts):e}var Aw=Zi(function(r,a){return r*a},1),Ew=js("round"),Iw=Zi(function(r,a){return r-a},0);function $w(r){return r&&r.length?fs(r,Te):0}function Nw(r,a){return r&&r.length?fs(r,J(a,2)):0}return v.after=e1,v.ary=Lf,v.assign=F1,v.assignIn=Gf,v.assignInWith=la,v.assignWith=q1,v.at=V1,v.before=zf,v.bind=Ys,v.bindAll=Gb,v.bindKey=Rf,v.castArray=d1,v.chain=$f,v.chunk=xv,v.compact=_v,v.concat=Mv,v.cond=Yb,v.conforms=Zb,v.constant=ru,v.countBy=$y,v.create=W1,v.curry=jf,v.curryRight=Bf,v.debounce=Pf,v.defaults=K1,v.defaultsDeep=U1,v.defer=n1,v.delay=r1,v.difference=Sv,v.differenceBy=Cv,v.differenceWith=Tv,v.drop=Ov,v.dropRight=Av,v.dropRightWhile=Ev,v.dropWhile=Iv,v.fill=$v,v.filter=Dy,v.flatMap=Ry,v.flatMapDeep=jy,v.flatMapDepth=By,v.flatten=Of,v.flattenDeep=Nv,v.flattenDepth=Dv,v.flip=o1,v.flow=Qb,v.flowRight=tw,v.fromPairs=Lv,v.functions=tb,v.functionsIn=eb,v.groupBy=Py,v.initial=Rv,v.intersection=jv,v.intersectionBy=Bv,v.intersectionWith=Pv,v.invert=rb,v.invertBy=ob,v.invokeMap=Fy,v.iteratee=ou,v.keyBy=qy,v.keys=Gt,v.keysIn=Ce,v.map=oa,v.mapKeys=ab,v.mapValues=sb,v.matches=ew,v.matchesProperty=nw,v.memoize=aa,v.merge=ub,v.mergeWith=Yf,v.method=rw,v.methodOf=ow,v.mixin=iu,v.negate=sa,v.nthArg=aw,v.omit=cb,v.omitBy=lb,v.once=i1,v.orderBy=Vy,v.over=sw,v.overArgs=a1,v.overEvery=uw,v.overSome=cw,v.partial=Zs,v.partialRight=Hf,v.partition=Wy,v.pick=fb,v.pickBy=Zf,v.property=op,v.propertyOf=lw,v.pull=Vv,v.pullAll=Ef,v.pullAllBy=Wv,v.pullAllWith=Kv,v.pullAt=Uv,v.range=fw,v.rangeRight=pw,v.rearg=s1,v.reject=Jy,v.remove=Jv,v.rest=u1,v.reverse=Js,v.sampleSize=Yy,v.set=db,v.setWith=hb,v.shuffle=Zy,v.slice=Gv,v.sortBy=t1,v.sortedUniq=ny,v.sortedUniqBy=ry,v.split=Rb,v.spread=c1,v.tail=oy,v.take=iy,v.takeRight=ay,v.takeRightWhile=sy,v.takeWhile=uy,v.tap=_y,v.throttle=l1,v.thru=ra,v.toArray=Kf,v.toPairs=Xf,v.toPairsIn=Qf,v.toPath=vw,v.toPlainObject=Jf,v.transform=mb,v.unary=f1,v.union=cy,v.unionBy=ly,v.unionWith=fy,v.uniq=py,v.uniqBy=dy,v.uniqWith=hy,v.unset=gb,v.unzip=Gs,v.unzipWith=If,v.update=vb,v.updateWith=yb,v.values=po,v.valuesIn=bb,v.without=my,v.words=np,v.wrap=p1,v.xor=gy,v.xorBy=vy,v.xorWith=yy,v.zip=by,v.zipObject=wy,v.zipObjectDeep=ky,v.zipWith=xy,v.entries=Xf,v.entriesIn=Qf,v.extend=Gf,v.extendWith=la,iu(v,v),v.add=bw,v.attempt=rp,v.camelCase=_b,v.capitalize=tp,v.ceil=ww,v.clamp=wb,v.clone=h1,v.cloneDeep=g1,v.cloneDeepWith=v1,v.cloneWith=m1,v.conformsTo=y1,v.deburr=ep,v.defaultTo=Xb,v.divide=kw,v.endsWith=Mb,v.eq=un,v.escape=Sb,v.escapeRegExp=Cb,v.every=Ny,v.find=Ly,v.findIndex=Cf,v.findKey=J1,v.findLast=zy,v.findLastIndex=Tf,v.findLastKey=G1,v.floor=xw,v.forEach=Nf,v.forEachRight=Df,v.forIn=Y1,v.forInRight=Z1,v.forOwn=X1,v.forOwnRight=Q1,v.get=tu,v.gt=b1,v.gte=w1,v.has=nb,v.hasIn=eu,v.head=Af,v.identity=Te,v.includes=Hy,v.indexOf=zv,v.inRange=kb,v.invoke=ib,v.isArguments=Nr,v.isArray=et,v.isArrayBuffer=k1,v.isArrayLike=Se,v.isArrayLikeObject=Lt,v.isBoolean=x1,v.isBuffer=lr,v.isDate=_1,v.isElement=M1,v.isEmpty=S1,v.isEqual=C1,v.isEqualWith=T1,v.isError=Xs,v.isFinite=O1,v.isFunction=Kn,v.isInteger=Ff,v.isLength=ua,v.isMap=qf,v.isMatch=A1,v.isMatchWith=E1,v.isNaN=I1,v.isNative=$1,v.isNil=D1,v.isNull=N1,v.isNumber=Vf,v.isObject=Et,v.isObjectLike=It,v.isPlainObject=Yo,v.isRegExp=Qs,v.isSafeInteger=L1,v.isSet=Wf,v.isString=ca,v.isSymbol=Le,v.isTypedArray=fo,v.isUndefined=z1,v.isWeakMap=R1,v.isWeakSet=j1,v.join=Hv,v.kebabCase=Tb,v.last=Je,v.lastIndexOf=Fv,v.lowerCase=Ob,v.lowerFirst=Ab,v.lt=B1,v.lte=P1,v.max=_w,v.maxBy=Mw,v.mean=Sw,v.meanBy=Cw,v.min=Tw,v.minBy=Ow,v.stubArray=su,v.stubFalse=uu,v.stubObject=dw,v.stubString=hw,v.stubTrue=mw,v.multiply=Aw,v.nth=qv,v.noConflict=iw,v.noop=au,v.now=ia,v.pad=Eb,v.padEnd=Ib,v.padStart=$b,v.parseInt=Nb,v.random=xb,v.reduce=Ky,v.reduceRight=Uy,v.repeat=Db,v.replace=Lb,v.result=pb,v.round=Ew,v.runInContext=M,v.sample=Gy,v.size=Xy,v.snakeCase=zb,v.some=Qy,v.sortedIndex=Yv,v.sortedIndexBy=Zv,v.sortedIndexOf=Xv,v.sortedLastIndex=Qv,v.sortedLastIndexBy=ty,v.sortedLastIndexOf=ey,v.startCase=jb,v.startsWith=Bb,v.subtract=Iw,v.sum=$w,v.sumBy=Nw,v.template=Pb,v.times=gw,v.toFinite=Un,v.toInteger=nt,v.toLength=Uf,v.toLower=Hb,v.toNumber=Ge,v.toSafeInteger=H1,v.toString=yt,v.toUpper=Fb,v.trim=qb,v.trimEnd=Vb,v.trimStart=Wb,v.truncate=Kb,v.unescape=Ub,v.uniqueId=yw,v.upperCase=Jb,v.upperFirst=nu,v.each=Nf,v.eachRight=Df,v.first=Af,iu(v,function(){var r={};return xn(v,function(a,c){wt.call(v.prototype,c)||(r[c]=a)}),r}(),{chain:!1}),v.VERSION=o,qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){v[r].placeholder=v}),qe(["drop","take"],function(r,a){ut.prototype[r]=function(c){c=c===e?1:Vt(nt(c),0);var p=this.__filtered__&&!a?new ut(this):this.clone();return p.__filtered__?p.__takeCount__=ae(c,p.__takeCount__):p.__views__.push({size:ae(c,Dt),type:r+(p.__dir__<0?"Right":"")}),p},ut.prototype[r+"Right"]=function(c){return this.reverse()[r](c).reverse()}}),qe(["filter","map","takeWhile"],function(r,a){var c=a+1,p=c==jt||c==Bt;ut.prototype[r]=function(m){var y=this.clone();return y.__iteratees__.push({iteratee:J(m,3),type:c}),y.__filtered__=y.__filtered__||p,y}}),qe(["head","last"],function(r,a){var c="take"+(a?"Right":"");ut.prototype[r]=function(){return this[c](1).value()[0]}}),qe(["initial","tail"],function(r,a){var c="drop"+(a?"":"Right");ut.prototype[r]=function(){return this.__filtered__?new ut(this):this[c](1)}}),ut.prototype.compact=function(){return this.filter(Te)},ut.prototype.find=function(r){return this.filter(r).head()},ut.prototype.findLast=function(r){return this.reverse().find(r)},ut.prototype.invokeMap=ot(function(r,a){return typeof r=="function"?new ut(this):this.map(function(c){return Vo(c,r,a)})}),ut.prototype.reject=function(r){return this.filter(sa(J(r)))},ut.prototype.slice=function(r,a){r=nt(r);var c=this;return c.__filtered__&&(r>0||a<0)?new ut(c):(r<0?c=c.takeRight(-r):r&&(c=c.drop(r)),a!==e&&(a=nt(a),c=a<0?c.dropRight(-a):c.take(a-r)),c)},ut.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},ut.prototype.toArray=function(){return this.take(Dt)},xn(ut.prototype,function(r,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),p=/^(?:head|last)$/.test(a),m=v[p?"take"+(a=="last"?"Right":""):a],y=p||/^find/.test(a);m&&(v.prototype[a]=function(){var k=this.__wrapped__,_=p?[1]:arguments,T=k instanceof ut,$=_[0],D=T||et(k),L=function(st){var pt=m.apply(v,rr([st],_));return p&&B?pt[0]:pt};D&&c&&typeof $=="function"&&$.length!=1&&(T=D=!1);var B=this.__chain__,V=!!this.__actions__.length,Y=y&&!B,rt=T&&!V;if(!y&&D){k=rt?k:new ut(this);var Z=r.apply(k,_);return Z.__actions__.push({func:ra,args:[L],thisArg:e}),new We(Z,B)}return Y&&rt?r.apply(this,_):(Z=this.thru(L),Y?p?Z.value()[0]:Z.value():Z)})}),qe(["pop","push","shift","sort","splice","unshift"],function(r){var a=Ai[r],c=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",p=/^(?:pop|shift)$/.test(r);v.prototype[r]=function(){var m=arguments;if(p&&!this.__chain__){var y=this.value();return a.apply(et(y)?y:[],m)}return this[c](function(k){return a.apply(et(k)?k:[],m)})}}),xn(ut.prototype,function(r,a){var c=v[a];if(c){var p=c.name+"";wt.call(ao,p)||(ao[p]=[]),ao[p].push({name:a,func:c})}}),ao[Yi(e,z).name]=[{name:"wrapper",func:e}],ut.prototype.clone=Ug,ut.prototype.reverse=Jg,ut.prototype.value=Gg,v.prototype.at=My,v.prototype.chain=Sy,v.prototype.commit=Cy,v.prototype.next=Ty,v.prototype.plant=Ay,v.prototype.reverse=Ey,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=Iy,v.prototype.first=v.prototype.head,Ro&&(v.prototype[Ro]=Oy),v},ro=Cg();Sr?((Sr.exports=ro)._=ro,rs._=ro):ne._=ro}).call(Qo)})(La,La.exports);La.exports;class JC{constructor(){ak(this,"images"),this.images={}}getImage(t){return t.length&&this.images[t]||!1}async loadImage(t){return new Promise((e,o)=>{const i=new Image;i.onload=()=>{typeof window<"u"&&(this.images[t]={image:i,width:i.naturalWidth,height:i.naturalHeight}),e({image:i,width:i.naturalWidth,height:i.naturalHeight})},i.onerror=s=>{o(s)},i.src=t})}}const Ou=new JC,GC=["src"],YC=Pe({__name:"UiImage",props:{...Sd,preview:{type:String,default:""},origin:{type:String,default:""},lazy:{type:Boolean,default:!0},swiperLazy:{type:Boolean,default:!1},objectFit:{type:String,default:"cover",validator:n=>["contain","cover","fill","none","scale-down"].includes(n)},transition:{type:String,default:"fade",validator:n=>["fade","zoom-in","zoom-out"].includes(n)}},emits:["origin-loaded","preview-loaded"],setup(n,{emit:t}){const e=n,o=xd(),i=Lw();let s=null;const u=On(null),l=Math.floor(Math.random()*1e6),f=On(!1),h=On(!1),d=On(!!Ou.getImage(e.origin));function g(){if(window.UiLazyObserver)return window.UiLazyObserver;const x={rootMargin:"0px",threshold:.1},P=j=>{j.forEach(U=>{const{isIntersecting:it,target:mt}=U;it&&window.UiLazyObserver&&Object.values(window.UiLazyObserver.actions).forEach(Q=>{Q(mt)})})};return window.UiLazyObserver={object:new IntersectionObserver(P,x),actions:{}},window.UiLazyObserver}function b(){if(!e.lazy||!s||!u.value)return!1;delete s.actions[l],s.object.unobserve(u.value),Object.keys(s.actions).length||(s.object.disconnect(),window.UiLazyObserver=null)}async function w(){if(!o["preview-loaded"])return!1;try{await Ou.loadImage(e.preview),t("preview-loaded")}catch(x){console.error("UI_IMAGE:LOAD_PREVIEW",x)}}async function C(x){try{const P=x.isEqualNode(u.value);if(h.value||f.value||!P)return!1;h.value=!0,await Ou.loadImage(e.origin),f.value=!0,o["origin-loaded"]&&t("origin-loaded")}catch(P){console.error("UI_IMAGE:LOAD_IMAGE",P)}}function S(){if(!e.lazy||d.value||(s=g(),!s))return!1;s.actions[l]=C,u.value&&s.object.observe(u.value),w()}Ra(()=>{S()}),_d(()=>{b()});const{getClassName:A}=Cd(e),z=Ht(()=>[`--object-fit-${e.objectFit}`,`--transition-${e.transition}`,{"--has-preview":!!e.preview||!!i.preview,"--loaded":f.value}]),N=Ht(()=>({...o,...!e.swiperLazy&&{src:e.origin},...e.swiperLazy&&{"data-src":e.origin}})),R=Ht(()=>[{"swiper-lazy":e.swiperLazy}]);return(x,P)=>(Tt(),Zt("div",{ref_key:"el",ref:u,class:kt([Mt(A)("Image"),z.value])},[Xt("div",{class:kt(Mt(A)("Image__wrapper"))},[x.$slots.preview?(Tt(),Zt("div",{key:0,class:kt(Mt(A)("Image__preview"))},[ja(x.$slots,"preview")],2)):n.preview?(Tt(),Zt("img",xa({key:1,src:n.preview},x.$attrs,{draggable:"false",alt:"",class:Mt(A)("Image__preview")}),null,16,GC)):dr("",!0),ln(Md,{name:d.value?"none":"ui-image",mode:"out-in"},{default:Yn(()=>[!n.lazy||n.lazy&&f.value||d.value?(Tt(),Zt("img",xa({key:0},N.value,{draggable:"false",alt:"",class:[Mt(A)("Image__origin"),R.value]}),null,16)):dr("",!0)]),_:1},8,["name"])],2)],2))}});var Kh={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},_c={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},ZC=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],za={CSS:{},springs:{}};function En(n,t,e){return Math.min(Math.max(n,t),e)}function li(n,t){return n.indexOf(t)>-1}function Au(n,t){return n.apply(null,t)}var W={arr:function(n){return Array.isArray(n)},obj:function(n){return li(Object.prototype.toString.call(n),"Object")},pth:function(n){return W.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||W.svg(n)},str:function(n){return typeof n=="string"},fnc:function(n){return typeof n=="function"},und:function(n){return typeof n>"u"},nil:function(n){return W.und(n)||n===null},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return W.hex(n)||W.rgb(n)||W.hsl(n)},key:function(n){return!Kh.hasOwnProperty(n)&&!_c.hasOwnProperty(n)&&n!=="targets"&&n!=="keyframes"}};function Uh(n){var t=/\(([^)]+)\)/.exec(n);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function Jh(n,t){var e=Uh(n),o=En(W.und(e[0])?1:e[0],.1,100),i=En(W.und(e[1])?100:e[1],.1,100),s=En(W.und(e[2])?10:e[2],.1,100),u=En(W.und(e[3])?0:e[3],.1,100),l=Math.sqrt(i/o),f=s/(2*Math.sqrt(i*o)),h=f<1?l*Math.sqrt(1-f*f):0,d=1,g=f<1?(f*l+-u)/h:-u+l;function b(C){var S=t?t*C/1e3:C;return f<1?S=Math.exp(-S*f*l)*(d*Math.cos(h*S)+g*Math.sin(h*S)):S=(d+g*S)*Math.exp(-S*l),C===0||C===1?C:1-S}function w(){var C=za.springs[n];if(C)return C;for(var S=1/6,A=0,z=0;;)if(A+=S,b(A)===1){if(z++,z>=16)break}else z=0;var N=A*S*1e3;return za.springs[n]=N,N}return t?b:w}function XC(n){return n===void 0&&(n=10),function(t){return Math.ceil(En(t,1e-6,1)*n)*(1/n)}}var QC=function(){var n=11,t=1/(n-1);function e(d,g){return 1-3*g+3*d}function o(d,g){return 3*g-6*d}function i(d){return 3*d}function s(d,g,b){return((e(g,b)*d+o(g,b))*d+i(g))*d}function u(d,g,b){return 3*e(g,b)*d*d+2*o(g,b)*d+i(g)}function l(d,g,b,w,C){var S,A,z=0;do A=g+(b-g)/2,S=s(A,w,C)-d,S>0?b=A:g=A;while(Math.abs(S)>1e-7&&++z<10);return A}function f(d,g,b,w){for(var C=0;C<4;++C){var S=u(g,b,w);if(S===0)return g;var A=s(g,b,w)-d;g-=A/S}return g}function h(d,g,b,w){if(!(0<=d&&d<=1&&0<=b&&b<=1))return;var C=new Float32Array(n);if(d!==g||b!==w)for(var S=0;S<n;++S)C[S]=s(S*t,d,b);function A(z){for(var N=0,R=1,x=n-1;R!==x&&C[R]<=z;++R)N+=t;--R;var P=(z-C[R])/(C[R+1]-C[R]),j=N+P*t,U=u(j,d,b);return U>=.001?f(z,j,d,b):U===0?j:l(z,N,N+t,d,b)}return function(z){return d===g&&b===w||z===0||z===1?z:s(A(z),g,w)}}return h}(),Gh=function(){var n={linear:function(){return function(o){return o}}},t={Sine:function(){return function(o){return 1-Math.cos(o*Math.PI/2)}},Circ:function(){return function(o){return 1-Math.sqrt(1-o*o)}},Back:function(){return function(o){return o*o*(3*o-2)}},Bounce:function(){return function(o){for(var i,s=4;o<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-o,2)}},Elastic:function(o,i){o===void 0&&(o=1),i===void 0&&(i=.5);var s=En(o,1,10),u=En(i,.1,2);return function(l){return l===0||l===1?l:-s*Math.pow(2,10*(l-1))*Math.sin((l-1-u/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/u)}}},e=["Quad","Cubic","Quart","Quint","Expo"];return e.forEach(function(o,i){t[o]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(t).forEach(function(o){var i=t[o];n["easeIn"+o]=i,n["easeOut"+o]=function(s,u){return function(l){return 1-i(s,u)(1-l)}},n["easeInOut"+o]=function(s,u){return function(l){return l<.5?i(s,u)(l*2)/2:1-i(s,u)(l*-2+2)/2}},n["easeOutIn"+o]=function(s,u){return function(l){return l<.5?(1-i(s,u)(1-l*2))/2:(i(s,u)(l*2-1)+1)/2}}}),n}();function Mc(n,t){if(W.fnc(n))return n;var e=n.split("(")[0],o=Gh[e],i=Uh(n);switch(e){case"spring":return Jh(n,t);case"cubicBezier":return Au(QC,i);case"steps":return Au(XC,i);default:return Au(o,i)}}function Yh(n){try{var t=document.querySelectorAll(n);return t}catch{return}}function Ka(n,t){for(var e=n.length,o=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<e;s++)if(s in n){var u=n[s];t.call(o,u,s,n)&&i.push(u)}return i}function Ua(n){return n.reduce(function(t,e){return t.concat(W.arr(e)?Ua(e):e)},[])}function cd(n){return W.arr(n)?n:(W.str(n)&&(n=Yh(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function Sc(n,t){return n.some(function(e){return e===t})}function Cc(n){var t={};for(var e in n)t[e]=n[e];return t}function Ju(n,t){var e=Cc(n);for(var o in n)e[o]=t.hasOwnProperty(o)?t[o]:n[o];return e}function Ja(n,t){var e=Cc(n);for(var o in t)e[o]=W.und(n[o])?t[o]:n[o];return e}function tT(n){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);return t?"rgba("+t[1]+",1)":n}function eT(n){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,e=n.replace(t,function(l,f,h,d){return f+f+h+h+d+d}),o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),i=parseInt(o[1],16),s=parseInt(o[2],16),u=parseInt(o[3],16);return"rgba("+i+","+s+","+u+",1)"}function nT(n){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),e=parseInt(t[1],10)/360,o=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,s=t[4]||1;function u(b,w,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?b+(w-b)*6*C:C<1/2?w:C<2/3?b+(w-b)*(2/3-C)*6:b}var l,f,h;if(o==0)l=f=h=i;else{var d=i<.5?i*(1+o):i+o-i*o,g=2*i-d;l=u(g,d,e+1/3),f=u(g,d,e),h=u(g,d,e-1/3)}return"rgba("+l*255+","+f*255+","+h*255+","+s+")"}function rT(n){if(W.rgb(n))return tT(n);if(W.hex(n))return eT(n);if(W.hsl(n))return nT(n)}function Zn(n){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(t)return t[1]}function oT(n){if(li(n,"translate")||n==="perspective")return"px";if(li(n,"rotate")||li(n,"skew"))return"deg"}function Gu(n,t){return W.fnc(n)?n(t.target,t.id,t.total):n}function In(n,t){return n.getAttribute(t)}function Tc(n,t,e){var o=Zn(t);if(Sc([e,"deg","rad","turn"],o))return t;var i=za.CSS[t+e];if(!W.und(i))return i;var s=100,u=document.createElement(n.tagName),l=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;l.appendChild(u),u.style.position="absolute",u.style.width=s+e;var f=s/u.offsetWidth;l.removeChild(u);var h=f*parseFloat(t);return za.CSS[t+e]=h,h}function Zh(n,t,e){if(t in n.style){var o=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=n.style[t]||getComputedStyle(n).getPropertyValue(o)||"0";return e?Tc(n,i,e):i}}function Oc(n,t){if(W.dom(n)&&!W.inp(n)&&(!W.nil(In(n,t))||W.svg(n)&&n[t]))return"attribute";if(W.dom(n)&&Sc(ZC,t))return"transform";if(W.dom(n)&&t!=="transform"&&Zh(n,t))return"css";if(n[t]!=null)return"object"}function Xh(n){if(W.dom(n)){for(var t=n.style.transform||"",e=/(\w+)\(([^)]*)\)/g,o=new Map,i;i=e.exec(t);)o.set(i[1],i[2]);return o}}function iT(n,t,e,o){var i=li(t,"scale")?1:0+oT(t),s=Xh(n).get(t)||i;return e&&(e.transforms.list.set(t,s),e.transforms.last=t),o?Tc(n,s,o):s}function Ac(n,t,e,o){switch(Oc(n,t)){case"transform":return iT(n,t,o,e);case"css":return Zh(n,t,e);case"attribute":return In(n,t);default:return n[t]||0}}function Ec(n,t){var e=/^(\*=|\+=|-=)/.exec(n);if(!e)return n;var o=Zn(n)||0,i=parseFloat(t),s=parseFloat(n.replace(e[0],""));switch(e[0][0]){case"+":return i+s+o;case"-":return i-s+o;case"*":return i*s+o}}function Qh(n,t){if(W.col(n))return rT(n);if(/\s/g.test(n))return n;var e=Zn(n),o=e?n.substr(0,n.length-e.length):n;return t?o+t:o}function Ic(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function aT(n){return Math.PI*2*In(n,"r")}function sT(n){return In(n,"width")*2+In(n,"height")*2}function uT(n){return Ic({x:In(n,"x1"),y:In(n,"y1")},{x:In(n,"x2"),y:In(n,"y2")})}function tm(n){for(var t=n.points,e=0,o,i=0;i<t.numberOfItems;i++){var s=t.getItem(i);i>0&&(e+=Ic(o,s)),o=s}return e}function cT(n){var t=n.points;return tm(n)+Ic(t.getItem(t.numberOfItems-1),t.getItem(0))}function em(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return aT(n);case"rect":return sT(n);case"line":return uT(n);case"polyline":return tm(n);case"polygon":return cT(n)}}function lT(n){var t=em(n);return n.setAttribute("stroke-dasharray",t),t}function fT(n){for(var t=n.parentNode;W.svg(t)&&W.svg(t.parentNode);)t=t.parentNode;return t}function nm(n,t){var e=t||{},o=e.el||fT(n),i=o.getBoundingClientRect(),s=In(o,"viewBox"),u=i.width,l=i.height,f=e.viewBox||(s?s.split(" "):[0,0,u,l]);return{el:o,viewBox:f,x:f[0]/1,y:f[1]/1,w:u,h:l,vW:f[2],vH:f[3]}}function pT(n,t){var e=W.str(n)?Yh(n)[0]:n,o=t||100;return function(i){return{property:i,el:e,svg:nm(e),totalLength:em(e)*(o/100)}}}function dT(n,t,e){function o(d){d===void 0&&(d=0);var g=t+d>=1?t+d:0;return n.el.getPointAtLength(g)}var i=nm(n.el,n.svg),s=o(),u=o(-1),l=o(1),f=e?1:i.w/i.vW,h=e?1:i.h/i.vH;switch(n.property){case"x":return(s.x-i.x)*f;case"y":return(s.y-i.y)*h;case"angle":return Math.atan2(l.y-u.y,l.x-u.x)*180/Math.PI}}function ld(n,t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,o=Qh(W.pth(n)?n.totalLength:n,t)+"";return{original:o,numbers:o.match(e)?o.match(e).map(Number):[0],strings:W.str(n)||t?o.split(e):[]}}function $c(n){var t=n?Ua(W.arr(n)?n.map(cd):cd(n)):[];return Ka(t,function(e,o,i){return i.indexOf(e)===o})}function rm(n){var t=$c(n);return t.map(function(e,o){return{target:e,id:o,total:t.length,transforms:{list:Xh(e)}}})}function hT(n,t){var e=Cc(t);if(/^spring/.test(e.easing)&&(e.duration=Jh(e.easing)),W.arr(n)){var o=n.length,i=o===2&&!W.obj(n[0]);i?n={value:n}:W.fnc(t.duration)||(e.duration=t.duration/o)}var s=W.arr(n)?n:[n];return s.map(function(u,l){var f=W.obj(u)&&!W.pth(u)?u:{value:u};return W.und(f.delay)&&(f.delay=l?0:t.delay),W.und(f.endDelay)&&(f.endDelay=l===s.length-1?t.endDelay:0),f}).map(function(u){return Ja(u,e)})}function mT(n){for(var t=Ka(Ua(n.map(function(s){return Object.keys(s)})),function(s){return W.key(s)}).reduce(function(s,u){return s.indexOf(u)<0&&s.push(u),s},[]),e={},o=function(s){var u=t[s];e[u]=n.map(function(l){var f={};for(var h in l)W.key(h)?h==u&&(f.value=l[h]):f[h]=l[h];return f})},i=0;i<t.length;i++)o(i);return e}function gT(n,t){var e=[],o=t.keyframes;o&&(t=Ja(mT(o),t));for(var i in t)W.key(i)&&e.push({name:i,tweens:hT(t[i],n)});return e}function vT(n,t){var e={};for(var o in n){var i=Gu(n[o],t);W.arr(i)&&(i=i.map(function(s){return Gu(s,t)}),i.length===1&&(i=i[0])),e[o]=i}return e.duration=parseFloat(e.duration),e.delay=parseFloat(e.delay),e}function yT(n,t){var e;return n.tweens.map(function(o){var i=vT(o,t),s=i.value,u=W.arr(s)?s[1]:s,l=Zn(u),f=Ac(t.target,n.name,l,t),h=e?e.to.original:f,d=W.arr(s)?s[0]:h,g=Zn(d)||Zn(f),b=l||g;return W.und(u)&&(u=h),i.from=ld(d,b),i.to=ld(Ec(u,d),b),i.start=e?e.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=Mc(i.easing,i.duration),i.isPath=W.pth(s),i.isPathTargetInsideSVG=i.isPath&&W.svg(t.target),i.isColor=W.col(i.from.original),i.isColor&&(i.round=1),e=i,i})}var om={css:function(n,t,e){return n.style[t]=e},attribute:function(n,t,e){return n.setAttribute(t,e)},object:function(n,t,e){return n[t]=e},transform:function(n,t,e,o,i){if(o.list.set(t,e),t===o.last||i){var s="";o.list.forEach(function(u,l){s+=l+"("+u+") "}),n.style.transform=s}}};function im(n,t){var e=rm(n);e.forEach(function(o){for(var i in t){var s=Gu(t[i],o),u=o.target,l=Zn(s),f=Ac(u,i,l,o),h=l||Zn(f),d=Ec(Qh(s,h),f),g=Oc(u,i);om[g](u,i,d,o.transforms,!0)}})}function bT(n,t){var e=Oc(n.target,t.name);if(e){var o=yT(t,n),i=o[o.length-1];return{type:e,property:t.name,animatable:n,tweens:o,duration:i.end,delay:o[0].delay,endDelay:i.endDelay}}}function wT(n,t){return Ka(Ua(n.map(function(e){return t.map(function(o){return bT(e,o)})})),function(e){return!W.und(e)})}function am(n,t){var e=n.length,o=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=e?Math.max.apply(Math,n.map(function(s){return o(s)+s.duration})):t.duration,i.delay=e?Math.min.apply(Math,n.map(function(s){return o(s)+s.delay})):t.delay,i.endDelay=e?i.duration-Math.max.apply(Math,n.map(function(s){return o(s)+s.duration-s.endDelay})):t.endDelay,i}var fd=0;function kT(n){var t=Ju(Kh,n),e=Ju(_c,n),o=gT(e,n),i=rm(n.targets),s=wT(i,o),u=am(s,e),l=fd;return fd++,Ja(t,{id:l,children:[],animatables:i,animations:s,duration:u.duration,delay:u.delay,endDelay:u.endDelay})}var pn=[],sm=function(){var n;function t(){!n&&(!pd()||!Rt.suspendWhenDocumentHidden)&&pn.length>0&&(n=requestAnimationFrame(e))}function e(i){for(var s=pn.length,u=0;u<s;){var l=pn[u];l.paused?(pn.splice(u,1),s--):(l.tick(i),u++)}n=u>0?requestAnimationFrame(e):void 0}function o(){Rt.suspendWhenDocumentHidden&&(pd()?n=cancelAnimationFrame(n):(pn.forEach(function(i){return i._onDocumentVisibility()}),sm()))}return typeof document<"u"&&document.addEventListener("visibilitychange",o),t}();function pd(){return!!document&&document.hidden}function Rt(n){n===void 0&&(n={});var t=0,e=0,o=0,i,s=0,u=null;function l(N){var R=window.Promise&&new Promise(function(x){return u=x});return N.finished=R,R}var f=kT(n);l(f);function h(){var N=f.direction;N!=="alternate"&&(f.direction=N!=="normal"?"normal":"reverse"),f.reversed=!f.reversed,i.forEach(function(R){return R.reversed=f.reversed})}function d(N){return f.reversed?f.duration-N:N}function g(){t=0,e=d(f.currentTime)*(1/Rt.speed)}function b(N,R){R&&R.seek(N-R.timelineOffset)}function w(N){if(f.reversePlayback)for(var R=s;R--;)b(N,i[R]);else for(var x=0;x<s;x++)b(N,i[x])}function C(N){for(var R=0,x=f.animations,P=x.length;R<P;){var j=x[R],U=j.animatable,it=j.tweens,mt=it.length-1,Q=it[mt];mt&&(Q=Ka(it,function(de){return N<de.end})[0]||Q);for(var xt=En(N-Q.start-Q.delay,0,Q.duration)/Q.duration,bt=isNaN(xt)?1:Q.easing(xt),at=Q.to.strings,jt=Q.round,Ft=[],Bt=Q.to.numbers.length,gt=void 0,ht=0;ht<Bt;ht++){var Ut=void 0,Jt=Q.to.numbers[ht],Dt=Q.from.numbers[ht]||0;Q.isPath?Ut=dT(Q.value,bt*Jt,Q.isPathTargetInsideSVG):Ut=Dt+bt*(Jt-Dt),jt&&(Q.isColor&&ht>2||(Ut=Math.round(Ut*jt)/jt)),Ft.push(Ut)}var le=at.length;if(!le)gt=Ft[0];else{gt=at[0];for(var fe=0;fe<le;fe++){at[fe];var pe=at[fe+1],At=Ft[fe];isNaN(At)||(pe?gt+=At+pe:gt+=At+" ")}}om[j.type](U.target,j.property,gt,U.transforms),j.currentValue=gt,R++}}function S(N){f[N]&&!f.passThrough&&f[N](f)}function A(){f.remaining&&f.remaining!==!0&&f.remaining--}function z(N){var R=f.duration,x=f.delay,P=R-f.endDelay,j=d(N);f.progress=En(j/R*100,0,100),f.reversePlayback=j<f.currentTime,i&&w(j),!f.began&&f.currentTime>0&&(f.began=!0,S("begin")),!f.loopBegan&&f.currentTime>0&&(f.loopBegan=!0,S("loopBegin")),j<=x&&f.currentTime!==0&&C(0),(j>=P&&f.currentTime!==R||!R)&&C(R),j>x&&j<P?(f.changeBegan||(f.changeBegan=!0,f.changeCompleted=!1,S("changeBegin")),S("change"),C(j)):f.changeBegan&&(f.changeCompleted=!0,f.changeBegan=!1,S("changeComplete")),f.currentTime=En(j,0,R),f.began&&S("update"),N>=R&&(e=0,A(),f.remaining?(t=o,S("loopComplete"),f.loopBegan=!1,f.direction==="alternate"&&h()):(f.paused=!0,f.completed||(f.completed=!0,S("loopComplete"),S("complete"),!f.passThrough&&"Promise"in window&&(u(),l(f)))))}return f.reset=function(){var N=f.direction;f.passThrough=!1,f.currentTime=0,f.progress=0,f.paused=!0,f.began=!1,f.loopBegan=!1,f.changeBegan=!1,f.completed=!1,f.changeCompleted=!1,f.reversePlayback=!1,f.reversed=N==="reverse",f.remaining=f.loop,i=f.children,s=i.length;for(var R=s;R--;)f.children[R].reset();(f.reversed&&f.loop!==!0||N==="alternate"&&f.loop===1)&&f.remaining++,C(f.reversed?f.duration:0)},f._onDocumentVisibility=g,f.set=function(N,R){return im(N,R),f},f.tick=function(N){o=N,t||(t=o),z((o+(e-t))*Rt.speed)},f.seek=function(N){z(d(N))},f.pause=function(){f.paused=!0,g()},f.play=function(){f.paused&&(f.completed&&f.reset(),f.paused=!1,pn.push(f),g(),sm())},f.reverse=function(){h(),f.completed=!f.reversed,g()},f.restart=function(){f.reset(),f.play()},f.remove=function(N){var R=$c(N);um(R,f)},f.reset(),f.autoplay&&f.play(),f}function dd(n,t){for(var e=t.length;e--;)Sc(n,t[e].animatable.target)&&t.splice(e,1)}function um(n,t){var e=t.animations,o=t.children;dd(n,e);for(var i=o.length;i--;){var s=o[i],u=s.animations;dd(n,u),!u.length&&!s.children.length&&o.splice(i,1)}!e.length&&!o.length&&t.pause()}function xT(n){for(var t=$c(n),e=pn.length;e--;){var o=pn[e];um(t,o)}}function _T(n,t){t===void 0&&(t={});var e=t.direction||"normal",o=t.easing?Mc(t.easing):null,i=t.grid,s=t.axis,u=t.from||0,l=u==="first",f=u==="center",h=u==="last",d=W.arr(n),g=parseFloat(d?n[0]:n),b=d?parseFloat(n[1]):0,w=Zn(d?n[1]:n)||0,C=t.start||0+(d?g:0),S=[],A=0;return function(z,N,R){if(l&&(u=0),f&&(u=(R-1)/2),h&&(u=R-1),!S.length){for(var x=0;x<R;x++){if(!i)S.push(Math.abs(u-x));else{var P=f?(i[0]-1)/2:u%i[0],j=f?(i[1]-1)/2:Math.floor(u/i[0]),U=x%i[0],it=Math.floor(x/i[0]),mt=P-U,Q=j-it,xt=Math.sqrt(mt*mt+Q*Q);s==="x"&&(xt=-mt),s==="y"&&(xt=-Q),S.push(xt)}A=Math.max.apply(Math,S)}o&&(S=S.map(function(at){return o(at/A)*A})),e==="reverse"&&(S=S.map(function(at){return s?at<0?at*-1:-at:Math.abs(A-at)}))}var bt=d?(b-g)/A:g;return C+bt*(Math.round(S[N]*100)/100)+w}}function MT(n){n===void 0&&(n={});var t=Rt(n);return t.duration=0,t.add=function(e,o){var i=pn.indexOf(t),s=t.children;i>-1&&pn.splice(i,1);function u(b){b.passThrough=!0}for(var l=0;l<s.length;l++)u(s[l]);var f=Ja(e,Ju(_c,n));f.targets=f.targets||n.targets;var h=t.duration;f.autoplay=!1,f.direction=t.direction,f.timelineOffset=W.und(o)?h:Ec(o,h),u(t),t.seek(f.timelineOffset);var d=Rt(f);u(d),s.push(d);var g=am(s,n);return t.delay=g.delay,t.endDelay=g.endDelay,t.duration=g.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}Rt.version="3.2.1";Rt.speed=1;Rt.suspendWhenDocumentHidden=!0;Rt.running=pn;Rt.remove=xT;Rt.get=Ac;Rt.set=im;Rt.convertPx=Tc;Rt.path=pT;Rt.setDashoffset=lT;Rt.stagger=_T;Rt.timeline=MT;Rt.easing=Mc;Rt.penner=Gh;Rt.random=function(n,t){return Math.floor(Math.random()*(t-n+1))+n};const ST=Pe({__name:"UiButton",props:{color:{type:String,default:"black-20"},size:{type:String,default:"medium"},rounded:{type:Boolean,default:!0},icon:{type:Boolean,default:!0}},setup(n){return(t,e)=>(Tt(),Vr(Mt(vk),xa(t.$attrs,{color:n.color,rounded:n.rounded,icon:n.icon,size:n.size}),{default:Yn(()=>[ja(t.$slots,"default")]),_:3},16,["color","rounded","icon","size"]))}});const CT=Pe({__name:"UiImage",props:{hasPreview:{type:Boolean,default:!0},src:{type:String,default:""}},setup(n){const t=n,e=Ht(()=>({origin:t.src}));return(o,i)=>(Tt(),Vr(Mt(YC),bd(wd({...o.$attrs,...Mt(e)})),zw({_:2},[n.hasPreview?{name:"preview",fn:Yn(()=>[]),key:"0"}:void 0]),1040))}});const TT=n=>n<10?`0${n}`:n,OT={class:"DefaultTapeItem"},AT={key:0},ET=Pe({__name:"DefaultTapeItem",props:{title:{type:String,default:""},text:{type:String,default:""},src:{type:String,default:""},index:{type:Number,default:0}},setup(n){return(t,e)=>{const o=CT;return Tt(),Zt("div",OT,[Xt("div",{class:kt(t.$style.wrapper)},[Xt("div",{class:kt(t.$style.top)},[n.title||n.text?(Tt(),Zt("div",AT,[n.title?(Tt(),Zt("h5",{key:0,class:kt(t.$style.title)},ni(n.title),3)):dr("",!0),n.text?(Tt(),Zt("div",{key:1,class:kt(t.$style.text)},ni(n.text),3)):dr("",!0)])):dr("",!0),Xt("div",{class:kt(t.$style.index)},ni(Mt(TT)(n.index+1)),3)],2),Xt("div",{class:kt(t.$style.imageWrapper)},[ln(o,{src:n.src,class:kt(t.$style.image)},null,8,["src","class"])],2)],2)])}}}),IT="_wrapper_99jq1_4",$T="_top_99jq1_12",NT="_title_99jq1_20",DT="_text_99jq1_28",LT="_index_99jq1_34",zT="_imageWrapper_99jq1_42",RT="_image_99jq1_42",jT={wrapper:IT,top:$T,title:NT,text:DT,index:LT,imageWrapper:zT,image:RT},BT={$style:jT},PT=Oo(ET,[["__cssModules",BT]]),HT={class:"DefaultTape"},FT=["data-id"],qT=Pe({__name:"DefaultTape",props:{slides:{type:Array,default:()=>[]},value:{type:String,required:!0}},setup(n){const t=n,e=On(),o=On([]),i=On(0);let s;function u(h){const d=o.value.find(g=>g.dataset.id===h);if(!d)return!1;i.value=d.offsetTop*-1}gd(()=>t.value,h=>{u(h)});function l(){if(!e.value)return!1;s=new ResizeObserver(()=>u(t.value)),s.observe(e.value)}const f=Ht(()=>[{transform:`translateY(calc(${i.value}px + var(--container-padding)))`}]);return Ra(()=>{l(),u(t.value)}),Rw(()=>{s&&s.disconnect()}),(h,d)=>{const g=PT;return Tt(),Zt("main",HT,[Xt("div",{class:kt(h.$style.wrapper)},[Xt("div",{ref_key:"containerRef",ref:e,style:Yu(Mt(f)),class:kt(h.$style.container)},[(Tt(!0),Zt(vd,null,yd(n.slides,(b,w)=>(Tt(),Zt("div",{ref_for:!0,ref_key:"itemRefs",ref:o,key:w,"data-id":b.path,class:kt(h.$style.item)},[ln(g,{index:w,title:b.title,text:b.text,src:b.src},null,8,["index","title","text","src"])],10,FT))),128))],6)],2)])}}}),VT="_wrapper_oi7vx_4",WT="_container_oi7vx_27",KT="_item_oi7vx_32",UT={wrapper:VT,container:WT,item:KT},JT={$style:UT},GT=Oo(qT,[["__cssModules",JT]]),vo=hd({key:0,data:null,open(n){this.key++,this.data=jw(n)},close(){this.data=null}}),YT={class:"DefaultMenu"},ZT=Xt("span",null,null,-1),XT=Xt("span",null,null,-1),QT=Xt("span",null,null,-1),tO=[ZT,XT,QT],eO=Pe({__name:"DefaultMenu",setup(n){function t(){vo.open(Bw(()=>Pw(()=>import("./DefaultMenuModal.18fbe59b.js"),["./DefaultMenuModal.18fbe59b.js","./entry.8d9d0832.js","./entry.97302476.css","./DefaultMenuModal.a0c368f0.css"],import.meta.url)))}return(e,o)=>(Tt(),Zt("section",YT,[Xt("div",{class:kt(e.$style.wrapper)},[Xt("div",{class:kt(e.$style.ham),onClick:t},tO,2)],2)]))}}),nO="_wrapper_1p4wf_4",rO="_ham_1p4wf_10",oO={wrapper:nO,ham:rO},iO={$style:oO},aO=Oo(eO,[["__cssModules",iO]]),sO={class:"DefaultModal"},uO=Pe({__name:"DefaultModal",setup(n){return(t,e)=>(Tt(),Zt("div",sO,[ln(Md,{name:"modal",mode:"out-in"},{default:Yn(()=>[Mt(vo).data?(Tt(),Zt("div",{key:0,class:kt(t.$style.wrapper),onClick:e[0]||(e[0]=Hw((...o)=>Mt(vo).close&&Mt(vo).close(...o),["self"]))},[(Tt(),Vr(kd(Mt(vo).data),{onClose:Mt(vo).close},null,40,["onClose"]))],2)):dr("",!0)]),_:1})]))}}),cO="_wrapper_mbg9d_4",lO={wrapper:cO},fO={$style:lO},pO=Oo(uO,[["__cssModules",fO]]),dO=Xt("br",null,null,-1),hO=Pe({__name:"default",setup(n){const t=md(),e=Ht(()=>[{"--default-background":`var(--ui-${String(t.name)}-color)`}]),{$routes:o}=Fw(),i=[{name:"Purple",title:"Dreamy Flowers",text:"Behance: Omar Aqil",src:"/portfolio_gallery/slides/slide_1-min.png",path:o.purple},{name:"Iceberg",title:"LUMI",text:"Lumi by Roli",src:"/portfolio_gallery/slides/slide_2-min.png",path:o.iceberg},{name:"Polished Pine",title:"LUMI",text:"Lumi by Roli",src:"/portfolio_gallery/slides/slide_3-min.png",path:o.polishedPine},{name:"Spanish Gray",title:"Type Balance",text:"Antian Lmeri",src:"/portfolio_gallery/slides/slide_4-min.png",path:o.spanishGray},{name:"Antique Brass",title:"Type 2021 Edition",text:"Get it Studio",src:"/portfolio_gallery/slides/slide_5-min.png",path:o.antiqueBrass},{name:"Cornflower Blue",title:"Compositions III",text:"Phillip Luck",src:"/portfolio_gallery/slides/slide_6-min.png",path:o.cornflowerBlue}],s=Ht(()=>i.findIndex(w=>t.path.includes(w.path))),u=Ht(()=>i[s.value]),l=Ht(()=>s.value===0?i[i.length-1].path:i[s.value-1].path),f=Ht(()=>s.value===i.length-1?i[0].path:i[s.value+1].path);let h=!1;function d(w){if(w.preventDefault(),h)return!1;h=!0,setTimeout(()=>{h=!1},1200),w.deltaY<0?ap(l.value):ap(f.value)}function g(){window.addEventListener("wheel",d,{passive:!1})}function b(){window.removeEventListener("wheel",d)}return Ra(()=>{g()}),_d(()=>{b()}),(w,C)=>{const S=Uw,A=Jw,z=nk,N=rk,R=ST,x=GT,P=aO;return Tt(),Zt("div",{style:Yu(Mt(e)),class:kt(w.$style.DefaultLayout)},[Mt(u)&&Mt(u).name?(Tt(),Vr(A,{key:0},{default:Yn(()=>[ln(S,null,{default:Yn(()=>[va(" Color "+ni(Mt(u).name)+" | Gallery ",1)]),_:1})]),_:1})):dr("",!0),ln(pO,{class:kt(w.$style.modal)},null,8,["class"]),ln(z,{list:i,class:kt(w.$style.aside)},null,8,["class"]),Xt("div",{class:kt(w.$style.page)},[ja(w.$slots,"default"),Xt("footer",{class:kt(w.$style.footer)},[va(" Designed by "),dO,va(" Insta: Basit.designs "),ln(R,{to:Mt(f),class:kt(w.$style.button)},{default:Yn(()=>[ln(N,{name:"ui/arrow"})]),_:1},8,["to","class"])],2)],2),Mt(u)&&Mt(u).path&&i?(Tt(),Vr(x,{key:1,value:Mt(u).path,slides:i,class:kt(w.$style.tape)},null,8,["value","class"])):dr("",!0),ln(P,{class:kt(w.$style.menu)},null,8,["class"])],6)}}}),mO="_DefaultLayout_11es6_4",gO="_modal_11es6_14",vO="_aside_11es6_24",yO="_page_11es6_32",bO="_footer_11es6_41",wO="_button_11es6_49",kO="_tape_11es6_53",xO="_menu_11es6_58",_O={DefaultLayout:mO,modal:gO,aside:vO,page:yO,footer:bO,button:wO,tape:kO,menu:xO},MO={$style:_O},OO=Oo(hO,[["__cssModules",MO]]);export{OO as default};
